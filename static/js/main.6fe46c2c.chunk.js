(this.webpackJsonpfinal_project=this.webpackJsonpfinal_project||[]).push([[0],{104:function(e,t,a){e.exports=a.p+"static/media/first_logo.4c4417d4.png"},114:function(e,t){},115:function(e,t,a){},121:function(e,t,a){},140:function(e,t,a){e.exports=a(235)},145:function(e,t,a){},162:function(e,t,a){},167:function(e,t){},168:function(e,t){},169:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},187:function(e,t,a){},189:function(e,t,a){e.exports=a.p+"static/media/ACL.b8e24ffb.jpg"},190:function(e,t,a){e.exports=a.p+"static/media/REVERSETSR.fd7b932b.jpg"},191:function(e,t,a){e.exports=a.p+"static/media/Hip.b1fa9622.png"},192:function(e,t,a){e.exports=a.p+"static/media/Ankle.717456b8.jpg"},193:function(e,t,a){e.exports=a.p+"static/media/Elbow.986fd0d7.jpg"},194:function(e,t,a){e.exports=a.p+"static/media/Back.b7b8521b.jpg"},195:function(e,t,a){e.exports=a.p+"static/media/Neck.363fa28f.jpg"},196:function(e,t,a){},197:function(e,t,a){e.exports=a.p+"static/media/INSTRUCTIONS.a467ee60.PNG"},209:function(e,t,a){},226:function(e,t){},227:function(e,t){},228:function(e,t){},229:function(e,t){},230:function(e,t){},231:function(e,t,a){},232:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),n=a(25),o=a.n(n),i=(a(145),a(9)),l=a(10),c=a(12),p=a(11),u=a(40),h=a(22),m=a(5),d=a.n(m),f=a(15),g=a(4);var b=function(){return r.a.createElement("img",{src:a(104),style:{height:"25vmin",marginleft:"center",marginRight:"center"},alt:"logo"})},E=a(14),v=a.n(E),y=a(27),w=(s.Component,function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup_inner"},r.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),r.a.createElement("h4",null,":\u05d0\u05e0\u05d0 \u05d1\u05d7\u05e8 \u05de\u05d1\u05d9\u05df \u05d4\u05e8\u05e9\u05d5\u05de\u05d5\u05ea \u05d4\u05d1\u05d0\u05d5\u05ea"),this.props.text))}}]),a}(r.a.Component)),D=a(13),N=(a(162),a(23)),S=a(122),k=a(95),x=(a(169),function(e){var t=e.csvData,a=e.fileName;return r.a.createElement("button",{className:"b",onClick:function(e){return function(e,t){var a={Sheets:{data:k.utils.json_to_sheet(e)},SheetNames:["data"]},s=k.write(a,{bookType:"xlsx",type:"array"}),r=new Blob([s],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});S.saveAs(r,t+".xlsx")}(t,a)}},"\u05d9\u05e6\u05d0 \u05dc\u05d0\u05e7\u05e1\u05dc")}),I=function(e){Object(c.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this)).state={steps:e.steps,distance:e.distance,calories:e.calories,weather:e.weather,sleep:e.sleep,dataArr:e.dataArr,table:[],exportCSV:[]},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,r=t.type,n=t.checked;"checkbox"===r?this.setState(Object(D.a)({},a,n)):this.setState(Object(D.a)({},a,s))}},{key:"render",value:function(){if(a(63),this.props.ready){var e,t=!0;for(e=0;e<this.props.dataArr.length;e++)this.props.dataArr[e].values.length>0&&(t=!1);if(t)t=!0;else{var s,n,o={},i=!1,l=[];if(this.props.weekly){var c=new Date(this.props.date).getDay(),p=new Date(this.props.date-864e5*c),u=new Date(p.getTime()+5184e5);n=p.toLocaleDateString("en-GB",{day:"numeric"})+"-"+u.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}this.props.monthly&&(n=new Date(this.props.date).toLocaleDateString("en-GB",{month:"short"}));var h={before:{"\u05e6\u05e2\u05d3\u05d9\u05dd":{},"\u05de\u05e8\u05d7\u05e7":{},"\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea":{},weather:{},light:{},deep:{},total:{}},after:{"\u05e6\u05e2\u05d3\u05d9\u05dd":{},"\u05de\u05e8\u05d7\u05e7":{},"\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea":{},weather:{},light:{},deep:{},total:{}}};for(h.before["\u05e6\u05e2\u05d3\u05d9\u05dd"]={sum:0,counter:0},h.before["\u05de\u05e8\u05d7\u05e7"]={sum:0,counter:0},h.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]={sum:0,counter:0},h.before.weather={sum:0,counter:0},h.before.light={sum:0,counter:0},h.before.deep={sum:0,counter:0},h.before.total={sum:0,counter:0},h.after["\u05e6\u05e2\u05d3\u05d9\u05dd"]={sum:0,counter:0},h.after["\u05de\u05e8\u05d7\u05e7"]={sum:0,counter:0},h.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]={sum:0,counter:0},h.after.weather={sum:0,counter:0},h.after.light={sum:0,counter:0},h.after.deep={sum:0,counter:0},h.after.total={sum:0,counter:0},e=0;e<this.props.dataArr.length;e++)for(s=0;s<this.props.dataArr[e].values.length;s++)if(this.props.showDaily){var m=new Date(this.props.dataArr[e].values[s].ValidTime),d=m.toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-");if(null==o[d]&&(o[d]={},l.push(this.props.dataArr[e].values[s].ValidTime)),"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===this.props.dataArr[e].name){for(var f=0,g=0,b=0,E=0,v=0;v<this.props.dataArr[e].values[s].Data.length;v++){if(0===v)E=this.props.dataArr[e].values[s].Data[v].StartTime;else if(E===this.props.dataArr[e].values[s].Data[v].StartTime)break;var y=this.props.dataArr[e].values[s].Data[v].EndTime-this.props.dataArr[e].values[s].Data[v].StartTime;y/=36e5,"Light sleep"===this.props.dataArr[e].values[s].Data[v].State||"SLEEP_LIGHT"===this.props.dataArr[e].values[s].Data[v].State?g+=y:"Deep sleep"!==this.props.dataArr[e].values[s].Data[v].State&&"SLEEP_DEEP"!==this.props.dataArr[e].values[s].Data[v].State||(f+=y),b+=y}o[d]||(o[d]={}),o[d].light=g,o[d].deep=f,o[d].total=b;continue}o[d][this.props.dataArr[e].name]=this.props.dataArr[e].values[s]}else if(this.props.weekly){var w=(m=new Date(this.props.dataArr[e].values[s].ValidTime)).getDay(),D=new Date(this.props.dataArr[e].values[s].ValidTime-864e5*w),S=new Date(D.getTime()+5184e5);if(n===(d=D.toLocaleDateString("en-GB",{day:"numeric"})+"-"+S.toLocaleDateString("en-GB",{day:"numeric",month:"short"}))){if("\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===this.props.dataArr[e].name){var k=0,I=0,_=0,A=0;for(v=0;v<this.props.dataArr[e].values[s].Data.length;v++){if(0===v)A=this.props.dataArr[e].values[s].Data[v].StartTime;else if(A===this.props.dataArr[e].values[s].Data[v].StartTime)break;y=this.props.dataArr[e].values[s].Data[v].EndTime-this.props.dataArr[e].values[s].Data[v].StartTime,y/=36e5,"Light sleep"===this.props.dataArr[e].values[s].Data[v].State||"SLEEP_LIGHT"===this.props.dataArr[e].values[s].Data[v].State?I+=y:"Deep sleep"!==this.props.dataArr[e].values[s].Data[v].State&&"SLEEP_DEEP"!==this.props.dataArr[e].values[s].Data[v].State||(k+=y),_+=y}this.props.dataArr[e].values[s].ValidTime<this.props.date?(h.before.light.sum+=I,h.before.deep.sum+=k,h.before.total.sum+=_,h.before.light.counter++,h.before.deep.counter++,h.before.total.counter++):(h.after.light.sum+=I,h.after.deep.sum+=k,h.after.total.sum+=_,h.after.light.counter++,h.after.deep.counter++,h.after.total.counter++);continue}if(this.props.dataArr[e].values[s].ValidTime<this.props.date){if("\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"===this.props.dataArr[e].name){h.before.weather.sum+=this.props.dataArr[e].values[s].Data,h.before.weather.counter++;continue}h.before[this.props.dataArr[e].name].sum+=this.props.dataArr[e].values[s].Data,h.before[this.props.dataArr[e].name].counter++}else{if("\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"===this.props.dataArr[e].name){h.after.weather.sum+=this.props.dataArr[e].values[s].Data,h.after.weather.counter++;continue}h.after[this.props.dataArr[e].name].sum+=this.props.dataArr[e].values[s].Data,h.after[this.props.dataArr[e].name].counter++}i||(l.push(this.props.dataArr[e].values[s].ValidTime),i=!0);continue}if(null==o[d]&&(o[d]={},l.push(this.props.dataArr[e].values[s].ValidTime)),null==o[d][this.props.dataArr[e].name]&&(o[d][this.props.dataArr[e].name]={},o[d][this.props.dataArr[e].name].counter=0,o[d][this.props.dataArr[e].name].sum=0),"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===this.props.dataArr[e].name){var C=0,T=0,O=0,j=0;for(v=0;v<this.props.dataArr[e].values[s].Data.length;v++){if(0===v)j=this.props.dataArr[e].values[s].Data[v].StartTime;else if(j===this.props.dataArr[e].values[s].Data[v].StartTime)break;y=this.props.dataArr[e].values[s].Data[v].EndTime-this.props.dataArr[e].values[s].Data[v].StartTime,y/=36e5,"Light sleep"===this.props.dataArr[e].values[s].Data[v].State||"SLEEP_LIGHT"===this.props.dataArr[e].values[s].Data[v].State?T+=y:"Deep sleep"!==this.props.dataArr[e].values[s].Data[v].State&&"SLEEP_DEEP"!==this.props.dataArr[e].values[s].Data[v].State||(C+=y),O+=y}o[d]||(o[d]={}),o[d].total||(o[d].light={},o[d].deep={},o[d].total={},o[d].light.counter=0,o[d].deep.counter=0,o[d].total.counter=0,o[d].light.sum=0,o[d].deep.sum=0,o[d].total.sum=0),o[d].light.sum+=T,o[d].deep.sum+=C,o[d].total.sum+=O,o[d].light.counter++,o[d].deep.counter++,o[d].total.counter++;continue}o[d][this.props.dataArr[e].name].sum+=this.props.dataArr[e].values[s].Data,o[d][this.props.dataArr[e].name].counter++}else if(this.props.monthly){if(n===(d=(m=new Date(this.props.dataArr[e].values[s].ValidTime)).toLocaleDateString("en-GB",{month:"short"}))){if("\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===this.props.dataArr[e].name){var F=0,Q=0,L=0,P=0;for(v=0;v<this.props.dataArr[e].values[s].Data.length;v++){if(0===v)P=this.props.dataArr[e].values[s].Data[v].StartTime;else if(P===this.props.dataArr[e].values[s].Data[v].StartTime)break;y=this.props.dataArr[e].values[s].Data[v].EndTime-this.props.dataArr[e].values[s].Data[v].StartTime,y/=36e5,"Light sleep"===this.props.dataArr[e].values[s].Data[v].State||"SLEEP_LIGHT"===this.props.dataArr[e].values[s].Data[v].State?Q+=y:"Deep sleep"!==this.props.dataArr[e].values[s].Data[v].State&&"SLEEP_DEEP"!==this.props.dataArr[e].values[s].Data[v].State||(F+=y),L+=y}this.props.dataArr[e].values[s].ValidTime<this.props.date?(h.before.light.sum+=Q,h.before.deep.sum+=F,h.before.total.sum+=L,h.before.light.counter++,h.before.deep.counter++,h.before.total.counter++):(h.after.light.sum+=Q,h.after.deep.sum+=F,h.after.total.sum+=L,h.after.light.counter++,h.after.deep.counter++,h.after.total.counter++);continue}if(this.props.dataArr[e].values[s].ValidTime<this.props.date){if("\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"===this.props.dataArr[e].name){h.before.weather.sum+=this.props.dataArr[e].values[s].Data,h.before.weather.counter++;continue}h.before[this.props.dataArr[e].name].sum+=this.props.dataArr[e].values[s].Data,h.before[this.props.dataArr[e].name].counter++}else{if("\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"===this.props.dataArr[e].name){h.after.weather.sum+=this.props.dataArr[e].values[s].Data,h.after.weather.counter++;continue}h.after[this.props.dataArr[e].name].sum+=this.props.dataArr[e].values[s].Data,h.after[this.props.dataArr[e].name].counter++}i||(l.push(this.props.dataArr[e].values[s].ValidTime),i=!0);continue}if(null==o[d]&&(o[d]={},l.push(this.props.dataArr[e].values[s].ValidTime)),null==o[d][this.props.dataArr[e].name]&&(o[d][this.props.dataArr[e].name]={},o[d][this.props.dataArr[e].name].counter=0,o[d][this.props.dataArr[e].name].sum=0),"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===this.props.dataArr[e].name){var q=0,B=0,U=0,V=0;for(v=0;v<this.props.dataArr[e].values[s].Data.length;v++){if(0===v)V=this.props.dataArr[e].values[s].Data[v].StartTime;else if(V===this.props.dataArr[e].values[s].Data[v].StartTime)break;y=this.props.dataArr[e].values[s].Data[v].EndTime-this.props.dataArr[e].values[s].Data[v].StartTime,y/=36e5,"Light sleep"===this.props.dataArr[e].values[s].Data[v].State||"SLEEP_LIGHT"===this.props.dataArr[e].values[s].Data[v].State?B+=y:"Deep sleep"!==this.props.dataArr[e].values[s].Data[v].State&&"SLEEP_DEEP"!==this.props.dataArr[e].values[s].Data[v].State||(q+=y),U+=y}o[d]||(o[d]={}),o[d].total||(o[d].light={},o[d].deep={},o[d].total={},o[d].light.counter=0,o[d].deep.counter=0,o[d].total.counter=0,o[d].light.sum=0,o[d].deep.sum=0,o[d].total.sum=0),o[d].light.sum+=B,o[d].deep.sum+=q,o[d].total.sum+=U,o[d].light.counter++,o[d].deep.counter++,o[d].total.counter++;continue}o[d][this.props.dataArr[e].name].sum+=this.props.dataArr[e].values[s].Data,o[d][this.props.dataArr[e].name].counter++}l=l.sort();var G=[];if(this.props.weekly||this.props.monthly)for(var M=0,R=Object.entries(o);M<R.length;M++)for(var H=Object(N.a)(R[M],1)[0],W=0,Y=Object.entries(o[H]);W<Y.length;W++){var z=Object(N.a)(Y[W],1)[0];o[H][z].Data=o[H][z].sum/o[H][z].counter}var J=[],Z=Math.min();for(e=0;e<l.length;e++){if(d=(m=new Date(l[e])).toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-"),this.props.showDaily){var $=new Date(l[e]);$.setHours(0,0,0,0);var X=Math.floor(($.getTime()-this.props.date)/864e5);X<0&&X++,Z===X&&X++,Z=X,this.props.date||(X="-"),o[d].num=X,G.push(r.a.createElement("tr",{key:d},l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},X):r.a.createElement("td",{className:"after"},X),l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},d):r.a.createElement("td",{className:"after"},d),this.props.steps?o[d]["\u05e6\u05e2\u05d3\u05d9\u05dd"]?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[d]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[d]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data.toFixed(2)):l[e]<this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.distance?o[d]["\u05de\u05e8\u05d7\u05e7"]?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[d]["\u05de\u05e8\u05d7\u05e7"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[d]["\u05de\u05e8\u05d7\u05e7"].Data.toFixed(2)):l[e]<this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.calories?o[d]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[d]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[d]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.weather?o[d]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[d]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[d]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?o[d].light>=0?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[d].light.toFixed(2)):r.a.createElement("td",{className:"after"},o[d].light.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?o[d].deep>=0?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[d].deep.toFixed(2)):r.a.createElement("td",{className:"after"},o[d].deep.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?o[d].total>=0?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[d].total.toFixed(2)):r.a.createElement("td",{className:"after"},o[d].total.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null))}else if(this.props.weekly||this.props.monthly){var K=new Date(this.props.date);if(($=new Date(l[e])).setHours(0,0,0,0),this.props.weekly){var ee=new Date(K.getTime()-864e5*K.getDay());ee.setHours(0,0,0,0),w=m.getDay(),(D=new Date(m.getTime()-864e5*w)).setHours(0,0,0,0),S=new Date(D.getTime()+5184e5),d=D.toLocaleDateString("en-GB",{day:"numeric"})+"-"+S.toLocaleDateString("en-GB",{day:"numeric",month:"short"}),X=Math.floor((D.getTime()-ee.getTime())/6048e5)}else{var te=new Date($.getFullYear(),$.getMonth(),1),ae=new Date(K.getFullYear(),K.getMonth(),1);(X=Math.floor((te.getTime()-ae.getTime())/24192e5))<0&&X++,d=m.toLocaleDateString("en-GB",{month:"short"})}Z===X&&X++,Z=X,this.props.date||(X="-"),d===n?(G.push(r.a.createElement("tr",{key:d+"before"},r.a.createElement("td",{className:"before"},0),r.a.createElement("td",{className:"before"},d),this.props.steps?h.before["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter?r.a.createElement("td",{className:"before"},(h.before["\u05e6\u05e2\u05d3\u05d9\u05dd"].sum/h.before["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter).toFixed(2)):r.a.createElement("td",{className:"before"},"-"):null,this.props.distance?h.before["\u05de\u05e8\u05d7\u05e7"].counter?r.a.createElement("td",{className:"before"},(h.before["\u05de\u05e8\u05d7\u05e7"].sum/h.before["\u05de\u05e8\u05d7\u05e7"].counter).toFixed(2)):r.a.createElement("td",{className:"before"},"-"):null,this.props.calories?h.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter?r.a.createElement("td",{className:"before"},(h.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].sum/h.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter).toFixed(2)):r.a.createElement("td",{className:"before"},"-"):null,this.props.weather?h.before.weather.counter?r.a.createElement("td",{className:"before"},(h.before.weather.sum/h.before.weather.counter).toFixed(2)):r.a.createElement("td",{className:"before"},"-"):null,this.props.sleep?h.before.light.counter?r.a.createElement("td",{className:"before"},(h.before.light.sum/h.before.light.counter).toFixed(2)):r.a.createElement("td",{className:"before"},"-"):null,this.props.sleep?h.before.deep.counter?r.a.createElement("td",{className:"before"},(h.before.deep.sum/h.before.deep.counter).toFixed(2)):r.a.createElement("td",{className:"before"},"-"):null,this.props.sleep?h.before.total.counter?r.a.createElement("td",{className:"before"},(h.before.total.sum/h.before.total.counter).toFixed(2)):r.a.createElement("td",{className:"before"},"-"):null)),G.push(r.a.createElement("tr",{key:d+"after"},r.a.createElement("td",{className:"after"},0),r.a.createElement("td",{className:"after"},d),this.props.steps?h.after["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter?r.a.createElement("td",{className:"after"},(h.after["\u05e6\u05e2\u05d3\u05d9\u05dd"].sum/h.after["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter).toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null,this.props.distance?h.after["\u05de\u05e8\u05d7\u05e7"].counter?r.a.createElement("td",{className:"after"},(h.after["\u05de\u05e8\u05d7\u05e7"].sum/h.after["\u05de\u05e8\u05d7\u05e7"].counter).toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null,this.props.calories?h.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter?r.a.createElement("td",{className:"after"},(h.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].sum/h.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter).toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null,this.props.weather?h.after.weather.counter?r.a.createElement("td",{className:"after"},(h.after.weather.sum/h.after.weather.counter).toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?h.after.light.counter?r.a.createElement("td",{className:"after"},(h.after.light.sum/h.after.light.counter).toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?h.after.deep.counter?r.a.createElement("td",{className:"after"},(h.after.deep.sum/h.after.deep.counter).toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?h.after.total.counter?r.a.createElement("td",{className:"after"},(h.after.total.sum/h.after.total.counter).toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null))):(o[d].num=X,G.push(r.a.createElement("tr",{key:d},l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},X):r.a.createElement("td",{className:"after"},X),l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},d):r.a.createElement("td",{className:"after"},d),this.props.steps?o[d]["\u05e6\u05e2\u05d3\u05d9\u05dd"]?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[d]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[d]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.distance?o[d]["\u05de\u05e8\u05d7\u05e7"]?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[d]["\u05de\u05e8\u05d7\u05e7"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[d]["\u05de\u05e8\u05d7\u05e7"].Data.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.calories?o[d]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[d]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[d]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.weather?o[d]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[d]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[d]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?o[d].light?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[d].light.Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[d].light.Data.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?o[d].deep?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[d].deep.Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[d].deep.Data.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?o[d].total?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[d].total.Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[d].total.Data.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null)))}var se={};se["\u05ea\u05d0\u05e8\u05d9\u05da"]=d;d!==n?(this.props.date&&(this.props.showDaily?se["\u05de\u05e1\u05e4\u05e8 \u05d9\u05d5\u05dd"]=o[d].num:this.props.weekly?se["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=o[d].num:se["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=o[d].num),this.props.steps&&o[d]["\u05e6\u05e2\u05d3\u05d9\u05dd"]&&(se["\u05e6\u05e2\u05d3\u05d9\u05dd"]=o[d]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data),this.props.distance&&o[d]["\u05de\u05e8\u05d7\u05e7"]&&(se["\u05de\u05e8\u05d7\u05e7"]=o[d]["\u05de\u05e8\u05d7\u05e7"].Data),this.props.calories&&o[d]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]&&(se["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]=o[d]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data),this.props.weather&&o[d]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]&&(se["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]=o[d]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data),this.props.sleep&&o[d].light&&this.props.showDaily&&(se["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4"]=o[d].light,se["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4"]=o[d].deep,se["\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4"]=o[d].total),this.props.sleep&&o[d].light&&!this.props.showDaily&&(se["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4"]=o[d].light.Data,se["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4"]=o[d].deep.Data,se["\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4"]=o[d].total.Data),J.push(se)):(this.props.date&&(this.props.weekly?se["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=0:se["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=0),this.props.steps&&h.before["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter&&(se["\u05e6\u05e2\u05d3\u05d9\u05dd"]=(h.before["\u05e6\u05e2\u05d3\u05d9\u05dd"].sum/h.before["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter).toFixed(2)),this.props.distance&&h.before["\u05de\u05e8\u05d7\u05e7"].counter&&(se["\u05de\u05e8\u05d7\u05e7"]=(h.before["\u05de\u05e8\u05d7\u05e7"].sum/h.before["\u05de\u05e8\u05d7\u05e7"].counter).toFixed(2)),this.props.calories&&h.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter&&(se["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]=(h.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].sum/h.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter).toFixed(2)),this.props.weather&&h.before.weather.counter&&(se["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]=(h.before.weather.sum/h.before.weather.counter).toFixed(2)),this.props.sleep&&h.before.light.counter&&(se["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4"]=(h.before.light.sum/h.before.light.counter).toFixed(2)),this.props.sleep&&h.before.deep.counter&&(se["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4"]=(h.before.deep.sum/h.before.deep.counter).toFixed(2)),this.props.sleep&&h.before.total.counter&&(se["\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4"]=(h.before.total.sum/h.before.total.counter).toFixed(2)),J.push(se),se={},this.props.date&&(this.props.weekly?se["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=0:se["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=0),se["\u05ea\u05d0\u05e8\u05d9\u05da"]=d,this.props.steps&&h.after["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter&&(se["\u05e6\u05e2\u05d3\u05d9\u05dd"]=(h.after["\u05e6\u05e2\u05d3\u05d9\u05dd"].sum/h.after["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter).toFixed(2)),this.props.distance&&h.after["\u05de\u05e8\u05d7\u05e7"].counter&&(se["\u05de\u05e8\u05d7\u05e7"]=(h.after["\u05de\u05e8\u05d7\u05e7"].sum/h.after["\u05de\u05e8\u05d7\u05e7"].counter).toFixed(2)),this.props.calories&&h.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter&&(se["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]=(h.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].sum/h.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter).toFixed(2)),this.props.weather&&h.after.weather.counter&&(se["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]=(h.after.weather.sum/h.after.weather.counter).toFixed(2)),this.props.sleep&&h.after.light.counter&&(se["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4"]=(h.after.light.sum/h.after.light.counter).toFixed(2)),this.props.sleep&&h.after.deep.counter&&(se["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4"]=(h.after.deep.sum/h.after.deep.counter).toFixed(2)),this.props.sleep&&h.after.total.counter&&(se["\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4"]=(h.after.total.sum/h.after.total.counter).toFixed(2)),J.push(se))}}}return r.a.createElement("div",null,this.props.ready?r.a.createElement("div",{className:"center"},t?r.a.createElement("h4",null,"\u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9"):r.a.createElement("table",{style:{width:"100%"},id:"mdd",className:"tabels",align:"center"},r.a.createElement("tbody",null,r.a.createElement("tr",null,this.props.dataArr.length>0&&this.props.showDaily?r.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05d9\u05d5\u05dd"):null,this.props.dataArr.length>0&&this.props.weekly?r.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"):null,this.props.dataArr.length>0&&this.props.monthly?r.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"):null,this.props.dataArr.length>0?r.a.createElement("th",null,"\u05ea\u05d0\u05e8\u05d9\u05da"):null,this.props.steps?r.a.createElement("th",null,"\u05e6\u05e2\u05d3\u05d9\u05dd"):null,this.props.distance?r.a.createElement("th",null,"\u05de\u05e8\u05d7\u05e7"):null,this.props.calories?r.a.createElement("th",null,"\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"):null,this.props.weather?r.a.createElement("th",null,"\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"):null,this.props.sleep?r.a.createElement("th",null,"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4"):null,this.props.sleep?r.a.createElement("th",null,"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4"):null,this.props.sleep?r.a.createElement("th",null,"\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4"):null),G)),this.props.dataArr.length>0&&!t?r.a.createElement(x,{csvData:J,fileName:this.props.name+" \u05de\u05d3\u05d3\u05d9\u05dd"}):null):null)}}]),s}(s.Component),_=function(e){Object(c.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this)).state={steps:e.steps,distance:e.distance,calories:e.calories,weather:e.weather,sleep:e.sleep,dataArr:e.dataArr,table:[],exportCSV:[]},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,r=t.type,n=t.checked;"checkbox"===r?this.setState(Object(D.a)({},a,n)):this.setState(Object(D.a)({},a,s))}},{key:"render",value:function(){if(a(63),this.props.ready){var e,t=!0;for(e=0;e<this.props.dataArr.length;e++)this.props.dataArr[e].values.length>0&&(t=!1);if(t)t=!0;else{var s,n,o={},i=!1,l=[];if(this.props.weekly){var c=new Date(this.props.date).getDay(),p=new Date(this.props.date-864e5*c),u=new Date(p.getTime()+5184e5);n=p.toLocaleDateString("en-GB",{day:"numeric"})+"-"+u.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}this.props.monthly&&(n=new Date(this.props.date).toLocaleDateString("en-GB",{month:"short"}));var h={before:{"\u05e6\u05e2\u05d3\u05d9\u05dd":{},"\u05de\u05e8\u05d7\u05e7":{},"\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea":{},weather:{},light:{},deep:{},total:{}},after:{"\u05e6\u05e2\u05d3\u05d9\u05dd":{},"\u05de\u05e8\u05d7\u05e7":{},"\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea":{},weather:{},light:{},deep:{},total:{}}};for(h.before["\u05e6\u05e2\u05d3\u05d9\u05dd"]={sum:0,counter:0},h.before["\u05de\u05e8\u05d7\u05e7"]={sum:0,counter:0},h.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]={sum:0,counter:0},h.before.weather={sum:0,counter:0},h.before.light={sum:0,counter:0},h.before.deep={sum:0,counter:0},h.before.total={sum:0,counter:0},h.after["\u05e6\u05e2\u05d3\u05d9\u05dd"]={sum:0,counter:0},h.after["\u05de\u05e8\u05d7\u05e7"]={sum:0,counter:0},h.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]={sum:0,counter:0},h.after.weather={sum:0,counter:0},h.after.light={sum:0,counter:0},h.after.deep={sum:0,counter:0},h.after.total={sum:0,counter:0},e=0;e<this.props.dataArr.length;e++){var m=this.props.dataArr[e].values;for((this.props.dataArr[e].name.endsWith("\u05dc\u05e4\u05e0\u05d9")||this.props.dataArr[e].name.endsWith("\u05d0\u05d7\u05e8\u05d9"))&&(m=this.props.dataArr[e].values[0].docs),s=0;s<m.length;s++)if(this.props.showDaily){var d=new Date(m[s].ValidTime),f=d.toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-");if(null==o[f]&&(o[f]={},l.push(m[s].ValidTime)),"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===this.props.dataArr[e].name){for(var g=0,b=0,E=0,v=0,y=0;y<this.props.dataArr[e].values[s].Data.length;y++){if(0===y)v=this.props.dataArr[e].values[s].Data[y].StartTime;else if(v===this.props.dataArr[e].values[s].Data[y].StartTime)break;var w=this.props.dataArr[e].values[s].Data[y].EndTime-this.props.dataArr[e].values[s].Data[y].StartTime;w/=36e5,"Light sleep"===this.props.dataArr[e].values[s].Data[y].State||"SLEEP_LIGHT"===this.props.dataArr[e].values[s].Data[y].State?b+=w:"Deep sleep"!==this.props.dataArr[e].values[s].Data[y].State&&"SLEEP_DEEP"!==this.props.dataArr[e].values[s].Data[y].State||(g+=w),E+=w}o[f]||(o[f]={}),o[f].light=b,o[f].deep=g,o[f].total=E;continue}o[f][this.props.dataArr[e].name]=m[s]}else if(this.props.weekly){var D=(d=new Date(this.props.dataArr[e].values[s].ValidTime)).getDay(),S=new Date(this.props.dataArr[e].values[s].ValidTime-864e5*D),k=new Date(S.getTime()+5184e5);if(n===(f=S.toLocaleDateString("en-GB",{day:"numeric"})+"-"+k.toLocaleDateString("en-GB",{day:"numeric",month:"short"}))){if("\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===this.props.dataArr[e].name){var I=0,_=0,A=0,C=0;for(y=0;y<this.props.dataArr[e].values[s].Data.length;y++){if(0===y)C=this.props.dataArr[e].values[s].Data[y].StartTime;else if(C===this.props.dataArr[e].values[s].Data[y].StartTime)break;w=this.props.dataArr[e].values[s].Data[y].EndTime-this.props.dataArr[e].values[s].Data[y].StartTime,w/=36e5,"Light sleep"===this.props.dataArr[e].values[s].Data[y].State||"SLEEP_LIGHT"===this.props.dataArr[e].values[s].Data[y].State?_+=w:"Deep sleep"!==this.props.dataArr[e].values[s].Data[y].State&&"SLEEP_DEEP"!==this.props.dataArr[e].values[s].Data[y].State||(I+=w),A+=w}this.props.dataArr[e].values[s].ValidTime<this.props.date?(h.before.light.sum+=_,h.before.deep.sum+=I,h.before.total.sum+=A,h.before.light.counter++,h.before.deep.counter++,h.before.total.counter++):(h.after.light.sum+=_,h.after.deep.sum+=I,h.after.total.sum+=A,h.after.light.counter++,h.after.deep.counter++,h.after.total.counter++);continue}if(m[s].ValidTime<this.props.date){if("\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"===this.props.dataArr[e].name){h.before.weather.sum+=this.props.dataArr[e].values[s].Data,h.before.weather.counter++;continue}h.before[this.props.dataArr[e].name].sum+=m[s].Data,h.before[this.props.dataArr[e].name].counter++}else{if("\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"===this.props.dataArr[e].name){h.after.weather.sum+=m[s].Data,h.after.weather.counter++;continue}h.after[this.props.dataArr[e].name].sum+=m[s].Data,h.after[this.props.dataArr[e].name].counter++}i||(l.push(m[s].ValidTime),i=!0);continue}if(null==o[f]&&(o[f]={},l.push(m[s].ValidTime)),null==o[f][this.props.dataArr[e].name]&&(o[f][this.props.dataArr[e].name]={},o[f][this.props.dataArr[e].name].counter=0,o[f][this.props.dataArr[e].name].sum=0),"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===this.props.dataArr[e].name){var T=0,O=0,j=0,F=0;for(y=0;y<this.props.dataArr[e].values[s].Data.length;y++){if(0===y)F=this.props.dataArr[e].values[s].Data[y].StartTime;else if(F===this.props.dataArr[e].values[s].Data[y].StartTime)break;w=this.props.dataArr[e].values[s].Data[y].EndTime-this.props.dataArr[e].values[s].Data[y].StartTime,w/=36e5,"Light sleep"===this.props.dataArr[e].values[s].Data[y].State||"SLEEP_LIGHT"===this.props.dataArr[e].values[s].Data[y].State?O+=w:"Deep sleep"!==this.props.dataArr[e].values[s].Data[y].State&&"SLEEP_DEEP"!==this.props.dataArr[e].values[s].Data[y].State||(T+=w),j+=w}o[f]||(o[f]={}),o[f].total||(o[f].light={},o[f].deep={},o[f].total={},o[f].light.counter=0,o[f].deep.counter=0,o[f].total.counter=0,o[f].light.sum=0,o[f].deep.sum=0,o[f].total.sum=0),o[f].light.sum+=O,o[f].deep.sum+=T,o[f].total.sum+=j,o[f].light.counter++,o[f].deep.counter++,o[f].total.counter++;continue}o[f][this.props.dataArr[e].name].sum+=m[s].Data,o[f][this.props.dataArr[e].name].counter++}else if(this.props.monthly){if(n===(f=(d=new Date(m[s].ValidTime)).toLocaleDateString("en-GB",{month:"short"}))){if("\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===this.props.dataArr[e].name){var Q=0,L=0,P=0,q=0;for(y=0;y<this.props.dataArr[e].values[s].Data.length;y++){if(0===y)q=this.props.dataArr[e].values[s].Data[y].StartTime;else if(q===this.props.dataArr[e].values[s].Data[y].StartTime)break;w=this.props.dataArr[e].values[s].Data[y].EndTime-this.props.dataArr[e].values[s].Data[y].StartTime,w/=36e5,"Light sleep"===this.props.dataArr[e].values[s].Data[y].State||"SLEEP_LIGHT"===this.props.dataArr[e].values[s].Data[y].State?L+=w:"Deep sleep"!==this.props.dataArr[e].values[s].Data[y].State&&"SLEEP_DEEP"!==this.props.dataArr[e].values[s].Data[y].State||(Q+=w),P+=w}this.props.dataArr[e].values[s].ValidTime<this.props.date?(h.before.light.sum+=L,h.before.deep.sum+=Q,h.before.total.sum+=P,h.before.light.counter++,h.before.deep.counter++,h.before.total.counter++):(h.after.light.sum+=L,h.after.deep.sum+=Q,h.after.total.sum+=P,h.after.light.counter++,h.after.deep.counter++,h.after.total.counter++);continue}if(m[s].ValidTime<this.props.date){if("\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"===this.props.dataArr[e].name){h.before.weather.sum+=this.props.dataArr[e].values[s].Data,h.before.weather.counter++;continue}h.before[this.props.dataArr[e].name].sum+=this.props.dataArr[e].values[s].Data,h.before[this.props.dataArr[e].name].counter++}else{if("\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"===this.props.dataArr[e].name){h.after.weather.sum+=this.props.dataArr[e].values[s].Data,h.after.weather.counter++;continue}h.after[this.props.dataArr[e].name].sum+=this.props.dataArr[e].values[s].Data,h.after[this.props.dataArr[e].name].counter++}i||(l.push(this.props.dataArr[e].values[s].ValidTime),i=!0);continue}if(null==o[f]&&(o[f]={},l.push(m[s].ValidTime)),null==o[f][this.props.dataArr[e].name]&&(o[f][this.props.dataArr[e].name]={},o[f][this.props.dataArr[e].name].counter=0,o[f][this.props.dataArr[e].name].sum=0),"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===this.props.dataArr[e].name){var B=0,U=0,V=0,G=0;for(y=0;y<this.props.dataArr[e].values[s].Data.length;y++){if(0===y)G=this.props.dataArr[e].values[s].Data[y].StartTime;else if(G===this.props.dataArr[e].values[s].Data[y].StartTime)break;w=this.props.dataArr[e].values[s].Data[y].EndTime-this.props.dataArr[e].values[s].Data[y].StartTime,w/=36e5,"Light sleep"===this.props.dataArr[e].values[s].Data[y].State||"SLEEP_LIGHT"===this.props.dataArr[e].values[s].Data[y].State?U+=w:"Deep sleep"!==this.props.dataArr[e].values[s].Data[y].State&&"SLEEP_DEEP"!==this.props.dataArr[e].values[s].Data[y].State||(B+=w),V+=w}o[f]||(o[f]={}),o[f].total||(o[f].light={},o[f].deep={},o[f].total={},o[f].light.counter=0,o[f].deep.counter=0,o[f].total.counter=0,o[f].light.sum=0,o[f].deep.sum=0,o[f].total.sum=0),o[f].light.sum+=U,o[f].deep.sum+=B,o[f].total.sum+=V,o[f].light.counter++,o[f].deep.counter++,o[f].total.counter++;continue}o[f][this.props.dataArr[e].name].sum+=m[s].Data,o[f][this.props.dataArr[e].name].counter++}}l=l.sort();var M=[];if(this.props.weekly||this.props.monthly)for(var R=0,H=Object.entries(o);R<H.length;R++)for(var W=Object(N.a)(H[R],1)[0],Y=0,z=Object.entries(o[W]);Y<z.length;Y++){var J=Object(N.a)(z[Y],1)[0];o[W][J].Data=o[W][J].sum/o[W][J].counter}var Z=[],$=Math.min();for(e=0;e<l.length;e++){if(f=(d=new Date(l[e])).toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-"),this.props.showDaily){var X=new Date(l[e]);X.setHours(0,0,0,0);var K=Math.floor((X.getTime()-this.props.date)/864e5);K<0&&K++,$===K&&K++,$=K,this.props.date||(K="-"),o[f].num=K,M.push(r.a.createElement("tr",{key:f},l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},K):r.a.createElement("td",{className:"after"},K),l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},f):r.a.createElement("td",{className:"after"},f),this.props.steps?o[f]["\u05e6\u05e2\u05d3\u05d9\u05dd"]?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[f]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[f]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data.toFixed(2)):l[e]<this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.steps?l[e]<this.props.date||!this.props.date?o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e6\u05e2\u05d3\u05d9\u05dd \u05dc\u05e4\u05e0\u05d9"]?r.a.createElement("td",{className:"before"},o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e6\u05e2\u05d3\u05d9\u05dd \u05dc\u05e4\u05e0\u05d9"].Data.toFixed(2)):r.a.createElement("td",{className:"before"},"-"):o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e6\u05e2\u05d3\u05d9\u05dd \u05d0\u05d7\u05e8\u05d9"]?r.a.createElement("td",{className:"after"},o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e6\u05e2\u05d3\u05d9\u05dd \u05d0\u05d7\u05e8\u05d9"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null,this.props.distance?o[f]["\u05de\u05e8\u05d7\u05e7"]?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[f]["\u05de\u05e8\u05d7\u05e7"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[f]["\u05de\u05e8\u05d7\u05e7"].Data.toFixed(2)):l[e]<this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.distance?l[e]<this.props.date||!this.props.date?o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05e8\u05d7\u05e7 \u05dc\u05e4\u05e0\u05d9"]?r.a.createElement("td",{className:"before"},o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05e8\u05d7\u05e7 \u05dc\u05e4\u05e0\u05d9"].Data.toFixed(2)):r.a.createElement("td",{className:"before"},"-"):o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05e8\u05d7\u05e7 \u05d0\u05d7\u05e8\u05d9"]?r.a.createElement("td",{className:"after"},o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05e8\u05d7\u05e7 \u05d0\u05d7\u05e8\u05d9"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null,this.props.calories?o[f]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[f]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[f]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.calories?l[e]<this.props.date||!this.props.date?o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05dc\u05e4\u05e0\u05d9"]?r.a.createElement("td",{className:"before"},o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05dc\u05e4\u05e0\u05d9"].Data.toFixed(2)):r.a.createElement("td",{className:"before"},"-"):o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05d0\u05d7\u05e8\u05d9"]?r.a.createElement("td",{className:"after"},o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05d0\u05d7\u05e8\u05d9"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null,this.props.weather?o[f]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[f]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[f]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?o[f].light>=0?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[f].light.toFixed(2)):r.a.createElement("td",{className:"after"},o[f].light.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?o[f].deep>=0?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[f].deep.toFixed(2)):r.a.createElement("td",{className:"after"},o[f].deep.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?o[f].total>=0?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[f].total.toFixed(2)):r.a.createElement("td",{className:"after"},o[f].total.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null))}else if(this.props.weekly||this.props.monthly){var ee=new Date(this.props.date);if((X=new Date(l[e])).setHours(0,0,0,0),this.props.weekly){var te=new Date(ee.getTime()-864e5*ee.getDay());te.setHours(0,0,0,0),D=d.getDay(),(S=new Date(d.getTime()-864e5*D)).setHours(0,0,0,0),k=new Date(S.getTime()+5184e5),f=S.toLocaleDateString("en-GB",{day:"numeric"})+"-"+k.toLocaleDateString("en-GB",{day:"numeric",month:"short"}),K=Math.floor((S.getTime()-te.getTime())/6048e5)}else{var ae=new Date(X.getFullYear(),X.getMonth(),1),se=new Date(ee.getFullYear(),ee.getMonth(),1);(K=Math.floor((ae.getTime()-se.getTime())/24192e5))<0&&K++,f=d.toLocaleDateString("en-GB",{month:"short"})}$===K&&K++,$=K,this.props.date||(K="-"),f===n?(M.push(r.a.createElement("tr",{key:f+"before"},r.a.createElement("td",{className:"before"},0),r.a.createElement("td",{className:"before"},f),this.props.steps?h.before["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter?r.a.createElement("td",{className:"before"},(h.before["\u05e6\u05e2\u05d3\u05d9\u05dd"].sum/h.before["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter).toFixed(2)):r.a.createElement("td",{className:"before"},"-"):null,this.props.distance?h.before["\u05de\u05e8\u05d7\u05e7"].counter?r.a.createElement("td",{className:"before"},(h.before["\u05de\u05e8\u05d7\u05e7"].sum/h.before["\u05de\u05e8\u05d7\u05e7"].counter).toFixed(2)):r.a.createElement("td",{className:"before"},"-"):null,this.props.calories?h.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter?r.a.createElement("td",{className:"before"},(h.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].sum/h.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter).toFixed(2)):r.a.createElement("td",{className:"before"},"-"):null,this.props.weather?h.before.weather.counter?r.a.createElement("td",{className:"before"},(h.before.weather.sum/h.before.weather.counter).toFixed(2)):r.a.createElement("td",{className:"before"},"-"):null,this.props.sleep?h.before.light.counter?r.a.createElement("td",{className:"before"},(h.before.light.sum/h.before.light.counter).toFixed(2)):r.a.createElement("td",{className:"before"},"-"):null,this.props.sleep?h.before.deep.counter?r.a.createElement("td",{className:"before"},(h.before.deep.sum/h.before.deep.counter).toFixed(2)):r.a.createElement("td",{className:"before"},"-"):null,this.props.sleep?h.before.total.counter?r.a.createElement("td",{className:"before"},(h.before.total.sum/h.before.total.counter).toFixed(2)):r.a.createElement("td",{className:"before"},"-"):null)),M.push(r.a.createElement("tr",{key:f+"after"},r.a.createElement("td",{className:"after"},0),r.a.createElement("td",{className:"after"},f),this.props.steps?h.after["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter?r.a.createElement("td",{className:"after"},(h.after["\u05e6\u05e2\u05d3\u05d9\u05dd"].sum/h.after["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter).toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null,this.props.distance?h.after["\u05de\u05e8\u05d7\u05e7"].counter?r.a.createElement("td",{className:"after"},(h.after["\u05de\u05e8\u05d7\u05e7"].sum/h.after["\u05de\u05e8\u05d7\u05e7"].counter).toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null,this.props.calories?h.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter?r.a.createElement("td",{className:"after"},(h.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].sum/h.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter).toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null,this.props.weather?h.after.weather.counter?r.a.createElement("td",{className:"after"},(h.after.weather.sum/h.after.weather.counter).toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?h.after.light.counter?r.a.createElement("td",{className:"after"},(h.after.light.sum/h.after.light.counter).toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?h.after.deep.counter?r.a.createElement("td",{className:"after"},(h.after.deep.sum/h.after.deep.counter).toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?h.after.total.counter?r.a.createElement("td",{className:"after"},(h.after.total.sum/h.after.total.counter).toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null))):(o[f].num=K,M.push(r.a.createElement("tr",{key:f},l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},K):r.a.createElement("td",{className:"after"},K),l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},f):r.a.createElement("td",{className:"after"},f),this.props.steps?o[f]["\u05e6\u05e2\u05d3\u05d9\u05dd"]?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[f]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[f]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.steps?l[e]<this.props.date||!this.props.date?o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e6\u05e2\u05d3\u05d9\u05dd \u05dc\u05e4\u05e0\u05d9"]?r.a.createElement("td",{className:"before"},o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e6\u05e2\u05d3\u05d9\u05dd \u05dc\u05e4\u05e0\u05d9"].Data.toFixed(2)):r.a.createElement("td",{className:"before"},"-"):o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e6\u05e2\u05d3\u05d9\u05dd \u05d0\u05d7\u05e8\u05d9"]?r.a.createElement("td",{className:"after"},o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e6\u05e2\u05d3\u05d9\u05dd \u05d0\u05d7\u05e8\u05d9"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null,this.props.distance?o[f]["\u05de\u05e8\u05d7\u05e7"]?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[f]["\u05de\u05e8\u05d7\u05e7"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[f]["\u05de\u05e8\u05d7\u05e7"].Data.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.distance?l[e]<this.props.date||!this.props.date?o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05e8\u05d7\u05e7 \u05dc\u05e4\u05e0\u05d9"]?r.a.createElement("td",{className:"before"},o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05e8\u05d7\u05e7 \u05dc\u05e4\u05e0\u05d9"].Data.toFixed(2)):r.a.createElement("td",{className:"before"},"-"):o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05e8\u05d7\u05e7 \u05d0\u05d7\u05e8\u05d9"]?r.a.createElement("td",{className:"after"},o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05e8\u05d7\u05e7 \u05d0\u05d7\u05e8\u05d9"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null,this.props.calories?o[f]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[f]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[f]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.calories?l[e]<this.props.date||!this.props.date?o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05dc\u05e4\u05e0\u05d9"]?r.a.createElement("td",{className:"before"},o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05dc\u05e4\u05e0\u05d9"].Data.toFixed(2)):r.a.createElement("td",{className:"before"},"-"):o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05d0\u05d7\u05e8\u05d9"]?r.a.createElement("td",{className:"after"},o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05d0\u05d7\u05e8\u05d9"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},"-"):null,this.props.weather?o[f]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[f]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[f]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?o[f].light?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[f].light.Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[f].light.Data.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?o[f].deep?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[f].deep.Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[f].deep.Data.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?o[f].total?l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[f].total.Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[f].total.Data.toFixed(2)):l[e]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null)))}var re={};re["\u05ea\u05d0\u05e8\u05d9\u05da"]=f;f!==n?(this.props.date&&(this.props.showDaily?re["\u05de\u05e1\u05e4\u05e8 \u05d9\u05d5\u05dd"]=o[f].num:this.props.weekly?re["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=o[f].num:re["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=o[f].num),this.props.steps&&(o[f]["\u05e6\u05e2\u05d3\u05d9\u05dd"]&&(re["\u05e6\u05e2\u05d3\u05d9\u05dd"]=o[f]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data),l[e]<this.props.date||!this.props.date?o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e6\u05e2\u05d3\u05d9\u05dd \u05dc\u05e4\u05e0\u05d9"]?re["\u05e6\u05e2\u05d3\u05d9 \u05e7\u05d1\u05d5\u05e6\u05ea \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4"]=o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e6\u05e2\u05d3\u05d9\u05dd \u05dc\u05e4\u05e0\u05d9"].Data:re["\u05e6\u05e2\u05d3\u05d9 \u05e7\u05d1\u05d5\u05e6\u05ea \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4"]="":o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e6\u05e2\u05d3\u05d9\u05dd \u05d0\u05d7\u05e8\u05d9"]?re["\u05e6\u05e2\u05d3\u05d9 \u05e7\u05d1\u05d5\u05e6\u05ea \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4"]=o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e6\u05e2\u05d3\u05d9\u05dd \u05d0\u05d7\u05e8\u05d9"].Data:re["\u05e6\u05e2\u05d3\u05d9 \u05e7\u05d1\u05d5\u05e6\u05ea \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4"]=""),this.props.distance&&(o[f]["\u05de\u05e8\u05d7\u05e7"]&&(re["\u05de\u05e8\u05d7\u05e7"]=o[f]["\u05de\u05e8\u05d7\u05e7"].Data),l[e]<this.props.date||!this.props.date?o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05e8\u05d7\u05e7 \u05dc\u05e4\u05e0\u05d9"]?re["\u05de\u05e8\u05d7\u05e7 \u05e7\u05d1\u05d5\u05e6\u05ea \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4"]=o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05e8\u05d7\u05e7 \u05dc\u05e4\u05e0\u05d9"].Data:re["\u05de\u05e8\u05d7\u05e7 \u05e7\u05d1\u05d5\u05e6\u05ea \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4"]="":o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05e8\u05d7\u05e7 \u05d0\u05d7\u05e8\u05d9"]?re["\u05de\u05e8\u05d7\u05e7 \u05e7\u05d1\u05d5\u05e6\u05ea \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4"]=o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05e8\u05d7\u05e7 \u05d0\u05d7\u05e8\u05d9"].Data:re["\u05de\u05e8\u05d7\u05e7 \u05e7\u05d1\u05d5\u05e6\u05ea \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4"]=""),this.props.calories&&(o[f]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]&&(re["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]=o[f]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data),l[e]<this.props.date||!this.props.date?o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05dc\u05e4\u05e0\u05d9"]?re["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05e7\u05d1\u05d5\u05e6\u05ea \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4"]=o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05dc\u05e4\u05e0\u05d9"].Data:re["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05e7\u05d1\u05d5\u05e6\u05ea \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4"]="":o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05d0\u05d7\u05e8\u05d9"]?re["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05e7\u05d1\u05d5\u05e6\u05ea \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4"]=o[f]["\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05d0\u05d7\u05e8\u05d9"].Data:re["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05e7\u05d1\u05d5\u05e6\u05ea \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4"]=""),this.props.weather&&o[f]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]&&(re["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]=o[f]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data),this.props.sleep&&o[f].light&&this.props.showDaily&&(re["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4"]=o[f].light,re["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4"]=o[f].deep,re["\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4"]=o[f].total),this.props.sleep&&o[f].light&&!this.props.showDaily&&(re["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4"]=o[f].light.Data,re["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4"]=o[f].deep.Data,re["\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4"]=o[f].total.Data),Z.push(re)):(this.props.date&&(this.props.weekly?re["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=0:re["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=0),this.props.steps&&h.before["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter&&(re["\u05e6\u05e2\u05d3\u05d9\u05dd"]=(h.before["\u05e6\u05e2\u05d3\u05d9\u05dd"].sum/h.before["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter).toFixed(2)),this.props.distance&&h.before["\u05de\u05e8\u05d7\u05e7"].counter&&(re["\u05de\u05e8\u05d7\u05e7"]=(h.before["\u05de\u05e8\u05d7\u05e7"].sum/h.before["\u05de\u05e8\u05d7\u05e7"].counter).toFixed(2)),this.props.calories&&h.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter&&(re["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]=(h.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].sum/h.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter).toFixed(2)),this.props.weather&&h.before.weather.counter&&(re["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]=(h.before.weather.sum/h.before.weather.counter).toFixed(2)),this.props.sleep&&h.before.light.counter&&(re["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4"]=(h.before.light.sum/h.before.light.counter).toFixed(2)),this.props.sleep&&h.before.deep.counter&&(re["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4"]=(h.before.deep.sum/h.before.deep.counter).toFixed(2)),this.props.sleep&&h.before.total.counter&&(re["\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4"]=(h.before.total.sum/h.before.total.counter).toFixed(2)),Z.push(re),re={},this.props.date&&(this.props.weekly?re["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=0:re["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=0),re["\u05ea\u05d0\u05e8\u05d9\u05da"]=f,this.props.steps&&h.after["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter&&(re["\u05e6\u05e2\u05d3\u05d9\u05dd"]=(h.after["\u05e6\u05e2\u05d3\u05d9\u05dd"].sum/h.after["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter).toFixed(2)),this.props.distance&&h.after["\u05de\u05e8\u05d7\u05e7"].counter&&(re["\u05de\u05e8\u05d7\u05e7"]=(h.after["\u05de\u05e8\u05d7\u05e7"].sum/h.after["\u05de\u05e8\u05d7\u05e7"].counter).toFixed(2)),this.props.calories&&h.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter&&(re["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]=(h.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].sum/h.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter).toFixed(2)),this.props.weather&&h.after.weather.counter&&(re["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]=(h.after.weather.sum/h.after.weather.counter).toFixed(2)),this.props.sleep&&h.after.light.counter&&(re["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4"]=(h.after.light.sum/h.after.light.counter).toFixed(2)),this.props.sleep&&h.after.deep.counter&&(re["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4"]=(h.after.deep.sum/h.after.deep.counter).toFixed(2)),this.props.sleep&&h.after.total.counter&&(re["\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4"]=(h.after.total.sum/h.after.total.counter).toFixed(2)),Z.push(re))}}}return r.a.createElement("div",null,this.props.ready?r.a.createElement("div",{className:"center"},t?r.a.createElement("h4",null,"\u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9"):r.a.createElement("table",{style:{width:"100%"},id:"mdd",className:"tabels",align:"center"},r.a.createElement("tbody",null,r.a.createElement("tr",null,this.props.dataArr.length>0&&this.props.showDaily?r.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05d9\u05d5\u05dd"):null,this.props.dataArr.length>0&&this.props.weekly?r.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"):null,this.props.dataArr.length>0&&this.props.monthly?r.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"):null,this.props.dataArr.length>0?r.a.createElement("th",null,"\u05ea\u05d0\u05e8\u05d9\u05da"):null,this.props.steps?r.a.createElement("th",null,"\u05e6\u05e2\u05d3\u05d9\u05dd"):null,this.props.steps?r.a.createElement("th",null,"\u05e6\u05e2\u05d3\u05d9 \u05e7\u05d1\u05d5\u05e6\u05ea \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4"):null,this.props.distance?r.a.createElement("th",null,"\u05de\u05e8\u05d7\u05e7"):null,this.props.distance?r.a.createElement("th",null,"\u05de\u05e8\u05d7\u05e7 \u05e7\u05d1\u05d5\u05e6\u05ea \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4"):null,this.props.calories?r.a.createElement("th",null,"\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"):null,this.props.calories?r.a.createElement("th",null,"\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05e7\u05d1\u05d5\u05e6\u05ea \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4"):null,this.props.weather?r.a.createElement("th",null,"\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"):null,this.props.sleep?r.a.createElement("th",null,"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4"):null,this.props.sleep?r.a.createElement("th",null,"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4"):null,this.props.sleep?r.a.createElement("th",null,"\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4"):null),M)),this.props.dataArr.length>0&&!t?r.a.createElement(x,{csvData:Z,fileName:this.props.name+" \u05de\u05d3\u05d3\u05d9\u05dd"}):null):null)}}]),s}(s.Component),A=(a(63),function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this)).handleChange=s.handleChange.bind(Object(g.a)(s)),s}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,r=t.type,n=t.checked;"checkbox"===r?this.setState(Object(D.a)({},a,n)):this.setState(Object(D.a)({},a,s))}},{key:"render",value:function(){if(this.props.ready){var e=!1;if(this.props.data.length>0){var t,a,s=!1,n=[],o=[],i=this.props.data,l={},c=[],p=new Date(this.props.date),u={before:{sum:0,counter:0,text:""},after:{sum:0,counter:0,text:""}};if(this.props.weekly){var h=p.getDay(),m=new Date(this.props.date-864e5*h),d=new Date(m.getTime()+5184e5);a=m.toLocaleDateString("en-GB",{day:"numeric"})+"-"+d.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}this.props.monthly&&(a=p.toLocaleDateString("en-GB",{month:"short"}));var f=Math.min();for(t=0;t<i.length;t++)if(this.props.showDaily){for(var g=new Date(i[t].ValidTime),b=g.toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-"),E="",v=0;v<i[t].Answers[1].AnswerID.length;v++)0===i[t].Answers[1].AnswerID[v]?E+="\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9, ":1===i[t].Answers[1].AnswerID[v]?E+="\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea, ":2===i[t].Answers[1].AnswerID[v]?E+="\u05de\u05ea\u05e7\u05d3\u05de\u05ea, ":3===i[t].Answers[1].AnswerID[v]&&(E+="\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea, ");E=E.slice(0,-2);var y=new Date(i[t].ValidTime);y.setHours(0,0,0,0),p.setHours(0,0,0,0);var w=Math.floor((y.getTime()-this.props.date)/864e5);w<0&&w++,f===w&&w++,f=w,this.props.date||(w="-"),n.push(r.a.createElement("tr",{key:t},i[t].ValidTime<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},w):r.a.createElement("td",{className:"after"},w),i[t].ValidTime<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},b):r.a.createElement("td",{className:"after"},b),i[t].ValidTime<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},i[t].Answers[0].AnswerID[0]):r.a.createElement("td",{className:"after"},i[t].Answers[0].AnswerID[0]),i[t].ValidTime<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},E):r.a.createElement("td",{className:"after"},E)));var D={};D["\u05de\u05e1\u05e4\u05e8 \u05d9\u05d5\u05dd"]=w,D["\u05ea\u05d0\u05e8\u05d9\u05da"]=b,D["\u05e8\u05de\u05ea \u05db\u05d0\u05d1"]=i[t].Answers[0].AnswerID[0],D["\u05ea\u05e8\u05d5\u05e4\u05d4"]=E,c.push(D)}else if(this.props.weekly){var S=(g=new Date(i[t].ValidTime)).getDay(),k=new Date(i[t].ValidTime-864e5*S),I=new Date(k.getTime()+5184e5);if(a===(b=k.toLocaleDateString("en-GB",{day:"numeric"})+"-"+I.toLocaleDateString("en-GB",{day:"numeric",month:"short"}))){if(i[t].ValidTime<this.props.date)for(u.before.sum+=i[t].Answers[0].AnswerID[0],u.before.counter++,v=0;v<i[t].Answers[1].AnswerID.length;v++)u.before.text.includes("\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9")||0!==i[t].Answers[1].AnswerID[v]?u.before.text.includes("\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea")||1!==i[t].Answers[1].AnswerID[v]?u.before.text.includes("\u05de\u05ea\u05e7\u05d3\u05de\u05ea")||2!==i[t].Answers[1].AnswerID[v]?u.before.text.includes("\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea")||3!==i[t].Answers[1].AnswerID[v]||(u.before.text+="\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea, "):u.before.text+="\u05de\u05ea\u05e7\u05d3\u05de\u05ea, ":u.before.text+="\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea, ":u.before.text+="\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9, ";else for(u.after.sum+=i[t].Answers[0].AnswerID[0],u.after.counter++,v=0;v<i[t].Answers[1].AnswerID.length;v++)u.after.text.includes("\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9")||0!==i[t].Answers[1].AnswerID[v]?u.after.text.includes("\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea")||1!==i[t].Answers[1].AnswerID[v]?u.after.text.includes("\u05de\u05ea\u05e7\u05d3\u05de\u05ea")||2!==i[t].Answers[1].AnswerID[v]?u.after.text.includes("\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea")||3!==i[t].Answers[1].AnswerID[v]||(u.after.text+="\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea, "):u.after.text+="\u05de\u05ea\u05e7\u05d3\u05de\u05ea, ":u.after.text+="\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea, ":u.after.text+="\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9, ";s||(o.push(i[t].ValidTime),s=!0);continue}for(null==l[b]&&(l[b]={},l[b].sum=0,l[b].counter=0,l[b].text="",o.push(i[t].ValidTime)),l[b].sum+=i[t].Answers[0].AnswerID[0],l[b].counter++,v=0;v<i[t].Answers[1].AnswerID.length;v++)l[b].text.includes("\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9")||0!==i[t].Answers[1].AnswerID[v]?l[b].text.includes("\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea")||1!==i[t].Answers[1].AnswerID[v]?l[b].text.includes("\u05de\u05ea\u05e7\u05d3\u05de\u05ea")||2!==i[t].Answers[1].AnswerID[v]?l[b].text.includes("\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea")||3!==i[t].Answers[1].AnswerID[v]||(l[b].text+="\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea, "):l[b].text+="\u05de\u05ea\u05e7\u05d3\u05de\u05ea, ":l[b].text+="\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea, ":l[b].text+="\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9, "}else if(this.props.monthly){if(a===(b=(g=new Date(i[t].ValidTime)).toLocaleDateString("en-GB",{month:"short"}))){if(i[t].ValidTime<this.props.date)for(u.before.sum+=i[t].Answers[0].AnswerID[0],u.before.counter++,v=0;v<i[t].Answers[1].AnswerID.length;v++)u.before.text.includes("\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9")||0!==i[t].Answers[1].AnswerID[v]?u.before.text.includes("\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea")||1!==i[t].Answers[1].AnswerID[v]?u.before.text.includes("\u05de\u05ea\u05e7\u05d3\u05de\u05ea")||2!==i[t].Answers[1].AnswerID[v]?u.before.text.includes("\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea")||3!==i[t].Answers[1].AnswerID[v]||(u.before.text+="\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea, "):u.before.text+="\u05de\u05ea\u05e7\u05d3\u05de\u05ea, ":u.before.text+="\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea, ":u.before.text+="\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9, ";else for(u.after.sum+=i[t].Answers[0].AnswerID[0],u.after.counter++,v=0;v<i[t].Answers[1].AnswerID.length;v++)u.after.text.includes("\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9")||0!==i[t].Answers[1].AnswerID[v]?u.after.text.includes("\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea")||1!==i[t].Answers[1].AnswerID[v]?u.after.text.includes("\u05de\u05ea\u05e7\u05d3\u05de\u05ea")||2!==i[t].Answers[1].AnswerID[v]?u.after.text.includes("\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea")||3!==i[t].Answers[1].AnswerID[v]||(u.after.text+="\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea, "):u.after.text+="\u05de\u05ea\u05e7\u05d3\u05de\u05ea, ":u.after.text+="\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea, ":u.after.text+="\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9, ";s||(o.push(i[t].ValidTime),s=!0);continue}for(null==l[b]&&(l[b]={},l[b].sum=0,l[b].counter=0,l[b].text="",o.push(i[t].ValidTime)),l[b].sum+=i[t].Answers[0].AnswerID[0],l[b].counter++,v=0;v<i[t].Answers[1].AnswerID.length;v++)l[b].text.includes("\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9")||0!==i[t].Answers[1].AnswerID[v]?l[b].text.includes("\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea")||1!==i[t].Answers[1].AnswerID[v]?l[b].text.includes("\u05de\u05ea\u05e7\u05d3\u05de\u05ea")||2!==i[t].Answers[1].AnswerID[v]?l[b].text.includes("\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea")||3!==i[t].Answers[1].AnswerID[v]||(l[b].text+="\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea, "):l[b].text+="\u05de\u05ea\u05e7\u05d3\u05de\u05ea, ":l[b].text+="\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea, ":l[b].text+="\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9, "}if(o=o.sort(),this.props.weekly||this.props.monthly){for(var _=0,A=Object.entries(l);_<A.length;_++){var C=Object(N.a)(A[_],1)[0];l[C].Data=l[C].sum/l[C].counter}var T=new Date(this.props.date);for(t=0;t<o.length;t++){if(g=new Date(o[t]),(y=new Date(o[t])).setHours(0,0,0,0),this.props.weekly){var O=new Date(T.getTime()-864e5*T.getDay());O.setHours(0,0,0,0),S=g.getDay(),(k=new Date(g.getTime()-864e5*S)).setHours(0,0,0,0),I=new Date(k.getTime()+5184e5),b=k.toLocaleDateString("en-GB",{day:"numeric"})+"-"+I.toLocaleDateString("en-GB",{day:"numeric",month:"short"}),w=Math.floor((k.getTime()-O.getTime())/6048e5)}else{var j=new Date(y.getFullYear(),y.getMonth(),1),F=new Date(T.getFullYear(),T.getMonth(),1);(w=Math.floor((j.getTime()-F.getTime())/24192e5))<0&&w++,b=g.toLocaleDateString("en-GB",{month:"short"})}if(f===w&&w++,f=w,this.props.date||(w="-"),b!==a)l[b].text=l[b].text.slice(0,-2),n.push(r.a.createElement("tr",{key:b},o[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},w):r.a.createElement("td",{className:"after"},w),o[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},b):r.a.createElement("td",{className:"after"},b),o[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},l[b].Data.toFixed(2)):r.a.createElement("td",{className:"after"},l[b].Data.toFixed(2)),o[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},l[b].text):r.a.createElement("td",{className:"after"},l[b].text))),D={},this.props.date&&(this.props.weekly?D["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=w:D["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=w),D["\u05ea\u05d0\u05e8\u05d9\u05da"]=b,D["\u05e8\u05de\u05ea \u05db\u05d0\u05d1"]=l[b],this.props.showDaily?D["\u05ea\u05e8\u05d5\u05e4\u05d4"]=E:D["\u05ea\u05e8\u05d5\u05e4\u05d5\u05ea \u05e9\u05d4\u05d9\u05d5 \u05d1\u05e9\u05d9\u05de\u05d5\u05e9"]=l[b].text,c.push(D);else{u.before.text=u.before.text.slice(0,-2),u.after.text=u.after.text.slice(0,-2),n.push(r.a.createElement("tr",{key:b+"before"},r.a.createElement("td",{className:"before"},w),r.a.createElement("td",{className:"before"},b),u.before.counter?r.a.createElement("td",{className:"before"},(u.before.sum/u.before.counter).toFixed(2)):r.a.createElement("td",{className:"before"},"-"),u.before.counter?r.a.createElement("td",{className:"before"},u.before.text):r.a.createElement("td",{className:"before"},"-"))),n.push(r.a.createElement("tr",{key:b+"after"},r.a.createElement("td",{className:"after"},w),r.a.createElement("td",{className:"after"},b),u.after.counter?r.a.createElement("td",{className:"after"},(u.after.sum/u.after.counter).toFixed(2)):r.a.createElement("td",{className:"after"},"-"),u.after.counter?r.a.createElement("td",{className:"after"},u.after.text):r.a.createElement("td",{className:"after"},"-")));D={},this.props.date&&(this.props.weekly?D["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=0:D["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=0),D["\u05ea\u05d0\u05e8\u05d9\u05da"]=b,D["\u05e8\u05de\u05ea \u05db\u05d0\u05d1"]=(u.before.sum/u.before.counter).toFixed(2),D["\u05ea\u05e8\u05d5\u05e4\u05d5\u05ea \u05e9\u05d4\u05d9\u05d5 \u05d1\u05e9\u05d9\u05de\u05d5\u05e9"]=u.before.text,c.push(D),D={},this.props.date&&(this.props.weekly?D["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=0:D["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=0),D["\u05ea\u05d0\u05e8\u05d9\u05da"]=b,D["\u05e8\u05de\u05ea \u05db\u05d0\u05d1"]=(u.after.sum/u.after.counter).toFixed(2),D["\u05ea\u05e8\u05d5\u05e4\u05d5\u05ea \u05e9\u05d4\u05d9\u05d5 \u05d1\u05e9\u05d9\u05de\u05d5\u05e9"]=u.after.text,c.push(D)}}}}else e=!0}return r.a.createElement("div",null,this.props.ready?r.a.createElement("div",null,e?r.a.createElement("h4",null,"\u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9"):r.a.createElement("div",{className:"center"},r.a.createElement("table",{style:{width:"100%"},id:"daily",className:"tabels"},r.a.createElement("tbody",null,r.a.createElement("tr",null,this.props.showDaily?r.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05d9\u05d5\u05dd"):null,this.props.weekly?r.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"):null,this.props.monthly?r.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"):null,r.a.createElement("th",null,"\u05ea\u05d0\u05e8\u05d9\u05da"),r.a.createElement("th",null,"\u05e8\u05de\u05ea \u05db\u05d0\u05d1"),this.props.showDaily?r.a.createElement("th",null,"\u05ea\u05e8\u05d5\u05e4\u05d4"):r.a.createElement("th",null,"\u05ea\u05e8\u05d5\u05e4\u05d5\u05ea \u05e9\u05d4\u05d9\u05d5 \u05d1\u05e9\u05d9\u05de\u05d5\u05e9")),n)),r.a.createElement(x,{csvData:c,fileName:this.props.name+" \u05e9\u05d0\u05dc\u05d5\u05df \u05d9\u05d5\u05de\u05d9"})),"  "):null)}}]),a}(s.Component)),C=a(49),T=(a(77),function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this)).handleChange=s.handleChange.bind(Object(g.a)(s)),s.sort_by_key=function(e,t){return e.sort((function(e,a){var s=e[t],r=a[t];return s<r?-1:s>r?1:0}))},s}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,r=t.type,n=t.checked;"checkbox"===r?this.setState(Object(D.a)({},a,n)):this.setState(Object(D.a)({},a,s))}},{key:"render",value:function(){if(this.props.ready){var e=!1;if(this.props.data&&this.props.data.length>0){var t,a=this.sort_by_key(this.props.data,"Timestamp"),s={},n=0,o=!1,i=new Date(this.props.date),l={},c={},p=[];if(this.props.weekly){var u=new Date(this.props.date).getDay(),h=new Date(this.props.date-864e5*u),m=new Date(h.getTime()+5184e5);t=h.toLocaleDateString("en-GB",{day:"numeric"})+" - "+m.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}this.props.monthly&&(t=new Date(this.props.date).toLocaleDateString("en-GB",{month:"short"}));for(var d={before:{sum:0,counter:0},after:{sum:0,counter:0}},f=0;f<a.length;f++)if(a[f].Data<0&&(n=-1),this.props.showDaily){var g=new Date(a[f].ValidTime),b=g.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).replace(/ /g,"-");(g<=i||0==i.valueOf()||null==i.valueOf())&&(s[b]=a[f].Data.toFixed(2)),g>=i&&0!=i.valueOf()&&(l[b]=a[f].Data.toFixed(2))}else if(this.props.weekly){var E=(g=new Date(a[f].ValidTime)).getDay(),v=new Date(a[f].ValidTime-864e5*E),y=new Date(v.getTime()+5184e5);t===(b=v.toLocaleDateString("en-GB",{day:"numeric"})+" - "+y.toLocaleDateString("en-GB",{day:"numeric",month:"short"}))?(a[f].ValidTime<this.props.date?(d.before.counter++,d.before.sum+=a[f].Data):(d.after.counter++,d.after.sum+=a[f].Data),o||(o=!0,p.push(a[f].ValidTime))):(null==c[b]&&(c[b]={},c[b].counter=0,c[b].sum=0,p.push(a[f].ValidTime)),c[b].sum+=a[f].Data,c[b].counter++)}else this.props.monthly&&(t===(b=(g=new Date(a[f].ValidTime)).toLocaleDateString("en-GB",{month:"short"}))?(a[f].ValidTime<this.props.date?(d.before.counter++,d.before.sum+=a[f].Data):(d.after.counter++,d.after.sum+=a[f].Data),o||(o=!0,p.push(a[f].ValidTime))):(null==c[b]&&(c[b]={},c[b].counter=0,c[b].sum=0,p.push(a[f].ValidTime)),c[b].sum+=a[f].Data,c[b].counter++));if(p=p.sort(),this.props.weekly||this.props.monthly)for(f=0;f<p.length;f++)g=new Date(p[f]),this.props.weekly?(E=g.getDay(),v=new Date(g.getTime()-864e5*E),y=new Date(v.getTime()+5184e5),b=v.toLocaleDateString("en-GB",{day:"numeric"})+" - "+y.toLocaleDateString("en-GB",{day:"numeric",month:"short"})):b=g.toLocaleDateString("en-GB",{month:"short"}),b!==t?((g<=i||0==i.valueOf()||null==i)&&(s[b]=(c[b].sum/c[b].counter).toFixed(2)),g>=i&&0!=i.valueOf()&&(l[b]=(c[b].sum/c[b].counter).toFixed(2))):(s[b]=(d.before.sum/d.before.counter).toFixed(2),l[b]=(d.after.sum/d.after.counter).toFixed(2));var w=[{name:"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:s},{name:"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:l}]}else e=!0}return r.a.createElement("div",null,this.props.ready?r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,this.props.name),e?r.a.createElement("h4",null,"\u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9"):r.a.createElement(C.a,{download:!0,data:w,min:n}))):null)}}]),a}(s.Component)),O=function(e){Object(c.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this)).handleChange=a.handleChange.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,r=t.type,n=t.checked;"checkbox"===r?this.setState(Object(D.a)({},a,n)):this.setState(Object(D.a)({},a,s))}},{key:"render",value:function(){if(a(63),this.props.ready){for(var e=!0,t=0;t<this.props.data.length;t++)this.props.data[t].data.length>0&&(e=!1);if(e)e=!0;else{var s,n,o={},i=this.props.data,l=!1,c=[],p={},u={before:{1:{},2:{},3:{},4:{},5:{},6:0},after:{1:{},2:{},3:{},4:{},5:{},6:0}};if(u.before[1]={sum:0,counter:0},u.before[2]={sum:0,counter:0},u.before[3]={sum:0,counter:0},u.before[4]={sum:0,counter:0},u.before[5]={sum:0,counter:0},u.before[6]={sum:0,counter:0},u.after[1]={sum:0,counter:0},u.after[2]={sum:0,counter:0},u.after[3]={sum:0,counter:0},u.after[4]={sum:0,counter:0},u.after[5]={sum:0,counter:0},u.after[6]={sum:0,counter:0},this.props.weekly){var h=new Date(this.props.date).getDay(),m=new Date(this.props.date-864e5*h),d=new Date(m.getTime()+5184e5);n=m.toLocaleDateString("en-GB",{day:"numeric"})+"-"+d.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}for(this.props.monthly&&(n=new Date(this.props.date).toLocaleDateString("en-GB",{month:"short"})),t=0;t<i.length;t++)for(s=0;s<i[t].data.length;s++)if(this.props.showDaily){var f=new Date(i[t].data[s].ValidTime),g=f.toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-");null==o[g]&&(o[g]={},c.push(i[t].data[s].ValidTime)),o[g][i[t].data[s].QuestionnaireID]=i[t].data[s].Score,p[i[t].data[s].QuestionnaireID]=!0}else if(this.props.weekly){p[i[t].data[s].QuestionnaireID]=!0;var b=(f=new Date(i[t].data[s].ValidTime)).getDay(),E=new Date(i[t].data[s].ValidTime-864e5*b),v=new Date(E.getTime()+5184e5);if(n===(g=E.toLocaleDateString("en-GB",{day:"numeric"})+"-"+v.toLocaleDateString("en-GB",{day:"numeric",month:"short"}))){i[t].data[s].ValidTime<this.props.date?(u.before[i[t].data[s].QuestionnaireID].sum+=i[t].data[s].Score,u.before[i[t].data[s].QuestionnaireID].counter++):(u.after[i[t].data[s].QuestionnaireID].sum+=i[t].data[s].Score,u.after[i[t].data[s].QuestionnaireID].counter++),l||(c.push(i[t].data[s].ValidTime),l=!0);continue}null==o[g]&&(o[g]={},c.push(i[t].data[s].ValidTime)),null==o[g][i[t].data[s].QuestionnaireID]&&(o[g][i[t].data[s].QuestionnaireID]={},o[g][i[t].data[s].QuestionnaireID].sum=0,o[g][i[t].data[s].QuestionnaireID].counter=0),o[g][i[t].data[s].QuestionnaireID].sum+=i[t].data[s].Score,o[g][i[t].data[s].QuestionnaireID].counter++,p[i[t].data[s].QuestionnaireID]=!0}else if(this.props.monthly){if(p[i[t].data[s].QuestionnaireID]=!0,n===(g=(f=new Date(i[t].data[s].ValidTime)).toLocaleDateString("en-GB",{month:"short"}))){i[t].data[s].ValidTime<this.props.date?(u.before[i[t].data[s].QuestionnaireID].sum+=i[t].data[s].Score,u.before[i[t].data[s].QuestionnaireID].counter++):(u.after[i[t].data[s].QuestionnaireID].sum+=i[t].data[s].Score,u.after[i[t].data[s].QuestionnaireID].counter++),l||(c.push(i[t].data[s].ValidTime),l=!0);continue}null==o[g]&&(o[g]={},c.push(i[t].data[s].ValidTime)),null==o[g][i[t].data[s].QuestionnaireID]&&(o[g][i[t].data[s].QuestionnaireID]={},o[g][i[t].data[s].QuestionnaireID].sum=0,o[g][i[t].data[s].QuestionnaireID].counter=0),o[g][i[t].data[s].QuestionnaireID].sum+=i[t].data[s].Score,o[g][i[t].data[s].QuestionnaireID].counter++,p[i[t].data[s].QuestionnaireID]=!0}c=c.sort();var y=[],w=[];if(this.props.weekly||this.props.monthly)for(var D=0,S=Object.entries(o);D<S.length;D++)for(var k=Object(N.a)(S[D],1)[0],I=0,_=Object.entries(o[k]);I<_.length;I++){var A=Object(N.a)(_[I],1)[0];o[k][A].Data=o[k][A].sum/o[k][A].counter}var C=Math.min();for(t=0;t<c.length;t++){var T={};if(g=(f=new Date(c[t])).toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-"),this.props.showDaily){var O=new Date(c[t]);O.setHours(0,0,0,0);var j=Math.floor((O.getTime()-this.props.date)/864e5);j<0&&j++,C===j&&j++,C=j,this.props.date||(j="-"),o[g].num=j,y.push(r.a.createElement("tr",{key:g},c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},j):r.a.createElement("td",{className:"after"},j),c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},g):r.a.createElement("td",{className:"after"},g),p[1]?o[g][1]>=0||o[g][1]<0?c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[g][1]):r.a.createElement("td",{className:"after"},o[g][1]):c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,p[2]?o[g][2]>=0||o[g][2]<0?c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[g][2]):r.a.createElement("td",{className:"after"},o[g][2]):c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,p[3]?o[g][3]>=0||o[g][3]<0?c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[g][3]):r.a.createElement("td",{className:"after"},o[g][3]):c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,p[4]?o[g][4]>=0||o[g][4]<0?c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[g][4]):r.a.createElement("td",{className:"after"},o[g][4]):c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,p[5]?o[g][5]>=0||o[g][5]<0?c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[g][5]):r.a.createElement("td",{className:"after"},o[g][5]):c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,p[6]?o[g][6]>=0||o[g][6]<0?c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[g][6]):r.a.createElement("td",{className:"after"},o[g][6]):c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null))}else if(this.props.weekly||this.props.monthly){var F=new Date(this.props.date);if((O=new Date(c[t])).setHours(0,0,0,0),this.props.weekly){var Q=new Date(F.getTime()-864e5*F.getDay());Q.setHours(0,0,0,0),b=f.getDay(),(E=new Date(f.getTime()-864e5*b)).setHours(0,0,0,0),v=new Date(E.getTime()+5184e5),g=E.toLocaleDateString("en-GB",{day:"numeric"})+"-"+v.toLocaleDateString("en-GB",{day:"numeric",month:"short"}),j=Math.floor((E.getTime()-Q.getTime())/6048e5)}else{var L=new Date(O.getFullYear(),O.getMonth(),1),P=new Date(F.getFullYear(),F.getMonth(),1);(j=Math.floor((L.getTime()-P.getTime())/24192e5))<0&&j++,g=f.toLocaleDateString("en-GB",{month:"short"})}if(C===j&&j++,C=j,this.props.date||(j="-"),g===n){y.push(r.a.createElement("tr",{key:g+"before"},r.a.createElement("td",{className:"before"},0),r.a.createElement("td",{className:"before"},g),p[1]?u.before[1].counter?r.a.createElement("td",{className:"before"}," ",(u.before[1].sum/u.before[1].counter).toFixed(2)," "):r.a.createElement("td",{className:"before"}," - "):null,p[2]?u.before[2].counter?r.a.createElement("td",{className:"before"}," ",(u.before[2].sum/u.before[2].counter).toFixed(2)," "):r.a.createElement("td",{className:"before"}," - "):null,p[3]?u.before[3].counter?r.a.createElement("td",{className:"before"}," ",(u.before[3].sum/u.before[3].counter).toFixed(2)," "):r.a.createElement("td",{className:"before"}," - "):null,p[4]?u.before[4].counter?r.a.createElement("td",{className:"before"}," ",(u.before[4].sum/u.before[4].counter).toFixed(2)," "):r.a.createElement("td",{className:"before"}," - "):null,p[5]?u.before[5].counter?r.a.createElement("td",{className:"before"}," ",(u.before[5].sum/u.before[5].counter).toFixed(2)," "):r.a.createElement("td",{className:"before"}," - "):null,p[6]?u.before[6].counter?r.a.createElement("td",{className:"before"}," ",(u.before[6].sum/u.before[6].counter).toFixed(2)," "):r.a.createElement("td",{className:"before"}," - "):null)),y.push(r.a.createElement("tr",{key:g+"after"},r.a.createElement("td",{className:"after"},0),r.a.createElement("td",{className:"after"},g),p[1]?u.after[1].counter?r.a.createElement("td",{className:"after"}," ",(u.after[1].sum/u.after[1].counter).toFixed(2)," "):r.a.createElement("td",{className:"after"}," - "):null,p[2]?u.after[2].counter?r.a.createElement("td",{className:"after"}," ",(u.after[2].sum/u.after[2].counter).toFixed(2)," "):r.a.createElement("td",{className:"after"}," - "):null,p[3]?u.after[3].counter?r.a.createElement("td",{className:"after"}," ",(u.after[3].sum/u.after[3].counter).toFixed(2)," "):r.a.createElement("td",{className:"after"}," - "):null,p[4]?u.after[4].counter?r.a.createElement("td",{className:"after"}," ",(u.after[4].sum/u.after[4].counter).toFixed(2)," "):r.a.createElement("td",{className:"after"}," - "):null,p[5]?u.after[5].counter?r.a.createElement("td",{className:"after"}," ",(u.after[5].sum/u.after[5].counter).toFixed(2)," "):r.a.createElement("td",{className:"after"}," - "):null,p[6]?u.after[6].counter?r.a.createElement("td",{className:"after"}," ",(u.after[6].sum/u.after[6].counter).toFixed(2)," "):r.a.createElement("td",{className:"after"}," - "):null)),T={};this.props.date&&(this.props.weekly?T["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=0:T["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=0),T["\u05ea\u05d0\u05e8\u05d9\u05da"]=g,p[1]&&u.before[1].counter&&(T["Oswestry Disability Index"]=(u.before[1].sum/u.before[1].counter).toFixed(2)),p[2]&&u.before[2].counter&&(T["Neck Disability Index"]=(u.before[2].sum/u.before[2].counter).toFixed(2)),p[3]&&u.before[3].counter&&(T["Lower Extremity Functional Scale"]=(u.before[3].sum/u.before[3].counter).toFixed(2)),p[41]&&u.before[4].counter&&(T["Oswestry low back pain"]=(u.before[4].sum/u.before[4].counter).toFixed(2)),p[5]&&u.before[5].counter&&(T["EQ-5D"]=(u.before[5].sum/u.before[5].counter).toFixed(2)),p[6]&&u.before[6].counter&&(T["EQ-5D"]=(u.before[6].sum/u.before[6].counter).toFixed(2)),w.push(T),T={},this.props.date&&(this.props.weekly?T["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=0:T["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=0),T["\u05ea\u05d0\u05e8\u05d9\u05da"]=g,p[1]&&u.after[1].counter&&(T["Oswestry Disability Index"]=(u.after[1].sum/u.after[1].counter).toFixed(2)),p[2]&&u.after[2].counter&&(T["Neck Disability Index"]=(u.after[2].sum/u.after[2].counter).toFixed(2)),p[3]&&u.after[3].counter&&(T["Lower Extremity Functional Scale"]=(u.after[3].sum/u.after[3].counter).toFixed(2)),p[41]&&u.after[4].counter&&(T["Oswestry low back pain"]=(u.after[4].sum/u.after[4].counter).toFixed(2)),p[5]&&u.after[5].counter&&(T["EQ-5D"]=(u.after[5].sum/u.after[5].counter).toFixed(2)),p[6]&&u.after[6].counter&&(T["EQ-5D"]=(u.after[6].sum/u.after[6].counter).toFixed(2)),w.push(T);continue}y.push(r.a.createElement("tr",{key:g},c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},j):r.a.createElement("td",{className:"after"},j),c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},g):r.a.createElement("td",{className:"after"},g),p[1]?o[g][1]&&(o[g][1].Data>=0||o[g][1].Data<0)?c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[g][1].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[g][1].Data.toFixed(2)):c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,p[2]?o[g][2]&&(o[g][2].Data>=0||o[g][2].Data<0)?c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[g][2].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[g][2].Data.toFixed(2)):c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,p[3]?o[g][3]&&(o[g][3].Data>=0||o[g][3].Data<0)?c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[g][3].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[g][3].Data.toFixed(2)):c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,p[4]?o[g][4]&&(o[g][4].Data>=0||o[g][4].Data<0)?c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[g][4].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[g][4].Data.toFixed(2)):c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,p[5]?o[g][5]&&(o[g][5].Data>=0||o[g][5].Data<0)?c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[g][5].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[g][5].Data.toFixed(2)):c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null,p[6]?o[g][6]&&(o[g][6].Data>=0||o[g][6].Data<0)?c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},o[g][6].Data.toFixed(2)):r.a.createElement("td",{className:"after"},o[g][6].Data.toFixed(2)):c[t]<this.props.date||!this.props.date?r.a.createElement("td",{className:"before"},"-"):r.a.createElement("td",{className:"after"},"-"):null))}T={},this.props.date&&(this.props.showDaily?T["\u05de\u05e1\u05e4\u05e8 \u05d9\u05d5\u05dd"]=j:this.props.weekly?T["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=j:T["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=j),T["\u05ea\u05d0\u05e8\u05d9\u05da"]=g,this.props.showDaily?(p[1]&&(o[g][1]>0||o[g][1]<=0)&&(T["Oswestry Disability Index"]=o[g][1]),p[2]&&(o[g][2]>0||o[g][2]<=0)&&(T["Neck Disability Index"]=o[g][2]),p[3]&&(o[g][3]>0||o[g][3]<=0)&&(T["Lower Extremity Functional Scale"]=o[g][3]),p[4]&&(o[g][4]>0||o[g][4]<=0)&&(T["Oswestry low back pain"]=o[g][4]),p[5]&&(o[g][5]>0||o[g][5]<=0)&&(T["EQ-5D"]=o[g][5]),p[6]&&(o[g][6]>0||o[g][6]<=0)&&(T["EQ-5D scale"]=o[g][6])):(p[1]&&o[g][1]&&o[g][1].counter&&(T["Oswestry Disability Index"]=o[g][1].Data.toFixed(2)),p[2]&&o[g][2]&&o[g][2].counter&&(T["Neck Disability Index"]=o[g][2].Data.toFixed(2)),p[3]&&o[g][3]&&o[g][3].counter&&(T["Lower Extremity Functional Scale"]=o[g][3].Data.toFixed(2)),p[4]&&o[g][4]&&o[g][4].counter&&(T["Oswestry low back pain"]=o[g][4].Data.toFixed(2)),p[5]&&o[g][5]&&o[g][5].counter&&(T["EQ-5D"]=o[g][5].Data.toFixed(2)),p[6]&&o[g][6]&&o[g][6].counter&&(T["EQ-5D scale"]=o[g][6].Data.toFixed(2))),w.push(T)}}}return r.a.createElement("div",null,this.props.ready?r.a.createElement("div",null,e?r.a.createElement("h4",null,"\u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9"):r.a.createElement("div",null,r.a.createElement("table",{style:{width:"100%"},id:"per"},r.a.createElement("tbody",null,r.a.createElement("tr",null,this.props.showDaily?r.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05d9\u05d5\u05dd"):null,this.props.weekly?r.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"):null,this.props.monthly?r.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"):null,this.props.data.length>0?r.a.createElement("th",null,"\u05ea\u05d0\u05e8\u05d9\u05da"):null,p[1]?r.a.createElement("th",null,"Oswestry Disability Index"):null,p[2]?r.a.createElement("th",null,"Neck Disability Index"):null,p[3]?r.a.createElement("th",null,"Lower Extremity Functional Scale"):null,p[4]?r.a.createElement("th",null,"Oswestry low back pain"):null,p[5]?r.a.createElement("th",null,"EQ-5D"):null,p[6]?r.a.createElement("th",null,"EQ-5D scale"):null),y)),r.a.createElement(x,{csvData:w,fileName:this.props.name+" \u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05ea\u05e7\u05d5\u05e4\u05ea\u05d9\u05d9\u05dd"}))):null)}}]),s}(s.Component),j=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this)).handleChange=s.handleChange.bind(Object(g.a)(s)),s.sort_by_key=function(e,t){return e.sort((function(e,a){var s=e[t],r=a[t];return s<r?-1:s>r?1:0}))},s}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,r=t.type,n=t.checked;"checkbox"===r?this.setState(Object(D.a)({},a,n)):this.setState(Object(D.a)({},a,s))}},{key:"render",value:function(){if(this.props.ready){var e=!1;if(this.props.data&&this.props.data.length>0){var t,a=this.sort_by_key(this.props.data,"ValidTime"),s={},n={},o={},i=new Date(this.props.date),l={},c={},p={},u={},h=[],m=!1;if(this.props.weekly){var d=new Date(this.props.date).getDay(),f=new Date(this.props.date-864e5*d),g=new Date(f.getTime()+5184e5);t=f.toLocaleDateString("en-GB",{day:"numeric"})+" - "+g.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}this.props.monthly&&(t=new Date(this.props.date).toLocaleDateString("en-GB",{month:"short"}));var b={before:{light:{},deep:{},total:{}},after:{light:{},deep:{},total:{}}};b.before.light={sum:0,counter:0},b.before.deep={sum:0,counter:0},b.before.total={sum:0,counter:0},b.after.total={sum:0,counter:0},b.after.deep={sum:0,counter:0},b.after.light={sum:0,counter:0};for(var E=0;E<a.length;E++){for(var v,y=new Date(a[E].ValidTime),w=0,D=0,N=0,S=0;S<a[E].Data.length;S++){if(0===S)v=a[E].Data[S].StartTime;else if(v===a[E].Data[S].StartTime)break;var k=a[E].Data[S].EndTime-a[E].Data[S].StartTime;k/=36e5,"Light sleep"===a[E].Data[S].State?D+=k:w+=k,N+=k}if(this.props.showDaily){var x=y.toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-");(y<=i||0==i.valueOf()||null==i.valueOf())&&(s[x]=w.toFixed(2),n[x]=D.toFixed(2),o[x]=N.toFixed(2)),y>=i&&0!=i.valueOf()&&(l[x]=w.toFixed(2),c[x]=D.toFixed(2),p[x]=N.toFixed(2))}else if(this.props.weekly){var I=(y=new Date(a[E].ValidTime)).getDay(),_=new Date(a[E].ValidTime-864e5*I),A=new Date(_.getTime()+5184e5);t===(x=_.toLocaleDateString("en-GB",{day:"numeric"})+" - "+A.toLocaleDateString("en-GB",{day:"numeric",month:"short"}))?(a[E].ValidTime<this.props.date?(b.before.light.counter++,b.before.light.sum+=D,b.before.deep.counter++,b.before.deep.sum+=w,b.before.total.counter++,b.before.total.sum+=N):(b.after.light.counter++,b.after.light.sum+=D,b.after.deep.counter++,b.after.deep.sum+=w,b.after.total.counter++,b.after.total.sum+=N),m||(m=!0,h.push(a[E].ValidTime))):(null==u[x]&&(u[x]={},u[x].light={},u[x].deep={},u[x].total={},u[x].light.counter=0,u[x].light.sum=0,u[x].deep.counter=0,u[x].deep.sum=0,u[x].total.counter=0,u[x].total.sum=0,h.push(a[E].ValidTime)),u[x].light.counter++,u[x].light.sum+=D,u[x].deep.counter++,u[x].deep.sum+=w,u[x].total.counter++,u[x].total.sum+=N)}else this.props.monthly&&(t===(x=(y=new Date(a[E].ValidTime)).toLocaleDateString("en-GB",{month:"short"}))?(a[E].ValidTime<this.props.date?(b.before.light.counter++,b.before.light.sum+=D,b.before.deep.counter++,b.before.deep.sum+=w,b.before.total.counter++,b.before.total.sum+=N):(b.after.light.counter++,b.after.light.sum+=D,b.after.deep.counter++,b.after.deep.sum+=w,b.after.total.counter++,b.after.total.sum+=N),m||(m=!0,h.push(a[E].ValidTime))):(null==u[x]&&(u[x]={},u[x].light={},u[x].deep={},u[x].total={},u[x].light.counter=0,u[x].light.sum=0,u[x].deep.counter=0,u[x].deep.sum=0,u[x].total.counter=0,u[x].total.sum=0,h.push(a[E].ValidTime)),u[x].light.counter++,u[x].light.sum+=D,u[x].deep.counter++,u[x].deep.sum+=w,u[x].total.counter++,u[x].total.sum+=N))}if(h=h.sort(),this.props.weekly||this.props.monthly)for(E=0;E<h.length;E++)y=new Date(h[E]),this.props.weekly?(I=y.getDay(),_=new Date(y.getTime()-864e5*I),A=new Date(_.getTime()+5184e5),x=_.toLocaleDateString("en-GB",{day:"numeric"})+" - "+A.toLocaleDateString("en-GB",{day:"numeric",month:"short"})):x=y.toLocaleDateString("en-GB",{month:"short"}),x!==t?((y<=i||0==i.valueOf()||null==i.valueOf())&&(s[x]=(u[x].deep.sum/u[x].deep.counter).toFixed(2),n[x]=(u[x].light.sum/u[x].light.counter).toFixed(2),o[x]=(u[x].total.sum/u[x].total.counter).toFixed(2)),y>=i&&0!=i.valueOf()&&(l[x]=(u[x].deep.sum/u[x].deep.counter).toFixed(2),c[x]=(u[x].light.sum/u[x].light.counter).toFixed(2),p[x]=(u[x].total.sum/u[x].total.counter).toFixed(2))):(s[x]=(b.before.deep.sum/b.before.deep.counter).toFixed(2),n[x]=(b.before.light.sum/b.before.light.counter).toFixed(2),o[x]=(b.before.total.sum/b.before.total.counter).toFixed(2),l[x]=(b.after.deep.sum/b.after.deep.counter).toFixed(2),c[x]=(b.after.light.sum/b.after.light.counter).toFixed(2),p[x]=(b.after.total.sum/b.after.total.counter).toFixed(2));var T=[{name:"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4 \u05dc\u05e4\u05e0\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:n},{name:"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4 \u05dc\u05e4\u05e0\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:s},{name:"\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4 \u05dc\u05e4\u05e0\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:o},{name:"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4 \u05d0\u05d7\u05e8\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:c},{name:"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4 \u05d0\u05d7\u05e8\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:l},{name:"\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4 \u05d0\u05d7\u05e8\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:p}]}else e=!0}return r.a.createElement("div",null,this.props.ready?r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,this.props.name),e?r.a.createElement("h4",null,"\u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9"):r.a.createElement(C.a,{download:!0,data:T,colors:["#010C6B","#7C0000","#0D4E00","#77CCEE","#F78989","#B5FFA2"],min:0}))):null)}}]),a}(s.Component),F=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this)).handleChange=s.handleChange.bind(Object(g.a)(s)),s.sort_by_key=function(e,t){return e.sort((function(e,a){var s=e[t],r=a[t];return s<r?-1:s>r?1:0}))},s}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,r=t.type,n=t.checked;"checkbox"===r?this.setState(Object(D.a)({},a,n)):this.setState(Object(D.a)({},a,s))}},{key:"render",value:function(){if(this.props.ready){var e=!1;if(this.props.data.length>0){var t,a=this.sort_by_key(this.props.data,"ValidTime"),s={},n=new Date(this.props.date),o={},i={},l=[],c=!1;if(this.props.weekly){var p=new Date(this.props.date).getDay(),u=new Date(this.props.date-864e5*p),h=new Date(u.getTime()+5184e5);t=u.toLocaleDateString("en-GB",{day:"numeric"})+" - "+h.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}this.props.monthly&&(t=new Date(this.props.date).toLocaleDateString("en-GB",{month:"short"}));for(var m={before:{sum:0,counter:0},after:{sum:0,counter:0}},d=0;d<a.length;d++)if(this.props.showDaily){var f=new Date(a[d].ValidTime),g=f.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).replace(/ /g,"-");(f<=n||0==n.valueOf()||null==n)&&(s[g]=a[d].Answers[0].AnswerID[0].toFixed(2)),f>=n&&0!=n.valueOf()&&(o[g]=a[d].Answers[0].AnswerID[0].toFixed(2))}else if(this.props.weekly){var b=(f=new Date(a[d].ValidTime)).getDay(),E=new Date(a[d].ValidTime-864e5*b),v=new Date(E.getTime()+5184e5);t===(g=E.toLocaleDateString("en-GB",{day:"numeric"})+" - "+v.toLocaleDateString("en-GB",{day:"numeric",month:"short"}))?(a[d].ValidTime<this.props.date?(m.before.counter++,m.before.sum+=a[d].Answers[0].AnswerID[0]):(m.after.counter++,m.after.sum+=a[d].Answers[0].AnswerID[0]),c||(c=!0,l.push(a[d].ValidTime))):(null==i[g]&&(i[g]={},i[g].counter=0,i[g].sum=0,l.push(a[d].ValidTime)),i[g].sum+=a[d].Answers[0].AnswerID[0],i[g].counter++)}else this.props.monthly&&(t===(g=(f=new Date(a[d].ValidTime)).toLocaleDateString("en-GB",{month:"short"}))?(a[d].ValidTime<this.props.date?(m.before.counter++,m.before.sum+=a[d].Answers[0].AnswerID[0]):(m.after.counter++,m.after.sum+=a[d].Answers[0].AnswerID[0]),c||(c=!0,l.push(a[d].ValidTime))):(null==i[g]&&(i[g]={},i[g].counter=0,i[g].sum=0,l.push(a[d].ValidTime)),i[g].sum+=a[d].Answers[0].AnswerID[0],i[g].counter++));if(l=l.sort(),this.props.weekly||this.props.monthly)for(d=0;d<l.length;d++)f=new Date(l[d]),this.props.weekly?(b=f.getDay(),E=new Date(f.getTime()-864e5*b),v=new Date(E.getTime()+5184e5),g=E.toLocaleDateString("en-GB",{day:"numeric"})+" - "+v.toLocaleDateString("en-GB",{day:"numeric",month:"short"})):g=f.toLocaleDateString("en-GB",{month:"short"}),g!==t?((f<=n||0==n.valueOf()||null==n)&&(s[g]=(i[g].sum/i[g].counter).toFixed(2)),f>=n&&0!=n.valueOf()&&(o[g]=(i[g].sum/i[g].counter).toFixed(2))):(s[g]=(m.before.sum/m.before.counter).toFixed(2),o[g]=(m.after.sum/m.after.counter).toFixed(2));var y=[{name:"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:s},{name:"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:o}]}else e=!0}return r.a.createElement("div",null,this.props.ready?r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,this.props.name),e?r.a.createElement("h4",null,"\u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9"):r.a.createElement(C.a,{download:!0,data:y,min:0}))):null)}}]),a}(s.Component),Q=function(e){Object(c.a)(s,e);var t=Object(p.a)(s);function s(e){var a;Object(i.a)(this,s),a=t.call(this);for(var r=!1,n=!1,o=!1,l=!1,c=0;c<e.user.Questionnaires.length;c++)1===e.user.Questionnaires[c].QuestionnaireID?r=!0:2===e.user.Questionnaires[c].QuestionnaireID?n=!0:3===e.user.Questionnaires[c].QuestionnaireID?o=!0:5===e.user.Questionnaires[c].QuestionnaireID&&(l=!0);return a.state={user:e.user,showPopup:!1,showPopupQ:!1,new_date:"",Questionnaires:[],quest1:!1,quest2:r,quest3:n,quest4:o,quest5:l,quest6:!1},a.changeDate=a.changeDate.bind(Object(g.a)(a)),a.togglePopup=a.togglePopup.bind(Object(g.a)(a)),a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.togglePopupQ=a.togglePopupQ.bind(Object(g.a)(a)),a.handleSubmitQ=a.handleSubmitQ.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=new Date(this.state.new_date).getTime(),s=this.props.user.UserID;v.a.post("  https://moda-medic.herokuapp.com/auth/usersAll/changeDateOfSurgery",{UserID:s,DateOfSurgery:a,changedSurgeryDate:!0},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}).then((function(e){window.alert("\u05d4\u05ea\u05d0\u05e8\u05d9\u05da \u05e9\u05d5\u05e0\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),t.togglePopup()}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,r=t.type,n=t.checked;"checkbox"===r?this.setState(Object(D.a)({},a,n)):this.setState(Object(D.a)({},a,s))}},{key:"handleSubmitQ",value:function(e){var t=this;e.preventDefault();var a=[];this.state.quest2&&a.push({QuestionnaireID:1,QuestionnaireText:"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05d1 \u05ea\u05d7\u05ea\u05d5\u05df"}),this.state.quest3&&a.push({QuestionnaireID:2,QuestionnaireText:"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05e6\u05d5\u05d5\u05d0\u05e8"}),this.state.quest4&&a.push({QuestionnaireID:3,QuestionnaireText:"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05e3 \u05ea\u05d7\u05ea\u05d5\u05df"}),this.state.quest5&&a.push({QuestionnaireID:5,QuestionnaireText:"\u05d0\u05d9\u05db\u05d5\u05ea \u05d7\u05d9\u05d9\u05dd"});var s=this.props.user.UserID;v.a.post("  https://moda-medic.herokuapp.com/auth/usersAll/changeUserQuestionnaire",{UserID:s,Questionnaires:a},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}).then((function(e){window.alert("\u05d4\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05e9\u05d5\u05e0\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),t.togglePopupQ()}))}},{key:"changeQuest",value:function(){this.togglePopupQ()}},{key:"changeDate",value:function(){this.togglePopup()}},{key:"togglePopupQ",value:function(){this.setState({showPopupQ:!this.state.showPopupQ})}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"render",value:function(){var e=this;a(115);var t=this.props.user.First_Name+" "+this.props.user.Last_Name,s=parseFloat(this.props.user.BMI).toFixed(1),n="";n=this.props.user.DateOfSurgery?new Date(this.props.user.DateOfSurgery).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"\u05dc\u05d0 \u05e0\u05e7\u05d1\u05e2 \u05d9\u05d5\u05dd \u05e0\u05d9\u05ea\u05d5\u05d7";for(var o=this.props.user.Gender,i=this.props.user.Height,l=this.props.user.Phone_Number,c=this.props.user.Smoke,p=this.props.user.SurgeryType,u=this.props.user.Weight,h=new Date,m=new Date(this.props.user.BirthDate),d=Math.floor((h.getTime()-m.getTime())/31536e6),f="",g=!0,b=0;b<this.props.user.Questionnaires.length;b++)0!==this.props.user.Questionnaires[b].QuestionnaireID&&6!==this.props.user.Questionnaires[b].QuestionnaireID&&(g?g=!1:f+=", ",f.includes(this.props.user.Questionnaires[b].QuestionnaireText)||(f+=this.props.user.Questionnaires[b].QuestionnaireText));" "===f.charAt(f.length-1)&&(f=f.substring(0,f.length-2));var E="g";return this.props.table&&(E="t"),r.a.createElement("div",{id:"data",className:E},r.a.createElement("div",{className:"line"},r.a.createElement("label",{className:"label"},"\u05e9\u05dd:"),r.a.createElement("label",{className:"labelData"},t),r.a.createElement("label",{className:"label"},"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df:"),r.a.createElement("label",{className:"labelData"},l)),r.a.createElement("div",{className:"line"},r.a.createElement("label",{className:"label"},"\u05de\u05d9\u05df:"),r.a.createElement("label",{className:"labelData"},o),r.a.createElement("label",{className:"label"},"\u05de\u05e9\u05e7\u05dc:"),r.a.createElement("label",{className:"labelData"},u),r.a.createElement("label",{className:"label"},"\u05d2\u05d5\u05d1\u05d4:"),r.a.createElement("label",{className:"labelData"},i),r.a.createElement("label",{className:"label"},"\u05d2\u05d9\u05dc:"),r.a.createElement("label",{className:"labelData"},d),r.a.createElement("label",{className:"label"},"BMI:"),r.a.createElement("label",{className:"labelData"},s),r.a.createElement("label",{className:"labelData"},c)),r.a.createElement("div",{className:"line"},r.a.createElement("label",{className:"label"},"\u05e1\u05d5\u05d2 \u05e0\u05d9\u05ea\u05d5\u05d7:"),r.a.createElement("label",{className:"labelData"},p),r.a.createElement("label",{className:"label"},"\u05ea\u05d0\u05e8\u05d9\u05da \u05e0\u05d9\u05ea\u05d5\u05d7:"),r.a.createElement("label",{className:"labelData"},n),r.a.createElement("button",{className:"changeDate",onClick:function(){return e.changeDate()}},"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05d4\u05ea\u05d0\u05e8\u05d9\u05da")),this.state.showPopup?r.a.createElement(L,{closePopup:this.togglePopup.bind(this),handleChange:this.handleChange.bind(this),handleSubmit:this.handleSubmit.bind(this)}):null,this.state.showPopupQ?r.a.createElement(P,{closePopup:this.togglePopupQ.bind(this),handleChange:this.handleChange.bind(this),handleSubmit:this.handleSubmitQ.bind(this),quest1:this.state.quest1,quest2:this.state.quest2,quest3:this.state.quest3,quest4:this.state.quest4,quest5:this.state.quest5,quest6:this.state.quest6}):null)}}]),s}(s.Component),L=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup_innerCD"},r.a.createElement("div",{className:"line_x"},r.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x")),r.a.createElement("h4",{id:"h4C"},"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7"),r.a.createElement("form",{onSubmit:this.props.handleSubmit,id:"newDate_form"},r.a.createElement("div",{className:"line_newData"},r.a.createElement("label",{id:"newD"}," \u05d4\u05db\u05e0\u05e1 \u05ea\u05d0\u05e8\u05d9\u05da \u05e0\u05d9\u05ea\u05d5\u05d7 \u05d7\u05d3\u05e9:")),r.a.createElement("div",{className:"line_newData"},r.a.createElement("input",{id:"new_date",type:"date",name:"new_date",onChange:this.props.handleChange})),r.a.createElement("div",{className:"line_newData"},r.a.createElement("button",{id:"sumbitC",type:"sumbit"},"\u05e9\u05d9\u05e0\u05d5\u05d9")),r.a.createElement("div",{className:"line_newData"},r.a.createElement("label",{id:"noDate"},"*\u05dc\u05d1\u05d9\u05d8\u05d5\u05dc \u05ea\u05d0\u05e8\u05d9\u05da \u05e0\u05d9\u05ea\u05d5\u05d7 \u05d9\u05e9 \u05dc\u05dc\u05d7\u05d5\u05e5 \u05e2\u05dc \u05e9\u05d9\u05e0\u05d5\u05d9 \u05d1\u05dc\u05d9 \u05e7\u05d1\u05d9\u05e2\u05ea \u05ea\u05d0\u05e8\u05d9\u05da \u05d7\u05d3\u05e9")))))}}]),a}(r.a.Component),P=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup_innerCQ"},r.a.createElement("div",{className:"line_x"},r.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x")),r.a.createElement("h4",{id:"h4C"},"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd"),r.a.createElement("form",{id:"formQ",onSubmit:this.props.handleSubmit},r.a.createElement("div",{className:"line"},r.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest2",checked:this.props.quest2,onChange:this.props.handleChange}),r.a.createElement("label",{className:"mLabel"},"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05d1 \u05ea\u05d7\u05ea\u05d5\u05df")),r.a.createElement("div",{className:"line"},r.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest3",checked:this.props.quest3,onChange:this.props.handleChange}),r.a.createElement("label",{className:"mLabel"},"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05e6\u05d5\u05d5\u05d0\u05e8")),r.a.createElement("div",{className:"line"},r.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest4",checked:this.props.quest4,onChange:this.props.handleChange}),r.a.createElement("label",{className:"mLabel"},"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05e3 \u05ea\u05d7\u05ea\u05d5\u05df")),r.a.createElement("div",{className:"line"},r.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest5",checked:this.props.quest5,onChange:this.props.handleChange}),r.a.createElement("label",{className:"mLabel"},"\u05d0\u05d9\u05db\u05d5\u05ea \u05d7\u05d9\u05d9\u05dd")),r.a.createElement("button",{id:"changeQ",type:"sumbit"},"\u05e9\u05d9\u05e0\u05d5\u05d9"))))}}]),a}(r.a.Component),q=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this)).handleChange=s.handleChange.bind(Object(g.a)(s)),s.sort_by_key=function(e,t){return e.sort((function(e,a){var s=e[t],r=a[t];return s<r?-1:s>r?1:0}))},s}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,r=t.type,n=t.checked;"checkbox"===r?this.setState(Object(D.a)({},a,n)):this.setState(Object(D.a)({},a,s))}},{key:"render",value:function(){if(this.props.ready){var e=!1;if(this.props.data&&this.props.data.length>0&&this.props.data[1]){var t,a,s=this.sort_by_key(this.props.data[1],"Timestamp"),n={},o=0,i=!1,l=new Date(this.props.date),c={},p={},u=[];if(this.props.weekly){var h=(t=new Date(this.props.date)).getDay(),m=new Date(this.props.date-864e5*h),d=new Date(m.getTime()+5184e5);a=m.toLocaleDateString("en-GB",{day:"numeric"})+" - "+d.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}this.props.monthly&&(a=(t=new Date(this.props.date)).toLocaleDateString("en-GB",{month:"short"}));for(var f={before:{sum:0,counter:0},after:{sum:0,counter:0}},g=0;g<s.length;g++)if(s[g].Data<0&&(o=-1),this.props.showDaily){var b=(x=new Date(s[g].ValidTime)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).replace(/ /g,"-");(x<=l||0==this.props.date)&&(n[b]=s[g].Data.toFixed(2)),x>=l&&(c[b]=s[g].Data.toFixed(2))}else if(this.props.weekly){var E=(x=new Date(s[g].ValidTime)).getDay(),v=new Date(s[g].ValidTime-864e5*E),y=new Date(v.getTime()+5184e5);a===(b=v.toLocaleDateString("en-GB",{day:"numeric"})+" - "+y.toLocaleDateString("en-GB",{day:"numeric",month:"short"}))?(s[g].ValidTime<this.props.date?(f.before.counter++,f.before.sum+=s[g].Data):(f.after.counter++,f.after.sum+=s[g].Data),i||(i=!0,u.push(s[g].ValidTime))):(null==p[b]&&(p[b]={},p[b].counter=0,p[b].sum=0,u.push(s[g].ValidTime)),p[b].sum+=s[g].Data,p[b].counter++)}else this.props.monthly&&(a===(b=(x=new Date(s[g].ValidTime)).toLocaleDateString("en-GB",{month:"short"}))?(s[g].ValidTime<this.props.date?(f.before.counter++,f.before.sum+=s[g].Data):(f.after.counter++,f.after.sum+=s[g].Data),i||(i=!0,u.push(s[g].ValidTime))):(null==p[b]&&(p[b]={},p[b].counter=0,p[b].sum=0,u.push(s[g].ValidTime)),p[b].sum+=s[g].Data,p[b].counter++));if(u=u.sort(),this.props.weekly||this.props.monthly)for(g=0;g<u.length;g++)x=new Date(u[g]),this.props.weekly?(E=x.getDay(),v=new Date(x.getTime()-864e5*E),y=new Date(v.getTime()+5184e5),b=v.toLocaleDateString("en-GB",{day:"numeric"})+" - "+y.toLocaleDateString("en-GB",{day:"numeric",month:"short"})):b=x.toLocaleDateString("en-GB",{month:"short"}),b!==a?((x<=l||0==this.props.date)&&(n[b]=(p[b].sum/p[b].counter).toFixed(2)),x>=l&&(c[b]=(p[b].sum/p[b].counter).toFixed(2))):(n[b]=(f.before.sum/f.before.counter).toFixed(2),c[b]=(f.after.sum/f.after.counter).toFixed(2))}e=!1;if(this.props.data&&this.props.data.length>0&&this.props.data[0]){var w=this.props.data[0][0].Before[0]?this.sort_by_key(this.props.data[0][0].Before[0][0].docs,"Timestamp"):[],D=this.props.data[0][0].After[0]?this.sort_by_key(this.props.data[0][0].After[0][0].docs,"Timestamp"):[],N={},S=(o=0,i=!1,{});p={},u=[];if(this.props.weekly){h=t.getDay(),m=new Date(this.props.date-864e5*h),d=new Date(m.getTime()+5184e5);a=m.toLocaleDateString("en-GB",{day:"numeric"})+" - "+d.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}this.props.monthly&&(a=(t=new Date(this.props.date)).toLocaleDateString("en-GB",{month:"short"}));var k={before:{sum:0,counter:0},after:{sum:0,counter:0}};for(g=0;g<w.length;g++){if(this.props.showDaily)N[b=(x=new Date(w[g].ValidTime)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).replace(/ /g,"-")]=w[g].Data.toFixed(2);else if(this.props.weekly){E=(x=new Date(w[g].ValidTime)).getDay(),v=new Date(w[g].ValidTime-864e5*E),y=new Date(v.getTime()+5184e5);a===(b=v.toLocaleDateString("en-GB",{day:"numeric"})+" - "+y.toLocaleDateString("en-GB",{day:"numeric",month:"short"}))?(k.before.counter++,k.before.sum+=w[g].Data,i||(i=!0,u.push(w[g].ValidTime))):(null==p[b]&&(p[b]={},p[b].counter=0,p[b].sum=0,u.push(w[g].ValidTime)),p[b].sum+=w[g].Data,p[b].counter++)}else this.props.monthly&&(a===(b=(x=new Date(w[g].ValidTime)).toLocaleDateString("en-GB",{month:"short"}))?(k.before.counter++,k.before.sum+=s[g].Data,i||(i=!0,u.push(w[g].ValidTime))):(null==p[b]&&(p[b]={},p[b].counter=0,p[b].sum=0,u.push(s[g].ValidTime)),p[b].sum+=w[g].Data,p[b].counter++))}for(g=0;g<D.length;g++){var x;if(this.props.showDaily)S[b=(x=new Date(D[g].ValidTime)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).replace(/ /g,"-")]=D[g].Data.toFixed(2);else if(this.props.weekly){E=(x=new Date(D[g].ValidTime)).getDay(),v=new Date(D[g].ValidTime-864e5*E),y=new Date(v.getTime()+5184e5);a===(b=v.toLocaleDateString("en-GB",{day:"numeric"})+" - "+y.toLocaleDateString("en-GB",{day:"numeric",month:"short"}))?(k.after.counter++,k.after.sum+=D[g].Data,i||(i=!0,u.push(D[g].ValidTime))):(null==p[b]&&(p[b]={},p[b].counter=0,p[b].sum=0,u.push(D[g].ValidTime)),p[b].sum+=D[g].Data,p[b].counter++)}else this.props.monthly&&(a===(b=(x=new Date(D[g].ValidTime)).toLocaleDateString("en-GB",{month:"short"}))?(k.after.counter++,k.after.sum+=s[g].Data,i||(i=!0,u.push(D[g].ValidTime))):(null==p[b]&&(p[b]={},p[b].counter=0,p[b].sum=0,u.push(s[g].ValidTime)),p[b].sum+=D[g].Data,p[b].counter++))}}if(u=u.sort(),this.props.weekly||this.props.monthly)for(g=0;g<u.length;g++)x=new Date(u[g]),this.props.weekly?(E=x.getDay(),v=new Date(x.getTime()-864e5*E),y=new Date(v.getTime()+5184e5),b=v.toLocaleDateString("en-GB",{day:"numeric"})+" - "+y.toLocaleDateString("en-GB",{day:"numeric",month:"short"})):b=x.toLocaleDateString("en-GB",{month:"short"}),b!==a?((x<=l||0==this.props.date)&&(N[b]=(p[b].sum/p[b].counter).toFixed(2)),x>=l&&(S[b]=(p[b].sum/p[b].counter).toFixed(2))):(N[b]=(k.before.sum/k.before.counter).toFixed(2),S[b]=(k.after.sum/k.after.counter).toFixed(2));var I=[{name:"\u05de\u05d8\u05d5\u05e4\u05dc \u05dc\u05e4\u05e0\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:n},{name:"\u05de\u05d8\u05d5\u05e4\u05dc \u05d0\u05d7\u05e8\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:c},{name:"\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05d8\u05d5\u05e4\u05dc\u05d9\u05dd \u05dc\u05e4\u05e0\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:N},{name:"\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05d8\u05d5\u05e4\u05dc\u05d9\u05dd \u05d0\u05d7\u05e8\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:S}]}return r.a.createElement("div",null,this.props.ready?r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,this.props.name),e?r.a.createElement("h4",null,"\u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9"):r.a.createElement(C.a,{download:!0,data:I,min:o}))):null)}}]),a}(s.Component),B=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this)).state={graph:!0,table:!1},s.styleLabel={fontSize:"calc(10px)",color:"black",margin:"2vmin 2vmin 2vmin 2vmin"},s.handleChange=s.handleChange.bind(Object(g.a)(s)),s.clean=function(e){for(var t={},a=[],s=0;s<e.length;s++){var r=new Date(e[s].ValidTime).toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-");void 0===t[r]&&(t[r]=e[s],a.push(e[s]))}return a},s}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,r=t.type,n=t.checked;"checkbox"===r?this.setState(Object(D.a)({graph:!1,table:!1},a,n)):this.setState(Object(D.a)({},a,s))}},{key:"render",value:function(){var e,t,a,s,n,o=[],i=[],l=[];l.push({Before:[],After:[]}),i.push({Before:[],After:[]}),o.push({Before:[],After:[]});for(var c=[],p=[],u=[],h=[],m=[],d=[],f=0;f<this.props.dataArr.length;f++)if("\u05e6\u05e2\u05d3\u05d9\u05dd"===this.props.dataArr[f].name)e=this.props.dataArr[f].values;else if("\u05de\u05e8\u05d7\u05e7"===this.props.dataArr[f].name)t=this.props.dataArr[f].values;else if("\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"===this.props.dataArr[f].name)a=this.props.dataArr[f].values;else if("\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"===this.props.dataArr[f].name){if(this.props.dataArr[f].values.length&&this.props.dataArr[f].values[0].Data&&this.props.dataArr[f].values[0].Data.High)for(var g=0;g<this.props.dataArr[f].values.length;g++)this.props.dataArr[f].values[g].Data=this.props.dataArr[f].values[g].Data.High;s=this.props.dataArr[f].values}else"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===this.props.dataArr[f].name?n=this.props.dataArr[f].values:"\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e6\u05e2\u05d3\u05d9\u05dd \u05dc\u05e4\u05e0\u05d9"===this.props.dataArr[f].name?o[0].Before.push(this.props.dataArr[f].values):"\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e6\u05e2\u05d3\u05d9\u05dd \u05d0\u05d7\u05e8\u05d9"===this.props.dataArr[f].name?o[0].After.push(this.props.dataArr[f].values):"\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05dc\u05e4\u05e0\u05d9"===this.props.dataArr[f].name?l[0].Before.push(this.props.dataArr[f].values):"\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05d0\u05d7\u05e8\u05d9"===this.props.dataArr[f].name?l[0].After.push(this.props.dataArr[f].values):"\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05e8\u05d7\u05e7 \u05dc\u05e4\u05e0\u05d9"===this.props.dataArr[f].name?i[0].Before.push(this.props.dataArr[f].values):"\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05e8\u05d7\u05e7 \u05d0\u05d7\u05e8\u05d9"===this.props.dataArr[f].name&&i[0].After.push(this.props.dataArr[f].values);for(f=0;f<this.props.periodicAnswers.length;f++){if(1===this.props.periodicAnswers[f].QuestionnaireID)for(c=this.props.periodicAnswers[f].data,g=0;g<c.length;g++)c[g].Data=c[g].Score;if(2===this.props.periodicAnswers[f].QuestionnaireID)for(p=this.props.periodicAnswers[f].data,g=0;g<p.length;g++)p[g].Data=p[g].Score;if(3===this.props.periodicAnswers[f].QuestionnaireID)for(u=this.props.periodicAnswers[f].data,g=0;g<u.length;g++)u[g].Data=u[g].Score;if(4===this.props.periodicAnswers[f].QuestionnaireID)for(h=this.props.periodicAnswers[f].data,g=0;g<h.length;g++)h[g].Data=h[g].Score;if(5===this.props.periodicAnswers[f].QuestionnaireID)for(m=this.props.periodicAnswers[f].data,g=0;g<m.length;g++)m[g].Data=m[g].Score;if(6===this.props.periodicAnswers[f].QuestionnaireID)for(d=this.props.periodicAnswers[f].data,g=0;g<d.length;g++)d[g].Data=d[g].Score}var b=[],E=[],v=[];return b.push(l),b.push(a),E.push(o),E.push(e),v.push(i),v.push(t),r.a.createElement("div",null,r.a.createElement("div",{className:"display"},this.props.dataArr.length>0||this.props.dailyA.length>0?r.a.createElement("div",null,r.a.createElement("div",{className:"checkButton",id:"cbRight"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",value:"1",name:"graph",checked:this.state.graph,onChange:this.handleChange}),r.a.createElement("span",null,r.a.createElement("div",{id:"text"},"\u05d4\u05e6\u05d2 \u05de\u05d9\u05d3\u05e2 \u05d2\u05e8\u05e4\u05d9")))),r.a.createElement("div",{className:"checkButton",id:"cbLeft"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",value:"1",name:"table",checked:this.state.table,onChange:this.handleChange}),r.a.createElement("span",null,r.a.createElement("div",{id:"text"},"\u05d4\u05e6\u05d2 \u05de\u05d9\u05d3\u05e2 \u05d8\u05d1\u05dc\u05d0\u05d9"))))," "):null),r.a.createElement("br",null),r.a.createElement("br",null),(this.state.graph||this.state.table)&&this.props.ready?r.a.createElement(Q,{user:this.props.user,table:this.state.table}):null,this.state.table&&this.props.dataArr.length>0&&this.props.ready?r.a.createElement("h3",null,"\u05de\u05d3\u05d3\u05d9\u05dd"):null,this.state.table&&"patient"==sessionStorage.type?r.a.createElement("div",{className:"ex1"},r.a.createElement(I,{dataArr:this.props.dataArr,steps:this.props.steps,distance:this.props.distance,calories:this.props.calories,weather:this.props.weather,sleep:this.props.sleep,date:this.props.date,showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,name:this.props.name,ready:this.props.ready})," "):null,this.state.table&&"doctor"==sessionStorage.type?r.a.createElement("div",{className:"ex1"},r.a.createElement(_,{dataArr:this.props.dataArr,steps:this.props.steps,distance:this.props.distance,calories:this.props.calories,weather:this.props.weather,sleep:this.props.sleep,date:this.props.date,showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,name:this.props.name,ready:this.props.ready})," "):null,r.a.createElement("br",null),this.state.table&&this.props.dailyQ&&this.props.ready?r.a.createElement("h3",null,"\u05e9\u05d0\u05dc\u05d5\u05df \u05d9\u05d5\u05de\u05d9"):null,this.state.table&&this.props.dailyQ?r.a.createElement(A,{data:this.props.dailyA,date:this.props.date,showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,name:this.props.name,ready:this.props.ready}):null,this.state.table&&this.props.perQ&&this.props.ready?r.a.createElement("h3",null,"\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05ea\u05e7\u05d5\u05e4\u05ea\u05d9\u05d9\u05dd"):null,this.state.table&&this.props.perQ?r.a.createElement(O,{data:this.props.periodicAnswers,date:this.props.date,showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready,name:this.props.name}):null,this.state.graph&&this.props.steps?0==o[0].Before.length&&0==o[0].After.length?r.a.createElement(T,{data:e,date:this.props.date,name:"\u05e6\u05e2\u05d3\u05d9\u05dd",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):r.a.createElement(q,{data:E,date:this.props.date,name:"\u05e6\u05e2\u05d3\u05d9\u05dd",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&this.props.distance?0==i[0].Before.length&&0==i[0].After.length?r.a.createElement(T,{data:t,date:this.props.date,name:"\u05de\u05e8\u05d7\u05e7",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):r.a.createElement(q,{data:v,date:this.props.date,name:"\u05de\u05e8\u05d7\u05e7",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&this.props.calories?0==l[0].Before.length&&0==l[0].After.length?r.a.createElement(T,{data:a,date:this.props.date,name:"\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):r.a.createElement(q,{data:b,date:this.props.date,name:"\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&this.props.weather?r.a.createElement(T,{data:s,date:this.props.date,name:"\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&this.props.sleep?r.a.createElement(j,{data:n,date:this.props.date,name:"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&this.props.dailyQ?r.a.createElement(F,{data:this.props.dailyA,date:this.props.date,name:"\u05e9\u05d0\u05dc\u05d5\u05df \u05d9\u05d5\u05de\u05d9",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&c.length>0&&this.props.perQ?r.a.createElement(T,{data:c,date:this.props.date,name:"Oswestry Disability Index",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&p.length>0&&this.props.perQ?r.a.createElement(T,{data:p,date:this.props.date,name:"Neck Disability Index",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&u.length>0&&this.props.perQ?r.a.createElement(T,{data:u,date:this.props.date,name:"Lower Extremity Functional Scale",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&h.length>0&&this.props.perQ?r.a.createElement(T,{data:h,date:this.props.date,name:"Oswestry low back pain",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&m.length>0&&this.props.perQ?r.a.createElement(T,{data:m,date:this.props.date,name:"EQ-5D",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&d.length>0&&this.props.perQ?r.a.createElement(T,{data:d,date:this.props.date,name:"EQ-5D scale",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null)}}]),a}(s.Component),U=(s.Component,function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup_inner"},r.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),r.a.createElement("h4",null,":\u05d0\u05e0\u05d0 \u05d1\u05d7\u05e8 \u05de\u05d1\u05d9\u05df \u05d4\u05e8\u05e9\u05d5\u05de\u05d5\u05ea \u05d4\u05d1\u05d0\u05d5\u05ea"),this.props.text))}}]),a}(r.a.Component)),V=(a(78),a(260)),G=a(73),M=a(96),R=(a(64),a(31)),H=function(e){Object(c.a)(s,e);var t=Object(p.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).state={showPopup:!1,userInfo:!1,pass:"",pass2:"",diff:!1,isLogOut:!1,isMessage:!1,isPatientInfo:!1,isInstructions:!1,isExercises:!1,isEdit:!1},e.logout=e.logout.bind(Object(g.a)(e)),e.change=e.change.bind(Object(g.a)(e)),e.privateInfoShow=e.privateInfoShow.bind(Object(g.a)(e)),e.togglePopup=e.togglePopup.bind(Object(g.a)(e)),e.handleChange=e.handleChange.bind(Object(g.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(g.a)(e)),e.changeToEdit=e.changeToEdit.bind(Object(g.a)(e)),e.updateUser=e.updateUser.bind(Object(g.a)(e)),e}return Object(l.a)(s,[{key:"goToMessages",value:function(){this.setState({isPatientInfo:!1,isInstructions:!1,isMessage:!0,isQuestionnaires:!1,isExercises:!1})}},{key:"goToExercises",value:function(){this.setState({isPatientInfo:!1,isInstructions:!1,isMessage:!1,isExercises:!0,isQuestionnaires:!1})}},{key:"goToSearch",value:function(){this.setState({isPatientInfo:!0,isMessage:!1,isQuestionnaires:!1,isInstructions:!1,isExercises:!1})}},{key:"goToQuestionnaires",value:function(){this.setState({isPatientInfo:!1,isMessage:!1,isInstructions:!1,isQuestionnaires:!0,isExercises:!1})}},{key:"goToInstructions",value:function(){this.setState({isPatientInfo:!1,isMessage:!1,isInstructions:!0,isQuestionnaires:!1,isExercises:!1})}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"toggleUserInfo",value:function(){this.setState({userInfo:!this.state.userInfo})}},{key:"handleSubmit",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.state.pass===this.state.pass2){e.next=5;break}this.setState({diff:!0}),e.next=15;break;case 5:return a="  https://moda-medic.herokuapp.com/auth/usersAll/askChangePassword",e.next=8,v.a.post(a,{},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 8:return r=e.sent,s=r.data.data,a="  https://moda-medic.herokuapp.com/users/passwordChangeCheck/changePassword",e.next=13,v.a.post(a,{NewPassword:this.state.pass},{headers:{"Content-Type":"application/json","x-auth-token":s}});case 13:e.sent.data.message&&(window.alert("\u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05e9\u05d5\u05e0\u05ea\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),this.togglePopup());case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getInfo()}},{key:"getInfo",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"  https://moda-medic.herokuapp.com/auth/usersAll/userInfo",e.next=3,v.a.get("  https://moda-medic.herokuapp.com/auth/usersAll/userInfo",{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 3:t=e.sent,this.setState({currUser:t.data.data});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,r=t.type,n=t.checked;"checkbox"===r?this.setState(Object(D.a)({},a,n)):this.setState(Object(D.a)({},a,s))}},{key:"logout",value:function(){sessionStorage.removeItem("token"),sessionStorage.removeItem("type"),sessionStorage.removeItem("name"),sessionStorage.removeItem("doctor"),sessionStorage.removeItem("patient"),sessionStorage.removeItem("patientUserId"),localStorage.removeItem("token"),localStorage.removeItem("type"),localStorage.removeItem("name"),localStorage.removeItem("doctor"),localStorage.removeItem("patient"),this.setState({isLogOut:!0})}},{key:"change",value:function(){this.togglePopup()}},{key:"privateInfoShow",value:function(){this.toggleUserInfo()}},{key:"isDoctor",value:function(){return sessionStorage.getItem("doctor")}},{key:"changeToEdit",value:function(){this.setState({isEdit:!this.state.isEdit})}},{key:"updateUser",value:function(e){this.setState({currUser:e})}},{key:"render",value:function(){var e,t=this;window.location.pathname;return a(78),e=this.isDoctor()?r.a.createElement(M.b,{class:"userIcon",style:{color:"white"},size:25}):r.a.createElement(M.a,{class:"userIcon",style:{color:"white"},size:25}),r.a.createElement("div",null,r.a.createElement(V.a,{class:"navbar navbar-fixed-top",bg:"dark",variant:"dark",fixed:"top"},r.a.createElement("div",{id:"buttons"},r.a.createElement("button",{id:"change",class:"btn btn-dark",type:"button",onClick:function(){return t.goToSearch()}},"\u05de\u05d3\u05d3\u05d9\u05dd \u05d0\u05d9\u05e9\u05d9\u05d9\u05dd"),r.a.createElement("span",null,"    ","            "),r.a.createElement("button",{id:"change",class:"btn btn-dark",type:"button",onClick:function(){return t.goToQuestionnaires()}},"\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd"),r.a.createElement("span",null,"              "),r.a.createElement("button",{id:"change",class:"btn btn-dark",type:"button",onClick:function(){return t.goToMessages()}},"\u05dc\u05d5\u05d7 \u05d4\u05d5\u05d3\u05e2\u05d5\u05ea"),r.a.createElement("button",{id:"change",class:"btn btn-dark",type:"button",onClick:function(){return t.goToExercises()}},"\u05ea\u05e8\u05d2\u05d5\u05dc\u05d9\u05dd \u05e8\u05e4\u05d5\u05d0\u05d9\u05d9\u05dd"),r.a.createElement("button",{id:"change",class:"btn btn-dark",type:"button",onClick:function(){return t.goToInstructions()}},"\u05d4\u05d3\u05e8\u05db\u05d5\u05ea \u05e0\u05d9\u05ea\u05d5\u05d7"),this.state.isMessage?r.a.createElement(h.a,{to:"/messages"}):null,this.state.isPatientInfo?r.a.createElement(h.a,{to:"/search"}):null,this.state.isQuestionnaires?r.a.createElement(h.a,{to:"/questionnaires"}):null,this.state.isQuestionnaires?this.setState({isQuestionnaires:!1}):null,this.state.isInstructions?r.a.createElement(h.a,{to:"/instructions"}):null,this.state.isExercises?r.a.createElement(h.a,{to:"/exercises"}):null,this.state.isLogOut?r.a.createElement(h.a,{to:"/"}):null,this.state.showPopup?r.a.createElement(W,{change:this.handleChange.bind(this),closePopup:this.togglePopup.bind(this),handleSubmit:this.handleSubmit.bind(this),diff:this.state.diff}):null,this.state.userInfo&&sessionStorage.getItem("patient")?r.a.createElement(z,{user:this.state.currUser,isEdit:this.state.isEdit,closePopup:this.toggleUserInfo.bind(this),changeToEdit:this.changeToEdit,updateUser:this.updateUser}):null,this.state.userInfo&&sessionStorage.getItem("doctor")?r.a.createElement(Y,{user:this.state.currUser,isEdit:this.state.isEdit,closePopup:this.toggleUserInfo.bind(this),changeToEdit:this.changeToEdit,updateUser:this.updateUser}):null),r.a.createElement(G.a,{id:"dropdown-item-button",style:{color:"white"},title:sessionStorage.getItem("name")},r.a.createElement(G.a.Item,{as:"button",onClick:function(){return t.change()}},"\u05e9\u05e0\u05d4 \u05e1\u05d9\u05e1\u05de\u05d0"),r.a.createElement(G.a.Item,{as:"button",onClick:function(){return t.logout()}},"\u05d4\u05ea\u05e0\u05ea\u05e7"),r.a.createElement(G.a.Item,{as:"button",onClick:function(){return t.privateInfoShow()}},"\u05e4\u05e8\u05d8\u05d9\u05dd \u05d0\u05d9\u05e9\u05d9\u05d9\u05dd")),e,r.a.createElement(V.a.Brand,null,r.a.createElement("img",{alt:"",src:a(104),width:"70",height:"30",className:"d-inline-block align-top"})," ")),r.a.createElement("br",null),r.a.createElement("br",null))}}]),s}(r.a.Component),W=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup_inner"},r.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),r.a.createElement("h3",{id:"h3"},"\u05d4\u05d7\u05dc\u05e4\u05ea \u05e1\u05d9\u05e1\u05de\u05d0"),r.a.createElement("form",{onSubmit:this.props.handleSubmit},r.a.createElement("div",{className:"lineC"},r.a.createElement("label",null,"\u05e1\u05d9\u05e1\u05de\u05d0 \u05d7\u05d3\u05e9\u05d4:")),r.a.createElement("div",{className:"lineC"},r.a.createElement("input",{type:"password",name:"pass",id:"pass",onChange:this.props.change,required:!0})),r.a.createElement("div",{className:"lineC"},r.a.createElement("label",null,"\u05d4\u05e7\u05dc\u05d3 \u05d0\u05ea \u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05de\u05d7\u05d3\u05e9:")),r.a.createElement("div",{className:"lineC"},r.a.createElement("input",{type:"password",name:"pass2",id:"pass2",onChange:this.props.change,required:!0})),r.a.createElement("div",{className:"lineC"},this.props.diff?r.a.createElement("label",{id:"diffPass"},"\u05d4\u05e1\u05d9\u05e1\u05de\u05d0\u05d5\u05ea \u05e9\u05d5\u05e0\u05d5\u05ea"):null),r.a.createElement("div",{className:"lineC"},r.a.createElement("input",{type:"submit",value:"\u05e9\u05dc\u05d7"})))))}}]),a}(r.a.Component),Y=function(e){Object(c.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={userName:"",fName:a.props.user.First_Name,lName:a.props.user.Last_Name,bday:new Date(a.props.user.BirthDate),phone:a.props.user.Phone_Number},a.handleChangeInfo=a.handleChangeInfo.bind(Object(g.a)(a)),a.handleSubmitInfo=a.handleSubmitInfo.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"handleChangeInfo",value:function(e){this.setState(Object(D.a)({},e.target.name,e.target.value))}},{key:"handleSubmitInfo",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=new Date(this.state.bday),s=new Date,new Date(this.state.dateOfSurgery),r=Number(this.state.height/100),String(Number(this.state.weight)/Math.pow(r,2)),e.next=8,v.a.put("  https://moda-medic.herokuapp.com/auth/usersAll/doctorUpdate",{First_Name:this.state.fName,Last_Name:this.state.lName,Phone_Number:this.state.phone,BirthDate:a.getTime(),ValidTime:s.getTime()},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 8:n=e.sent,this.props.changeToEdit(),this.props.updateUser(n.data.data);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){a(78);var e=new Date(this.state.bday).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),t=new Date,s=new Date(this.props.user.BirthDate),n=Math.floor((t.getTime()-s.getTime())/31536e6),o=(t=(new Date).toISOString().split("T")[0],new Date(this.state.bday).toISOString().substr(0,10));return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup_inner_info"},r.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),this.props.isEdit?null:r.a.createElement(y.a,{class:"cardInfo"},r.a.createElement(y.a.Header,null,r.a.createElement("b",null,this.props.user.First_Name," ",this.props.user.Last_Name)),r.a.createElement(R.a,{variant:"flush"},r.a.createElement(R.a.Item,{className:"listItem"}," \u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4: ",e," "),r.a.createElement(R.a.Item,{className:"listItem"}," \u05d2\u05d9\u05dc: ",n),r.a.createElement(R.a.Item,{className:"listItem"}," \u05d8\u05dc\u05e4\u05d5\u05df: ",this.props.user.Phone_Number," "))),this.props.isEdit?r.a.createElement("form",{onSubmit:this.handleSubmitInfo,onReset:this.handleReset,id:"new_user_form"},r.a.createElement("br",null),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"),r.a.createElement("input",{className:"inputs_in_add_user",name:"fName",type:"text",value:this.state.fName,maxLength:"20",onChange:this.handleChangeInfo,required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4 "),r.a.createElement("input",{className:"inputs_in_add_user",name:"lName",type:"text",value:this.state.lName,maxLength:"20",onChange:this.handleChangeInfo,required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df"),r.a.createElement("input",{className:"inputs_in_add_user",name:"phone",type:"tel",id:"phone",pattern:"[0-9]{10}",value:this.state.phone,onChange:this.handleChangeInfo,required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4"),r.a.createElement("input",{className:"inputs_in_add_user",name:"bday",type:"date",max:t,value:o,onChange:this.handleChangeInfo,required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("input",{style:{width:150},variant:"info",type:"submit",value:"\u05e9\u05de\u05d5\u05e8",className:"submit_and_reset_buttons"}))):null,this.props.isEdit?null:r.a.createElement("button",{style:{width:150,float:"left",position:"relative"},variant:"info",onClick:this.props.changeToEdit}," \u05e2\u05e8\u05d9\u05db\u05ea \u05e4\u05e8\u05d8\u05d9\u05dd "),this.props.isEdit?r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("button",{style:{width:150,position:"relative"},variant:"info",onClick:this.props.changeToEdit},"\u05d4\u05e6\u05d2\u05ea \u05e4\u05e8\u05d8\u05d9\u05dd ")):null))}}]),s}(r.a.Component),z=function(e){Object(c.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={userName:"",fName:a.props.user.First_Name,lName:a.props.user.Last_Name,bday:new Date(a.props.user.BirthDate),phone:a.props.user.Phone_Number,gender:a.props.user.Gender,smoke:a.props.user.Smoke,dateOfSurgery:new Date(a.props.user.DateOfSurgery),surgeryType:a.props.user.SurgeryType,education:a.props.user.Education,height:a.props.user.Height,weight:a.props.user.Weight,bmi:a.props.user.BMI},a.handleChangeInfo=a.handleChangeInfo.bind(Object(g.a)(a)),a.handleSubmitInfo=a.handleSubmitInfo.bind(Object(g.a)(a)),a.onSelectGender=a.onSelectGender.bind(Object(g.a)(a)),a.onSelectSmoke=a.onSelectSmoke.bind(Object(g.a)(a)),a.onSelectSurgeryType=a.onSelectSurgeryType.bind(Object(g.a)(a)),a.onSelectEducation=a.onSelectEducation.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"handleChangeInfo",value:function(e){this.setState(Object(D.a)({},e.target.name,e.target.value))}},{key:"handleSubmitInfo",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s,r,n,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=new Date(this.state.bday),s=new Date,r=new Date(this.state.dateOfSurgery),n=Number(this.state.height/100),o=String(Number(this.state.weight)/Math.pow(n,2)),e.next=8,v.a.put("  https://moda-medic.herokuapp.com/auth/usersAll/patientUpdate",{First_Name:this.state.fName,Last_Name:this.state.lName,Phone_Number:this.state.phone,Gender:this.state.gender,Smoke:this.state.smoke,DateOfSurgery:r.getTime(),SurgeryType:this.state.surgeryType,Education:this.state.education,Height:this.state.height,Weight:this.state.weight,BMI:o,BirthDate:a.getTime(),ValidTime:s.getTime()},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 8:i=e.sent,this.props.changeToEdit(),this.props.updateUser(i.data.data);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onSelectGender",value:function(e){var t,a=e.target.options.selectedIndex;1==a?t="\u05e0\u05e7\u05d1\u05d4":2==a&&(t="\u05d6\u05db\u05e8"),this.setState({gender:t})}},{key:"onSelectSmoke",value:function(e){var t,a=e.target.options.selectedIndex;1==a?t="\u05de\u05e2\u05e9\u05df":2==a&&(t="\u05dc\u05d0 \u05de\u05e2\u05e9\u05df"),this.setState({smoke:t})}},{key:"onSelectEducation",value:function(e){var t=e.target.options.selectedIndex;this.setState({education:{1:"\u05d4\u05e9\u05db\u05dc\u05d4 \u05d0\u05e7\u05d3\u05de\u05d0\u05d9\u05ea",2:"\u05d4\u05e9\u05db\u05dc\u05d4 \u05ea\u05d9\u05db\u05d5\u05e0\u05d9\u05ea",3:"10-12 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3",4:"6-9 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3",5:"5 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3 \u05d0\u05d5 \u05e4\u05d7\u05d5\u05ea",6:"\u05dc\u05d0 \u05de\u05e2\u05d5\u05e0\u05d9\u05d9\u05df \u05dc\u05e2\u05e0\u05d5\u05ea"}[t]})}},{key:"onSelectSurgeryType",value:function(e){var t,a=e.target.options.selectedIndex;1==a?t="\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d3\u05d7\u05d5\u05e3":2==a?t="\u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05ea\u05d5\u05db\u05e0\u05df":3==a&&(t="\u05dc\u05dc\u05d0 \u05e0\u05d9\u05ea\u05d5\u05d7"),this.setState({surgeryType:t}),3!==a&&0!==a?this.setState({surgeryDateDisplay:!0}):this.setState({surgeryDateDisplay:!1})}},{key:"render",value:function(){a(78);var e,t=new Date(this.state.bday).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),s=new Date,n=new Date(this.props.user.BirthDate),o=Math.floor((s.getTime()-n.getTime())/31536e6),i=new Date(this.state.dateOfSurgery).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),l=parseFloat(this.props.user.BMI).toFixed(1);sessionStorage.getItem("patient")&&(e=r.a.createElement("div",null,r.a.createElement(R.a.Item,{className:"listItem"}," \u05d2\u05d5\u05d1\u05d4: ",this.props.user.Height),r.a.createElement(R.a.Item,{className:"listItem"}," \u05de\u05e9\u05e7\u05dc: ",this.props.user.Weight),r.a.createElement(R.a.Item,{className:"listItem"}," BMI:",l),r.a.createElement(R.a.Item,{className:"listItem"}," \u05ea\u05d0\u05e8\u05d9\u05da \u05e0\u05d9\u05ea\u05d5\u05d7: ",i," "),r.a.createElement(R.a.Item,{className:"listItem"}," \u05e1\u05d5\u05d2 \u05e0\u05d9\u05ea\u05d5\u05d7: ",this.props.user.SurgeryType," "),r.a.createElement(R.a.Item,{className:"listItem"}," \u05d4\u05e9\u05db\u05dc\u05d4: ",this.props.user.Education," ")));var c=[r.a.createElement("option",null),r.a.createElement("option",null,"\u05e0\u05e7\u05d1\u05d4"),r.a.createElement("option",null,"\u05d6\u05db\u05e8")],p=[r.a.createElement("option",null),r.a.createElement("option",null,"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d3\u05d7\u05d5\u05e3"),r.a.createElement("option",null,"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05ea\u05d5\u05db\u05e0\u05df"),r.a.createElement("option",null,"\u05dc\u05dc\u05d0 \u05e0\u05d9\u05ea\u05d5\u05d7")],u=[r.a.createElement("option",null),r.a.createElement("option",null,"\u05de\u05e2\u05e9\u05df"),r.a.createElement("option",null,"\u05dc\u05d0 \u05de\u05e2\u05e9\u05df")],h=[r.a.createElement("option",null),r.a.createElement("option",null,"\u05d4\u05e9\u05db\u05dc\u05d4 \u05d0\u05e7\u05d3\u05de\u05d0\u05d9\u05ea"),r.a.createElement("option",null,"\u05d4\u05e9\u05db\u05dc\u05d4 \u05ea\u05d9\u05db\u05d5\u05e0\u05d9\u05ea"),r.a.createElement("option",null,"10-12 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3"),r.a.createElement("option",null,"6-9 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3"),r.a.createElement("option",null,"5 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3 \u05d0\u05d5 \u05e4\u05d7\u05d5\u05ea"),r.a.createElement("option",null,"\u05dc\u05d0 \u05de\u05e2\u05d5\u05e0\u05d9\u05d9\u05df \u05dc\u05e2\u05e0\u05d5\u05ea")],m=(s=(new Date).toISOString().split("T")[0],new Date(this.state.bday).toISOString().substr(0,10)),d=new Date(this.state.dateOfSurgery).toISOString().substr(0,10);return r.a.createElement("div",{className:"popup_info"},r.a.createElement("div",{className:"popup_inner_info"},r.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),this.props.isEdit?null:r.a.createElement(y.a,{class:"cardInfo"},r.a.createElement(y.a.Header,null,r.a.createElement("b",null,this.props.user.First_Name," ",this.props.user.Last_Name)),r.a.createElement(R.a,{variant:"flush"},r.a.createElement(R.a.Item,{className:"listItem"}," \u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4:",t," "),r.a.createElement(R.a.Item,{className:"listItem"}," \u05d2\u05d9\u05dc: ",o),r.a.createElement(R.a.Item,{className:"listItem"}," \u05de\u05d9\u05df: ",this.props.user.Gender," "),sessionStorage.getItem("doctor")&&r.a.createElement(R.a.Item,{className:"listItem"}," \u05d8\u05dc\u05e4\u05d5\u05df: ",this.props.user.Phone_Number," "),e)),this.props.isEdit?r.a.createElement("form",{onSubmit:this.handleSubmitInfo,onReset:this.handleReset,id:"new_user_form"},r.a.createElement("br",null),sessionStorage.getItem("doctor")&&r.a.createElement("div",null,r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"),r.a.createElement("input",{className:"inputs_in_add_user",name:"fName",type:"text",value:this.state.fName,maxLength:"20",onChange:this.handleChangeInfo,required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4 "),r.a.createElement("input",{className:"inputs_in_add_user",name:"lName",type:"text",value:this.state.lName,maxLength:"20",onChange:this.handleChangeInfo,required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df"),r.a.createElement("input",{className:"inputs_in_add_user",name:"phone",type:"tel",id:"phone",pattern:"[0-9]{10}",value:this.state.phone,onChange:this.handleChangeInfo,required:!0}))),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4"),r.a.createElement("input",{className:"inputs_in_add_user",name:"bday",type:"date",max:s,value:m,onChange:this.handleChangeInfo,required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},'\u05de\u05e9\u05e7\u05dc (\u05e7"\u05d2) '),r.a.createElement("input",{className:"inputs_in_add_user",name:"weight",type:"number",value:this.state.weight,onChange:this.handleChangeInfo,required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},'\u05d2\u05d5\u05d1\u05d4 (\u05e1"\u05de) '),r.a.createElement("input",{className:"inputs_in_add_user",name:"height",type:"number",value:this.state.height,onChange:this.handleChangeInfo,required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05de\u05d9\u05df "),r.a.createElement("select",{value:this.state.gender,className:"select_in_add_user",onChange:this.onSelectGender},c)),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05de\u05e2\u05e9\u05df "),r.a.createElement("select",{value:this.state.smoke,className:"select_in_add_user",onChange:this.onSelectSmoke},u)),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05d4\u05e9\u05db\u05dc\u05d4 "),r.a.createElement("select",{value:this.state.education,className:"select_in_add_user",onChange:this.onSelectEducation},h)),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05e1\u05d5\u05d2 \u05e0\u05d9\u05ea\u05d5\u05d7 "),r.a.createElement("select",{value:this.state.surgeryType,className:"select_in_add_user",onChange:this.onSelectSurgeryType},p)),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05ea\u05d0\u05e8\u05d9\u05da \u05e0\u05d9\u05ea\u05d5\u05d7"),r.a.createElement("input",{className:"inputs_in_add_user",name:"dateOfSurgery",type:"date",value:d,onChange:this.handleChangeInfo,required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("input",{style:{width:150},variant:"info",type:"submit",value:"\u05e9\u05de\u05d5\u05e8",className:"submit_and_reset_buttons"}))):null,this.props.isEdit?null:r.a.createElement("button",{style:{width:150,float:"left",position:"relative"},variant:"info",onClick:this.props.changeToEdit}," \u05e2\u05e8\u05d9\u05db\u05ea \u05e4\u05e8\u05d8\u05d9\u05dd "),this.props.isEdit?r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("button",{style:{width:150,position:"relative"},variant:"info",onClick:this.props.changeToEdit},"\u05d4\u05e6\u05d2\u05ea \u05e4\u05e8\u05d8\u05d9\u05dd ")):null))}}]),s}(r.a.Component),J=a(92),Z=a(58),$=function(e){Object(c.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={messages:[],content:""},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.fetchMessagesPatient(),this.fetchMessagesDoctor()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.patientUserId&&this.props.patientUserId!==e.patientUserId&&this.fetchMessagesDoctor()}},{key:"fetchMessagesPatient",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sessionStorage.getItem("patient")){e.next=5;break}return e.next=3,v.a.get("  https://moda-medic.herokuapp.com/auth/patients/messages",{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 3:(t=e.sent).data.data&&this.setState({messages:t.data.data.reverse()});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchMessagesDoctor",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sessionStorage.getItem("doctor")||!this.props.patientUserId){e.next=6;break}return t=encodeURIComponent(this.props.patientUserId),e.next=4,v.a.get("  https://moda-medic.herokuapp.com/auth/doctors/messages/".concat(t),{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 4:(a=e.sent).data.data&&this.setState({messages:a.data.data.reverse()});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addMessage",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sessionStorage.getItem("patient")&&v.a.post("  https://moda-medic.herokuapp.com/auth/patients/messages",{content:this.state.content},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}).then((function(e){a.fetchMessagesPatient(),a.setState({content:""})})),sessionStorage.getItem("doctor")&&(t=encodeURIComponent(this.props.patientUserId),v.a.post(" https://moda-medic.herokuapp.com/auth/doctors/messages/".concat(t),{content:this.state.content},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}).then((function(e){a.fetchMessagesDoctor(),a.setState({content:""})})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeMessage",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sessionStorage.getItem("patient")?(console.log("patient"),v.a.post("  https://moda-medic.herokuapp.com/auth/patients/messages/removeMessage",{MessageId:t},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}).then((function(e){a.fetchMessagesPatient(),a.fetchMessagesDoctor()}))):sessionStorage.getItem("doctor")&&v.a.delete("  https://moda-medic.herokuapp.com/auth/doctors/messages/removeMessage/".concat(t),{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}).then((function(e){a.fetchMessagesDoctor()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState({content:e.target.value})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),sessionStorage.getItem("doctor"))void 0==this.props.patientUserId&&window.alert("\u05d0\u05e0\u05d0 \u05d1\u05d7\u05e8 \u05de\u05d8\u05d5\u05e4\u05dc \u05dc\u05e6\u05d5\u05e8\u05da \u05e9\u05dc\u05d9\u05d7\u05ea \u05d4\u05d5\u05d3\u05e2\u05d4"),this.state.content.length>150&&window.alert("\u05d0\u05d5\u05e8\u05da \u05d4\u05d5\u05d3\u05e2\u05d4 \u05e2\u05d3 150 \u05ea\u05d5\u05d9\u05dd!");else if(this.state.content.length>150)window.alert("\u05d0\u05d5\u05e8\u05da \u05d4\u05d5\u05d3\u05e2\u05d4 \u05e2\u05d3 150 \u05ea\u05d5\u05d9\u05dd!");else{var t=0,a=new Date;this.state.messages.forEach((function(e){var s=new Date(e.Date);"".concat(e.FromFirstName," ").concat(e.FromLastName)===sessionStorage.getItem("name")&&Math.floor((Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())-Date.UTC(s.getFullYear(),s.getMonth(),s.getDate()))/864e5)<=1&&(t+=1)}))}t>2&&sessionStorage.getItem("patient")?window.alert("\u05db\u05de\u05d5\u05ea \u05d4\u05d4\u05d5\u05d3\u05e2\u05d5\u05ea \u05de\u05d5\u05d2\u05d1\u05dc\u05ea \u05dc3 \u05d4\u05d5\u05d3\u05e2\u05d5\u05ea \u05d1\u05d9\u05d5\u05dd"):this.addMessage()}},{key:"render",value:function(){var e=this;return a(177),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("textarea",{class:"textarea",placeholder:"\u05db\u05ea\u05d5\u05d1 \u05d0\u05ea \u05d4\u05d5\u05d3\u05e2\u05ea\u05da \u05db\u05d0\u05df",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("input",{style:{marginRight:"auto",marginLeft:"auto"},type:"submit",value:"Submit"})),r.a.createElement("br",null),this.state.messages.length>0&&r.a.createElement("div",{class:"tableMessages"},r.a.createElement(J.a,{id:"mdd_message",striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:230}},"\u05ea\u05d0\u05e8\u05d9\u05da"),r.a.createElement("th",{style:{width:180}},"\u05de\u05d5\u05e2\u05df"),r.a.createElement("th",{style:{width:620}},"\u05ea\u05d5\u05db\u05df \u05d4\u05d4\u05d5\u05d3\u05e2\u05d4"),r.a.createElement("th",{style:{width:100}}))),r.a.createElement("tbody",null,this.state.messages.map((function(t){return r.a.createElement("tr",null,r.a.createElement("td",{style:{width:230}},new Date(t.Date).toLocaleString()),r.a.createElement("td",{style:{width:180}}," ".concat(t.FromFirstName," ").concat(t.FromLastName)),r.a.createElement("td",{style:{width:620,textAlign:"right"}},t.Content),r.a.createElement("td",{style:{width:100}},r.a.createElement(Z.a,{type:"button",class:"trushIcon",style:{color:"black"},size:20,onClick:function(){return e.removeMessage(t.MessageId)}})))})))),r.a.createElement("br",null)),0===this.state.messages.length&&r.a.createElement("p",null," \u05d0\u05d9\u05df \u05d4\u05d5\u05d3\u05e2\u05d5\u05ea "),r.a.createElement("img",{class:"imageBox",src:"https://image.freepik.com/free-photo/top-view-doctor-working-with-laptop_1232-386.jpg",style:{width:450,borderColor:"black"}}))}}]),s}(s.Component),X=(a(178),a(93)),K=a.n(X),ee=(a(179),a(61)),te=a(99);a(185);ee.StylesManager.applyTheme("bootstrap");var ae=function(e){Object(c.a)(s,e);var t=Object(p.a)(s);function s(e){var r;return Object(i.a)(this,s),(r=t.call(this,e)).state={json:{},questionnaireId:r.props.match.params.QuestionnaireID,isQuestionnaires:!1},window.$=window.jQuery=K.a,a(186),r.getQuestionnaire=r.getQuestionnaire.bind(Object(g.a)(r)),r.sendAnswersToServer=r.sendAnswersToServer.bind(Object(g.a)(r)),r.sendParsedResultToServer=r.sendParsedResultToServer.bind(Object(g.a)(r)),r.getQuestionnaire(),r}return Object(l.a)(s,[{key:"getQuestionnaire",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,s,r,n,o,i,l,c,p,u,h,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="  https://moda-medic.herokuapp.com/questionnaires/getQuestionnaire/".concat(this.state.questionnaireId),e.next=3,v.a.get(t,{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 3:if((a=e.sent).data.data){for(this.setState({title:a.data.data.QuestionnaireEnglishText,description:a.data.data.QuestionnaireText}),s=a.data.data.Questions,r=[],(n={}).title=a.data.data.QuestionnaireEnglishText,o=0;o<s.length;o++){if((i={}).title=s[o].QuestionText,"EQ5"===s[o].Type)i.type="nouislider",i.name=a.data.data.QuestionnaireText;else if("Single"===s[o].Type){for(i.type="radiogroup",i.isRequired=!0,l=[],c=0;c<s[o].Answers.length;c++)(p={}).answerID=s[o].Answers[c].answerID,p.text=s[o].Answers[c].answerText,l.push(p);i.choices=l}else if("multi"===s[o].Type){for(i.type="checkbox",i.hasNone=!0,i.colCount=5,u=[],h=0;h<s[o].Answers.length;h++)(m={}).answerID=s[o].Answers[h].answerID,m.text=s[o].Answers[h].answerText,u.push(m);i.choices=u}else"VAS"===s[o].Type&&(i.type="emotionsratings",i.choices=["1","2","3","4","5"]);r.push(i)}n.elements=r,this.setState({json:n})}else console.alert("Problem accured. please try again later.");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendParsedResultToServer",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"  https://moda-medic.herokuapp.com/auth/patients/answers/sendAnswers",e.next=3,v.a.post("  https://moda-medic.herokuapp.com/auth/patients/answers/sendAnswers",t,{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 3:a=e.sent,(s=a.data.data)?this.setState({showID:!1,showWrongUser:!1,showQ:!1,showChange:!0,register:!1,token:s}):this.setState({wrongA:!0});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendAnswersToServer",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s,r,n,o,i,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){for(n in(a={}).UserID=localStorage.getItem("UserId"),a.QuestionnaireID=parseInt(this.state.questionnaireId),a.ValidTime=(new Date).getTime(),s=[],r=0,t)if(Object.prototype.hasOwnProperty.call(t,n)){if((o={}).QuestionID=r,r++,i=[],Array.isArray(t[n]))for(l=0;l<t[n].length;l++)i.push(t[n][l].answerID);else Object.prototype.hasOwnProperty.call(t[n],"answerID")?i.push(t[n].answerID):i.push(parseInt(t[n]));o.AnswerID=i,s.push(o)}a.Answers=s,console.log(a),this.sendParsedResultToServer(a)}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;a(187),te.nouislider(ee),te.emotionsratings(ee);var t=new ee.Model(this.state.json);return t.onComplete.add((function(t){console.log(JSON.stringify(t.data,null,3)),e.sendAnswersToServer(t.data),e.setState({isQuestionnaires:!0})})),r.a.createElement("div",null,r.a.createElement(ee.Survey,{model:t,showQuestionNumbers:"on"}),this.state.isQuestionnaires?r.a.createElement(h.a,{to:"/questionnaires"}):null)}}]),s}(s.Component),se=function(e){Object(c.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this)).state={user:e.user,showPopup:!1,showPopupQ:!1,new_date:"",Questionnaires:[],quest1:!1,quest6:!1,questionnairesArr:[],questionnairesArrDoctor:[],type:sessionStorage.getItem("type"),firstTime:!0},a.presentQuestionnaire=a.presentQuestionnaire.bind(Object(g.a)(a)),a.changeDate=a.changeDate.bind(Object(g.a)(a)),a.togglePopup=a.togglePopup.bind(Object(g.a)(a)),a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.togglePopupQ=a.togglePopupQ.bind(Object(g.a)(a)),a.handleSubmitQ=a.handleSubmitQ.bind(Object(g.a)(a)),a.extractQuestionnaires=a.extractQuestionnaires.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"extractQuestionnaires",value:function(e){var t=[];if(this.props.user)for(var a=0;a<this.props.user.Questionnaires.length;a++)0!==this.props.user.Questionnaires[a].QuestionnaireID&&6!==this.props.user.Questionnaires[a].QuestionnaireID&&t.push(this.props.user.Questionnaires[a].QuestionnaireText);var s=!1,r=!1,n=!1,o=!1;if(e.user&&sessionStorage.getItem("doctor"))for(a=0;a<e.user.Questionnaires.length;a++)1===e.user.Questionnaires[a].QuestionnaireID?s=!0:2===e.user.Questionnaires[a].QuestionnaireID?r=!0:3===e.user.Questionnaires[a].QuestionnaireID?n=!0:5===e.user.Questionnaires[a].QuestionnaireID&&(o=!0);this.setState({user:e.user,quest2:s,quest3:r,quest4:n,quest5:o,questionnairesArrDoctor:t}),this.presentQuestionnaire()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.user&&this.props.user!==e.user&&this.extractQuestionnaires(this.props)}},{key:"componentDidMount",value:function(){this.extractQuestionnaires(this.props)}},{key:"presentQuestionnaire",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sessionStorage.getItem("patient")){e.next=6;break}return"  https://moda-medic.herokuapp.com/auth/usersAll/getUserQuestionnaire",e.next=4,v.a.get("  https://moda-medic.herokuapp.com/auth/usersAll/getUserQuestionnaire",{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 4:if((t=e.sent).data.data){for(a=[],s=0;s<t.data.data.length;s++)a.push([t.data.data[s].QuestionnaireID,t.data.data[s].QuestionnaireText]);this.setState({questionnairesArr:a})}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,r=t.type,n=t.checked;"checkbox"===r?this.setState(Object(D.a)({},a,n)):this.setState(Object(D.a)({},a,s))}},{key:"handleSubmitQ",value:function(e){var t=this;if(e.preventDefault(),sessionStorage.getItem("doctor")){var a=[];this.state.quest2&&a.push({QuestionnaireID:1,QuestionnaireText:"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05d1 \u05ea\u05d7\u05ea\u05d5\u05df"}),this.state.quest3&&a.push({QuestionnaireID:2,QuestionnaireText:"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05e6\u05d5\u05d5\u05d0\u05e8"}),this.state.quest4&&a.push({QuestionnaireID:3,QuestionnaireText:"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05e3 \u05ea\u05d7\u05ea\u05d5\u05df"}),this.state.quest5&&a.push({QuestionnaireID:5,QuestionnaireText:"\u05d0\u05d9\u05db\u05d5\u05ea \u05d7\u05d9\u05d9\u05dd"});var s=this.props.user.UserID;v.a.post("  https://moda-medic.herokuapp.com/auth/usersAll/changeUserQuestionnaire",{UserID:s,Questionnaires:a,changedQuestionnaires:!0},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}).then((function(e){window.alert("\u05d4\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05e9\u05d5\u05e0\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),t.setState({questionnairesArrDoctor:a.map((function(e){return e.QuestionnaireText})),showPopupQ:!t.state.showPopupQ})}))}}},{key:"changeQuest",value:function(){this.togglePopupQ()}},{key:"changeDate",value:function(){this.togglePopup()}},{key:"togglePopupQ",value:function(){this.setState({showPopupQ:!this.state.showPopupQ})}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"PopupQ",value:function(){return a(115),r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup_innerCQ"},r.a.createElement("div",{className:"line_x"},r.a.createElement("button",{onClick:this.togglePopupQ,id:"x"},"x")),r.a.createElement("h4",{id:"h4C"},"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd"),r.a.createElement("form",{id:"formQ",onSubmit:this.handleSubmitQ},r.a.createElement("div",{className:"line"},r.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest2",checked:this.state.quest2,onChange:this.handleChange}),r.a.createElement("label",{className:"mLabel"},"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05d1 \u05ea\u05d7\u05ea\u05d5\u05df")),r.a.createElement("div",{className:"line"},r.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest3",checked:this.state.quest3,onChange:this.handleChange}),r.a.createElement("label",{className:"mLabel"},"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05e6\u05d5\u05d5\u05d0\u05e8")),r.a.createElement("div",{className:"line"},r.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest4",checked:this.state.quest4,onChange:this.handleChange}),r.a.createElement("label",{className:"mLabel"},"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05e3 \u05ea\u05d7\u05ea\u05d5\u05df")),r.a.createElement("div",{className:"line"},r.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest5",checked:this.state.quest5,onChange:this.handleChange}),r.a.createElement("label",{className:"mLabel"},"\u05d0\u05d9\u05db\u05d5\u05ea \u05d7\u05d9\u05d9\u05dd")),r.a.createElement("button",{id:"changeQ",type:"sumbit"},"\u05e9\u05d9\u05e0\u05d5\u05d9"))))}},{key:"render",value:function(){var e=this;return a(63),r.a.createElement("div",null,"patient"===this.state.type?r.a.createElement("div",{style:{alignRight:"auto",alignLeft:"auto",textWeight:"large"}},r.a.createElement("table",{id:"customers",style:{alignRight:"auto",alignLeft:"auto",textWeight:"large"}},r.a.createElement("thead",{style:{alignRight:"auto",alignLeft:"auto",textWeight:"large"}},r.a.createElement("h6",null,r.a.createElement("b",null,"\u05de\u05d8\u05d5\u05e4\u05dc \u05d9\u05e7\u05e8,")),r.a.createElement("h6",null,r.a.createElement("b",null,"\u05dc\u05e4\u05e0\u05d9\u05da \u05d4\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05d4\u05de\u05d5\u05d2\u05d3\u05e8\u05d9\u05dd \u05db\u05d7\u05dc\u05e7 \u05de\u05d8\u05d9\u05e4\u05d5\u05dc\u05da. \u05d0\u05e0\u05d0 \u05dc\u05d7\u05e5 \u05e2\u05dc \u05d4\u05e9\u05d0\u05dc\u05d5\u05df \u05d4\u05de\u05d1\u05d5\u05e7\u05e9 \u05dc\u05e6\u05d5\u05e8\u05da \u05de\u05e2\u05e0\u05d4")),r.a.createElement("h6",null,r.a.createElement("b",null,"\u05ea\u05d5\u05d3\u05d4 \u05e2\u05dc \u05e9\u05d9\u05ea\u05d5\u05e3 \u05d4\u05e4\u05e2\u05d5\u05dc\u05d4!"))),r.a.createElement("tr",{style:{width:"50%",textWeight:"large"}},this.state.questionnairesArr.map((function(e){return r.a.createElement("th",{id:"mdd",scope:"row",style:{width:"100%",textWeight:"large"}},r.a.createElement("u",null,r.a.createElement(u.b,{to:"/userQuestionnaire/".concat(e[0])}," ",e[1])))})))),r.a.createElement("br",null),r.a.createElement("div",null)):"doctor"===this.state.type&&this.props.user?r.a.createElement("div",{style:{alignRight:"auto",alignLeft:"auto",textWeight:"large"}},r.a.createElement("thead",{style:{alignRight:"auto",alignLeft:"auto",textWeight:"large"}},r.a.createElement("h4",null,r.a.createElement("b",null,'\u05dc\u05e4\u05e0\u05d9\u05da \u05d4\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05d4\u05de\u05d5\u05ea\u05d0\u05de\u05d9\u05dd \u05dc\u05de\u05d8\u05d5\u05e4\u05dc \u05d4\u05e0"\u05dc:'))),r.a.createElement("table",{id:"customers",style:{alignRight:"auto",alignLeft:"auto",textWeight:"large"}},r.a.createElement("thead",{style:{alignRight:"auto",alignLeft:"auto",textWeight:"large"}}),r.a.createElement("tr",{style:{width:"50%",textWeight:"large"}},this.state.questionnairesArrDoctor.map((function(e){return r.a.createElement("th",{id:"mdd",scope:"row",style:{width:"100%",textWeight:"large"}},r.a.createElement("a",null," ",e))})))),r.a.createElement("button",{className:"changeDate",onClick:function(){return e.changeQuest()}},"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05d4\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd")):null,r.a.createElement("div",null,r.a.createElement("img",{className:"imageBox",src:"https://image.freepik.com/free-photo/doctor-filling-up-life-insurance-form_53876-20493.jpg",style:{width:450,borderColor:"black"}})),this.state.showPopupQ?this.PopupQ():null)}}]),s}(s.Component);function re(e){return e>=0&&e<18.5?"BMI 0-18.5":e>=18.5&&e<25?"BMI 18.5-25":e>=25&&e<29.9?"BMI 25-29.9":e>=29.9&&e<40?"BMI 29.9-40":"BMI 40+"}function ne(e){return"\u05e0\u05e7\u05d1\u05d4"==e?"FemaleOnly":"MaleOnly"}function oe(e){return"\u05de\u05e2\u05e9\u05df"==e?"SmokeOnly":"NoSmokeOnly"}var ie=function(e){Object(c.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(i.a)(this,s),e=t.call(this);var a=new Date,r=new Date;r.setMonth(r.getMonth()-3);var n=r.toISOString().split("T")[0];console.log(n);var o=a.toISOString().split("T")[0];return e.state={end_date:o,start_date:n,steps:!0,distance:!0,weather:!0,calories:!0,sleeping_hours:!0,dataArr:[],periodicAnswers:[],dailyA:[],dailyQ:!0,perQ:!0,date:0,showDaily:!0,weekly:!1,monthly:!1,user:{},ready:!1,todayDate:o,className:"normal",comp:""},e.handleChange=e.handleChange.bind(Object(g.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(g.a)(e)),e.getRequest=e.getRequest.bind(Object(g.a)(e)),e.selectUser=e.selectUser.bind(Object(g.a)(e)),e.getCompereRequest=e.getCompereRequest.bind(Object(g.a)(e)),e.compAfterRequests=e.compAfterRequests.bind(Object(g.a)(e)),e.getStartAndEndTimeByInterval=e.getStartAndEndTimeByInterval.bind(Object(g.a)(e)),e.findHowManyDaysAfter=e.findHowManyDaysAfter.bind(Object(g.a)(e)),e}return Object(l.a)(s,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,r=t.type,n=t.checked;"checkbox"===r?this.setState(Object(D.a)({},a,n)):this.setState(Object(D.a)({},a,s)),"comp"===a&&this.setState({comp:s}),"showDaily"===a?this.setState({showDaily:!0,weekly:!1,monthly:!1}):"weekly"===a?this.setState({showDaily:!1,weekly:!0,monthly:!1}):"monthly"===a&&this.setState({showDaily:!1,weekly:!1,monthly:!0})}},{key:"getRequest",value:function(){var e=Object(f.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sessionStorage.getItem("doctor")){e.next=2;break}return e.abrupt("return",this.getDoctorRequest(t,a));case 2:if(!sessionStorage.getItem("patient")){e.next=4;break}return e.abrupt("return",this.getPatientRequest(t,a));case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getDoctorRequest",value:function(){var e=Object(f.a)(d.a.mark((function e(t,a){var s,r,n,o,i,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.patientUserId){e.next=11;break}return s=encodeURIComponent(this.props.patientUserId),r="  https://moda-medic.herokuapp.com/auth/doctors/"+a+"?UserID="+s,""!==this.state.start_date&&(n=new Date(this.state.start_date),o=n.getTime(),r+="&start_time="+o),""!==this.state.end_date&&(n=new Date(this.state.end_date),n=new Date(n.getTime()+864e5),i=n.getTime(),r+="&end_time="+i),e.next=7,v.a.get(r,{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 7:if("Not Found"!==(l=e.sent).data.message){e.next=10;break}return e.abrupt("return",null);case 10:return e.abrupt("return",{values:l.data.data,name:t,numOfUsers:l.data.data.length});case 11:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getCompereRequest",value:function(){var e=Object(f.a)(d.a.mark((function e(t,a,s,r,n,o,i,l){var c,p,u,h,m,f,g,b,E,y;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="https://moda-medic.herokuapp.com/auth/doctors"+a+"?",h=[],"After"==o&&(h=this.getStartAndEndTimeByInterval(l,i),p=h[0],u=h[1]),""!==this.state.start_date&&(m=new Date(this.state.start_date),f=m.getTime(),c+="&start_time="+("After"==o?p:f)),""!==this.state.end_date&&(m=new Date(this.state.end_date),m=new Date(m.getTime()+864e5),m.getTime(),c+="&end_time="+("After"==o?u:l)),"Gender"==this.state.comp?(c+="&filter=Gender",g=ne(s),c+="&groupId="+g+i+o):"Smoke"==this.state.comp?(c+="&filter=Smoke",b=oe(s),c+="&groupId="+b+i+o):"BMI"==this.state.comp&&(c+="&filter=BMI",E=re(n),c+="&groupId="+E+" "+i+o),e.next=8,v.a.get(c,{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 8:if("Not Found"!==(y=e.sent).data.message){e.next=11;break}return e.abrupt("return",null);case 11:return e.abrupt("return",{values:y.data.data,name:t,numOfUsers:y.data.data.length});case 12:case"end":return e.stop()}}),e,this)})));return function(t,a,s,r,n,o,i,l){return e.apply(this,arguments)}}()},{key:"getStartAndEndTimeByInterval",value:function(e,t){var a=[],s=this.findHowManyDaysAfter(t);return a.push(e+60*s[0]*60*24*1e3),a.push(e+60*s[1]*60*24*1e3),a}},{key:"findHowManyDaysAfter",value:function(e){var t=e.substring(e.indexOf("/")+1,e.lastIndexOf("/"));return[t.substr(0,t.indexOf("-")),t.substring(t.indexOf("-")+1)]}},{key:"getPatientRequest",value:function(){var e=Object(f.a)(d.a.mark((function e(t,a){var s,r,n,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="  https://moda-medic.herokuapp.com/auth/patients/".concat(a),""!==this.state.start_date&&(n=new Date(this.state.start_date),r=n.getTime()),""!==this.state.end_date&&(n=new Date(this.state.end_date),n=new Date(n.getTime()+864e5),o=n.getTime()),console.log(s),e.next=6,v.a.get(s,{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")},params:{start_time:r,end_time:o}});case 6:return i=e.sent,e.abrupt("return",{values:i.data.data,name:t,numOfUsers:i.data.data.length});case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"compAfterRequests",value:function(){var e=Object(f.a)(d.a.mark((function e(t,a,s,r,n,o){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCompereRequest("\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05d0\u05d7\u05e8\u05d9","/comperePatients/getCaloriesCompere",t,a,s,"After",n,o);case 2:return void 0!=(i=e.sent).values[0]&&i.values[0].docs.length>0&&r.push(i),e.next=6,this.getCompereRequest("\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05e8\u05d7\u05e7 \u05d0\u05d7\u05e8\u05d9","/comperePatients/getDistanceCompere",t,a,s,"After",n,o);case 6:return void 0!=(i=e.sent).values[0]&&i.values[0].docs.length>0&&r.push(i),e.next=10,this.getCompereRequest("\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e6\u05e2\u05d3\u05d9\u05dd \u05d0\u05d7\u05e8\u05d9","/comperePatients/getStepsCompere",t,a,s,"After",n,o);case 10:return void 0!=(i=e.sent).values[0]&&i.values[0].docs.length>0&&r.push(i),e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,this)})));return function(t,a,s,r,n,o){return e.apply(this,arguments)}}()},{key:"selectUser",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s,r,n,o,i,l,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=this.state.dataArr,s=this.state.dailyA,r=[],i=0;i<this.state.numOfUsers;i++)s[i]&&s[i].UserID.BirthDate===t&&(r=s[i].docs,o=s[i].UserID.DateOfSurgery,n=s[i].UserID);for(i=0;i<this.state.questionnaire.values.length;i++)this.state.questionnaire.values[i].UserID.BirthDate===t&&(this.state.periodicAnswers.push(this.state.questionnaire.values[i].docs),o=this.state.questionnaire.values[i].UserID.DateOfSurgery,n=this.state.questionnaire.values[i].UserID);i=0;case 6:if(!(i<a.length)){e.next=14;break}if(!a[i].name.startsWith("\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea")){e.next=9;break}return e.abrupt("continue",11);case 9:if(l=[],a[i]){for(c=0;c<a[i].values.length;c++)a[i].values[c].UserID.BirthDate===t&&(l=a[i].values[c].docs,o=a[i].values[c].UserID.DateOfSurgery,n=a[i].values[c].UserID);a[i].values=l}case 11:i++,e.next=6;break;case 14:this.setState({dataArr:a,dailyA:r,date:o,user:n,ready:!0,className:"normal"});case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s,r,n,o,i,l,c,p,u,h,m,f,g,b,E;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),this.setState({ready:!1,className:"waiting",periodicAnswers:[]}),a=0,s=[],e.next=6,this.getRequest("\u05e6\u05e2\u05d3\u05d9\u05dd","metrics/getSteps");case 6:if(r=e.sent){e.next=10;break}return window.alert("\u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05de\u05d8\u05d5\u05e4\u05dc"),e.abrupt("return");case 10:return r.values[0].docs.length>0&&s.push(r),r.numOfUsers>a&&(a=r.numOfUsers),e.next=14,this.getRequest("\u05de\u05e8\u05d7\u05e7","metrics/getDistance");case 14:if((r=e.sent).values[0].docs.length>0&&s.push(r),r.numOfUsers>a&&(a=r.numOfUsers),null==r.values[0].UserID||""===this.state.comp){e.next=66;break}return n=r.values[0].UserID.Gender,o=parseFloat(r.values[0].UserID.BMI),i=r.values[0].UserID.Smoke,l=r.values[0].UserID.DateOfSurgery,e.next=24,this.getCompereRequest("\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea \u05dc\u05e4\u05e0\u05d9","/comperePatients/getCaloriesCompere",n,i,o,"Before","",l);case 24:return void 0!=(r=e.sent).values[0]&&r.values[0].docs.length>0&&s.push(r),e.next=28,this.getCompereRequest("\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05e8\u05d7\u05e7 \u05dc\u05e4\u05e0\u05d9","/comperePatients/getDistanceCompere",n,i,o,"Before","",l);case 28:return void 0!=(r=e.sent).values[0]&&r.values[0].docs.length>0&&s.push(r),e.next=32,this.getCompereRequest("\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05e6\u05e2\u05d3\u05d9\u05dd \u05dc\u05e4\u05e0\u05d9","/comperePatients/getStepsCompere",n,i,o,"Before","",l);case 32:if(void 0!=(r=e.sent).values[0]&&r.values[0].docs.length>0&&s.push(r),c=(new Date).getTime(),!(void 0!=l&&0!=l&&l<new Date(this.state.end_date).getTime())){e.next=66;break}return!0,u=(p=(c-l)/864e5)>=5,h=p>=10,m=p>=35,f=p>=90,g=p>=180,e.next=45,this.compAfterRequests(n,i,o,s,"/0-5/",l);case 45:if(s=e.sent,!u){e.next=50;break}return e.next=49,this.compAfterRequests(n,i,o,s,"/5-10/",l);case 49:s=e.sent;case 50:if(!h){e.next=54;break}return e.next=53,this.compAfterRequests(n,i,o,s,"/10-35/",l);case 53:s=e.sent;case 54:if(!m){e.next=58;break}return e.next=57,this.compAfterRequests(n,i,o,s,"/35-90/",l);case 57:s=e.sent;case 58:if(!f){e.next=62;break}return e.next=61,this.compAfterRequests(n,i,o,s,"/90-180/",l);case 61:s=e.sent;case 62:if(!g){e.next=66;break}return e.next=65,this.compAfterRequests(n,i,o,s,"/180/",l);case 65:s=e.sent;case 66:return e.next=68,this.getRequest("\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea","metrics/getCalories");case 68:return(r=e.sent).values[0].docs.length>0&&s.push(r),r.numOfUsers>a&&(a=r.numOfUsers),e.next=73,this.getRequest("\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8","metrics/getWeather");case 73:return(r=e.sent).values[0].docs.length>0&&s.push(r),r.numOfUsers>a&&(a=r.numOfUsers),e.next=78,this.getRequest("\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4","metrics/getSleep");case 78:return(r=e.sent).values[0].docs.length>0&&s.push(r),r.numOfUsers>a&&(a=r.numOfUsers),e.next=83,this.getRequest("\u05ea\u05e9\u05d5\u05d1\u05d5\u05ea \u05d9\u05d5\u05de\u05d9\u05d5\u05ea","answers/getDailyAnswers");case 83:return(r=e.sent).numOfUsers>a&&(a=r.numOfUsers),e.next=87,this.getRequest("\u05e9\u05d0\u05dc\u05d5\u05df \u05ea\u05e7\u05d5\u05e4\u05ea\u05d9","answers/getPeriodicAnswers");case 87:b=e.sent,this.setState({dataArr:s,dailyA:r.values,numOfUsers:a,questionnaire:b}),1===a?((E=this.state.dailyA[0].UserID.BirthDate)||(E=this.state.periodicAnswers[0].UserID.BirthDate),E||(E=this.state.dataArr[0][0].UserID.BirthDate),this.selectUser(E)):alert("More than 1 user found!!!!!");case 90:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){a(75);var e=(new Date).toISOString().split("T")[0];return r.a.createElement("div",null,r.a.createElement("div",{className:"dates"},r.a.createElement("label",{className:"cSearch"},"\u05d1\u05d7\u05e8 \u05ea\u05d0\u05e8\u05d9\u05db\u05d9\u05dd: \u05de"),r.a.createElement("input",{className:"dSearch",type:"date",name:"start_date",value:this.state.start_date,onChange:this.handleChange,max:this.state.end_date}),r.a.createElement("label",{className:"aSearch"},"\u05e2\u05d3"),r.a.createElement("input",{className:"dSearch",type:"date",name:"end_date",value:this.state.end_date,onChange:this.handleChange,max:e})),r.a.createElement("div",{className:"mdd"},r.a.createElement("label",{className:"mLabel"},"\u05d1\u05d7\u05e8 \u05de\u05d3\u05d3\u05d9\u05dd:"),r.a.createElement("input",{className:"cInput",type:"checkbox",name:"steps",checked:this.state.steps,onChange:this.handleChange})," ",r.a.createElement("p",{class:"space"}),r.a.createElement("label",{className:"mLabel"},"\u05e6\u05e2\u05d3\u05d9\u05dd"),r.a.createElement("input",{className:"cInput",type:"checkbox",name:"distance",checked:this.state.distance,onChange:this.handleChange}),r.a.createElement("p",{className:"space"}),r.a.createElement("label",{className:"mLabel"},"\u05de\u05e8\u05d7\u05e7"),r.a.createElement("input",{className:"cInput",type:"checkbox",name:"weather",checked:this.state.weather,onChange:this.handleChange}),r.a.createElement("p",{className:"space"}),r.a.createElement("label",{className:"mLabel"},"\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"),r.a.createElement("input",{className:"cInput",type:"checkbox",name:"calories",checked:this.state.calories,onChange:this.handleChange}),r.a.createElement("p",{className:"space"}),r.a.createElement("label",{className:"mLabel"},"\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"),r.a.createElement("input",{className:"cInput",type:"checkbox",name:"sleeping_hours",checked:this.state.sleeping_hours,onChange:this.handleChange}),r.a.createElement("p",{className:"space"}),r.a.createElement("label",{className:"mLabel"},"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"),r.a.createElement("input",{className:"cInput",type:"checkbox",name:"dailyQ",checked:this.state.dailyQ,onChange:this.handleChange}),r.a.createElement("p",{className:"space"}),r.a.createElement("label",{className:"mLabel"},"\u05e9\u05d0\u05dc\u05d5\u05df \u05d9\u05d5\u05de\u05d9"),r.a.createElement("input",{className:"cInput",type:"checkbox",name:"perQ",checked:this.state.perQ,onChange:this.handleChange}),r.a.createElement("p",{className:"space"}),r.a.createElement("label",{className:"mLabel"},"\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05ea\u05e7\u05d5\u05e4\u05ea\u05d9\u05d9\u05dd")),r.a.createElement("div",{className:"mddShow"},r.a.createElement("label",{className:"mLabel"},"\u05d1\u05d7\u05e8 \u05d0\u05d5\u05e4\u05df \u05d4\u05e6\u05d2\u05d4:"),r.a.createElement("input",{className:"cInput",type:"checkbox",name:"showDaily",checked:this.state.showDaily,onChange:this.handleChange}),r.a.createElement("p",{className:"space"}),r.a.createElement("label",{className:"mLabel"},"\u05d9\u05d5\u05de\u05d9"),r.a.createElement("input",{className:"cInput",type:"checkbox",name:"weekly",checked:this.state.weekly,onChange:this.handleChange}),r.a.createElement("p",{className:"space"}),r.a.createElement("label",{className:"mLabel"},"\u05e9\u05d1\u05d5\u05e2\u05d9"),r.a.createElement("input",{className:"cInput",type:"checkbox",name:"monthly",checked:this.state.monthly,onChange:this.handleChange}),r.a.createElement("p",{className:"space"}),r.a.createElement("label",{className:"mLabel"},"\u05d7\u05d5\u05d3\u05e9\u05d9")),r.a.createElement("div",{className:"mddShow",style:sessionStorage.getItem("doctor")?{}:{display:"none"}},r.a.createElement("label",{className:"mLabel"},"\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05d8\u05d5\u05e4\u05dc\u05d9\u05dd \u05dc\u05e4\u05d9:"),r.a.createElement("input",{className:"cInput",type:"radio",name:"comp",value:"Gender",id:"gender_comp",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"gender_comp"},"\u05de\u05d9\u05df"),r.a.createElement("p",{className:"space"}),r.a.createElement("input",{className:"cInput",type:"radio",name:"comp",value:"Smoke",id:"smoke_comp",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"smoke_comp"},"\u05de\u05e2\u05e9\u05df/ \u05dc\u05d0 \u05de\u05e2\u05e9\u05df"),r.a.createElement("p",{className:"space"}),r.a.createElement("input",{className:"cInput",type:"radio",name:"comp",value:"BMI",id:"BMI_comp",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"BMI_comp"},"BMI"),r.a.createElement("p",{className:"space"}),r.a.createElement("input",{className:"cInput",type:"radio",name:"comp",value:"",id:"No_comp",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"No_comp"},"\u05dc\u05dc\u05d0 \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4")),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("button",null,"\u05d4\u05e6\u05d2 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea")),r.a.createElement("br",null),r.a.createElement(B,{dataArr:this.state.dataArr,steps:this.state.steps,distance:this.state.distance,calories:this.state.calories,weather:this.state.weather,sleep:this.state.sleeping_hours,dailyA:this.state.dailyA,periodicAnswers:this.state.periodicAnswers,dailyQ:this.state.dailyQ,perQ:this.state.perQ,date:this.state.date,showDaily:this.state.showDaily,weekly:this.state.weekly,monthly:this.state.monthly,user:this.state.user,ready:this.state.ready}))}}]),s}(s.Component),le=a(69),ce=a(125),pe=a.n(ce),ue=a(259),he=a(257),me=a(126),de={name:"my-map",areas:[{name:"knee",shape:"circle",coords:[330,300,5],preFillColor:"#ff1313",fillColor:"white",lineWidth:1},{name:"neck",shape:"circle",coords:[350,80,5],preFillColor:"#ff1313",fillColor:"white",lineWidth:1},{name:"back",shape:"circle",coords:[350,170,5],preFillColor:"#ff1313",fillColor:"white",lineWidth:1},{name:"shoulder",shape:"circle",coords:[310,95,5],preFillColor:"#ff1313",fillColor:"white",lineWidth:1},{name:"elbow",shape:"circle",coords:[255,105,5],preFillColor:"#ff1313",fillColor:"white",lineWidth:1},{name:"ankle",shape:"circle",coords:[333,382,5],preFillColor:"#ff1313",fillColor:"white",lineWidth:1},{name:"hip",shape:"circle",coords:[325,200,5],preFillColor:"#ff1313",fillColor:"white",lineWidth:1}]},fe=function(e){Object(c.a)(s,e);var t=Object(p.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).onFileChange=function(e){n.setState({selectedFile:e.target.files[0]})},n.downloadFile=function(e){v()({url:" https://moda-medic.herokuapp.com/auth/usersAll/instructions/".concat(e.InstructionId),method:"GET",responseType:"blob",headers:{"x-auth-token":sessionStorage.getItem("token")}}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=a,s.setAttribute("download","".concat(e.Title,".pdf")),document.body.appendChild(s),s.click()}))},n.onFileUpload=function(){(new FormData).append("myFile",n.state.selectedFile,n.state.selectedFile.name),console.log(n.state.selectedFile)},n.fileData=function(){return n.state.selectedFile?r.a.createElement("div",null,r.a.createElement("h2",null,"File Details:"),r.a.createElement("p",null,"File Name: ",n.state.selectedFile.name),r.a.createElement("p",null,"File Type: ",n.state.selectedFile.type)):r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("h4",null,"Choose before Pressing the Upload button"))},n.state={instructions:void 0,instructionsForGrid:[],headerNames:{knee:"\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc\u05d9 \u05e9\u05d9\u05e7\u05d5\u05dd - \u05d1\u05e8\u05da",shoulder:"\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc\u05d9 \u05e9\u05d9\u05e7\u05d5\u05dd - \u05db\u05ea\u05e3",hip:"\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc\u05d9 \u05e9\u05d9\u05e7\u05d5\u05dd - \u05d9\u05e8\u05da",ankle:"\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc\u05d9 \u05e9\u05d9\u05e7\u05d5\u05dd - \u05e7\u05e8\u05e1\u05d5\u05dc",elbow:"\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc\u05d9 \u05e9\u05d9\u05e7\u05d5\u05dd - \u05de\u05e8\u05e4\u05e7",back:"\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc\u05d9 \u05e9\u05d9\u05e7\u05d5\u05dd - \u05d2\u05d1",neck:"\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc\u05d9 \u05e9\u05d9\u05e7\u05d5\u05dd - \u05e6\u05d5\u05d5\u05d0\u05e8"},categoryToImage:{knee:a(189),shoulder:a(190),hip:a(191),ankle:a(192),elbow:a(193),back:a(194),neck:a(195)},instructionsByCategory:{},showInstructions:!1,showPopup:!1,selectedFile:null,newInstructionCategory:"knee",newInstructionTitle:"",categories:{"\u05d1\u05e8\u05da":"knee","\u05d2\u05d1":"back","\u05db\u05ea\u05e3":"shoulder","\u05d9\u05e8\u05da":"hip","\u05e7\u05e8\u05e1\u05d5\u05dc":"ankle","\u05de\u05e8\u05e4\u05e7":"elbow","\u05e6\u05d5\u05d5\u05d0\u05e8":"neck"},area:void 0},n.getInstructions=n.getInstructions.bind(Object(g.a)(n)),n.changePdfToShow=n.changePdfToShow.bind(Object(g.a)(n)),n.getInitialState=n.getInitialState.bind(Object(g.a)(n)),n.load=n.load.bind(Object(g.a)(n)),n.clicked=n.clicked.bind(Object(g.a)(n)),n.clickedOutside=n.clickedOutside.bind(Object(g.a)(n)),n.moveOnImage=n.moveOnImage.bind(Object(g.a)(n)),n.enterArea=n.enterArea.bind(Object(g.a)(n)),n.leaveArea=n.leaveArea.bind(Object(g.a)(n)),n.moveOnArea=n.moveOnArea.bind(Object(g.a)(n)),n.getTipPosition=n.getTipPosition.bind(Object(g.a)(n)),n.togglePopup=n.togglePopup.bind(Object(g.a)(n)),n.selectFile=n.selectFile.bind(Object(g.a)(n)),n.upload=n.upload.bind(Object(g.a)(n)),n.uploadFile=n.uploadFile.bind(Object(g.a)(n)),n.onSelectCategoryChosen=n.onSelectCategoryChosen.bind(Object(g.a)(n)),n.handleChange=n.handleChange.bind(Object(g.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(g.a)(n)),n}return Object(l.a)(s,[{key:"getInitialState",value:function(){return{hoveredArea:null,msg:null,moveMsg:null}}},{key:"load",value:function(){}},{key:"clicked",value:function(e){e.name===this.state.category?this.setState({showInstructions:!this.state.showInstructions,category:""}):this.setState({category:e.name,showInstructions:!0},this.focusOnInstructions)}},{key:"focusOnInstructions",value:function(){this.state.showInstructions&&document.getElementById("inst").scrollIntoView()}},{key:"clickedOutside",value:function(e){var t={x:e.nativeEvent.layerX,y:e.nativeEvent.layerY};this.setState({msg:"You clicked on the image at coords ".concat(JSON.stringify(t)," !")})}},{key:"moveOnImage",value:function(e){e.nativeEvent.layerX,e.nativeEvent.layerY;this.setState({moveMsg:" "})}},{key:"enterArea",value:function(e){this.setState({hoveredArea:e,msg:"You entered ".concat(e.shape," ").concat(e.name," at coords ").concat(JSON.stringify(e.coords)," !")})}},{key:"leaveArea",value:function(e){this.setState({hoveredArea:null})}},{key:"moveOnArea",value:function(e,t){t.nativeEvent.layerX,t.nativeEvent.layerY;this.setState({moveMsg:" \u05dc\u05d7\u05e5 \u05dc\u05d4\u05e6\u05d2\u05ea "+this.state.headerNames["".concat(e.name)],currArea:e,hoveredArea:e})}},{key:"getTipPosition",value:function(e){return{top:"".concat(e.center[1],"px"),left:"".concat(e.center[0],"px")}}},{key:"componentDidMount",value:function(){this.getInstructions()}},{key:"getInstructions",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("  https://moda-medic.herokuapp.com/auth/usersAll/instructions",{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 2:if((t=e.sent).data.data){for(a=[],s=0;s<t.data.data.length;s++)a.push(t.data.data[s]);for(r=[],s=0;s<a.length;s+=2)a[s+1]?r.push({obj1:a[s],obj2:a[s+1]}):r.push({obj1:a[s],obj2:{}});this.setState({instructions:a,instructionsForGrid:r,instructionsByCategory:this.groupArrayOfObjects(a,"Category")})}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"groupArrayOfObjects",value:function(e,t){return e.reduce((function(e,a){return(e[a[t]]=e[a[t]]||[]).push(a),e}),{})}},{key:"changePdfToShow",value:function(e){console.log(e),this.state.pdfToShow===e?this.setState({pdfToShow:null}):this.setState({pdfToShow:e,showPopup:!0})}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"onSelectCategoryChosen",value:function(e){var t=this.state.categories[e.target.options[e.target.options.selectedIndex].label];this.setState({newInstructionCategory:t})}},{key:"uploadFile",value:function(e,t,a,s){var r=new FormData;return r.append("Category",e),r.append("Title",t),r.append("pdf",a),v.a.post(" https://moda-medic.herokuapp.com/auth/doctors/instructions",r,{headers:{"Content-Type":"multipart/form-data","x-auth-token":sessionStorage.getItem("token")},onUploadProgress:s})}},{key:"selectFile",value:function(e){this.setState({selectedFiles:e.target.files})}},{key:"upload",value:function(){var e=this,t=this.state.selectedFiles[0];this.setState({progress:0,currentFile:t}),this.uploadFile(this.state.newInstructionCategory,this.state.newInstructionTitle,t,(function(t){e.setState({progress:Math.round(100*t.loaded/t.total)})})).then((function(t){e.setState({message:t.data.message}),window.alert("\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc \u05d4\u05d5\u05e2\u05dc\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!"),e.setState({newInstructionTitle:"",progress:0,currentFile:void 0,selectedFiles:void 0}),e.getInstructions()})).catch((function(){e.setState({progress:0,message:"Could not upload the file!",currentFile:void 0,selectedFiles:void 0})})),this.setState({selectedFiles:void 0})}},{key:"removeInstruction",value:function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sessionStorage.getItem("doctor")){e.next=7;break}if(!window.confirm("\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d0\u05ea\u05d4 \u05e8\u05d5\u05e6\u05d4 \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea \u05d4\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc?")){e.next=7;break}return e.next=5,v.a.delete("  https://moda-medic.herokuapp.com/auth/doctors/instructions/".concat(t),{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 5:window.alert("\u05d4\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc \u05e0\u05de\u05d7\u05e7!"),this.getInstructions();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){"newInstructionTitle"===e.target.name&&this.setState(Object(D.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.upload()}},{key:"renderUploadFile",value:function(){var e=this,t=this.state,a=t.selectedFiles,s=t.currentFile,n=t.progress,o=t.message,i=Object.keys(this.state.categories).map((function(e){return r.a.createElement("option",{key:e},e)}));return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"divs_in_add_pdf"},r.a.createElement("label",{className:"labels_in_add_instructions"},"\u05db\u05d5\u05ea\u05e8\u05ea \u05d4\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc: "),r.a.createElement("input",{className:"inputs_in_add_instructions",name:"newInstructionTitle",type:"text",value:this.state.newInstructionTitle,onChange:function(t){return e.handleChange(t)},required:!0})),r.a.createElement("div",{className:"divs_in_add_pdf"},r.a.createElement("label",{className:"labels_in_add_instructions"},"\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d9\u05ea \u05d4\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc:    "),r.a.createElement("select",{className:"select_in_add_instructions",onChange:this.onSelectCategoryChosen,required:!0},i)),r.a.createElement("br",null),r.a.createElement("br",null),s&&r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-bar progress-bar-info progress-bar-striped",role:"progressbar","aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100",style:{width:n+"%"}},n,"%")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{className:"btn btn-default"},r.a.createElement("input",{type:"file",onChange:this.selectFile})),r.a.createElement("button",{className:"btn btn-primary",disabled:!a,type:"submit"},"\u05d4\u05e2\u05dc\u05d0\u05ea \u05d4\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05dc"),r.a.createElement("div",{className:"alert alert-light",role:"alert"},o)))}},{key:"render",value:function(){var e=this;return a(196),r.a.createElement("div",{className:"presenter"},r.a.createElement(he.a,{container:!0,spacing:2},r.a.createElement(he.a,{item:!0,xs:6},r.a.createElement("br",null),sessionStorage.getItem("patient")&&r.a.createElement("img",{style:{width:"100%",marginLeft:"auto"},src:a(197)}),sessionStorage.getItem("doctor")&&this.renderUploadFile()),r.a.createElement(he.a,{item:!0,xs:6},r.a.createElement("div",null,r.a.createElement("pre",{className:"message"},this.state.msg?this.state.msg:null),r.a.createElement("pre",null,this.state.moveMsg?this.state.moveMsg:null),r.a.createElement("div",{style:{width:"100%",position:"relative"}},r.a.createElement(pe.a,{src:"https://modernorthonj.com/wp-content/uploads/2020/03/body-schematic-transparent-2048x1257.jpg",map:de,width:700,onLoad:function(){return e.load()},onClick:function(t){return e.clicked(t)},onMouseMove:function(t,a,s){return e.moveOnArea(t,s)},onImageMouseMove:function(t){return e.moveOnImage(t)},lineWidth:4,strokeColor:"white"}),this.state.hoveredArea&&r.a.createElement("span",{className:"tooltip",style:Object(le.a)({},this.getTipPosition(this.state.hoveredArea))},this.state.hoveredArea&&this.state.hoveredArea.name))))),r.a.createElement("div",{id:"inst"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h2",{className:"insth2"},this.state.headerNames[this.state.category])),r.a.createElement("div",null,this.state.category&&!this.state.instructionsByCategory[this.state.category]&&r.a.createElement("div",null,r.a.createElement("h3",null,"\u05d0\u05d9\u05df \u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc\u05d9\u05dd \u05d1\u05ea\u05d7\u05d5\u05dd \u05d6\u05d4")),r.a.createElement(he.a,{container:!0,spacing:2},this.state.showInstructions&&this.state.instructionsByCategory[this.state.category]&&this.state.instructionsByCategory[this.state.category].map((function(t){return r.a.createElement(he.a,{item:!0,xs:5,style:{marginLeft:50}},r.a.createElement(y.a,{id:"cardInstruction"},r.a.createElement(ue.a,{component:"img",alt:"Contemplative Reptile",height:"200",image:e.state.categoryToImage[t.Category],title:"Contemplative Reptile",style:{borderColor:"black"}}),r.a.createElement(y.a.Header,null,r.a.createElement("button",{onClick:function(){return e.downloadFile(t)}},r.a.createElement("b",null,t.Title),r.a.createElement(me.a,{style:{float:"left"}})))),sessionStorage.getItem("doctor")&&r.a.createElement(Z.a,{type:"button",class:"trushIcon",style:{color:"black"},size:20,onClick:function(){return e.removeInstruction(t.InstructionId)}}))})))))}}]),s}(s.Component),ge=a(60),be=a(127),Ee=function(e){Object(c.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={exercises:void 0,exercisesGrid:void 0,newExerciseUrl:"",newExerciseCategory:"\u05d1\u05e8\u05da",categories:["\u05d1\u05e8\u05da","\u05d2\u05d1","\u05db\u05ea\u05e3","\u05e7\u05e8\u05e1\u05d5\u05dc","\u05d9\u05e8\u05da","\u05de\u05e8\u05e4\u05e7","\u05d2\u05d1"]},a.getExercises=a.getExercises.bind(Object(g.a)(a)),a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.onSelectCategoryChosen=a.onSelectCategoryChosen.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getExercises()}},{key:"getExercises",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("  https://moda-medic.herokuapp.com/auth/usersAll/exercises",{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 2:for(t=e.sent,this.setState({exercises:t.data.data}),a=[],s=0;s<this.state.exercises.length;s+=2)this.state.exercises[s+1]?a.push({obj1:this.state.exercises[s],obj2:this.state.exercises[s+1]}):a.push({obj1:this.state.exercises[s],obj2:{}}),this.setState({exercisesGrid:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){e.preventDefault(),this.addExercise(),this.setState({newExerciseUrl:""}),this.getExercises()}},{key:"addExercise",value:function(){for(var e=new URL(this.state.newExerciseUrl).searchParams.get("v"),t=0;t<this.state.exercises.length;t++)if(this.state.exercises[t].Video===e)return window.alert("\u05d4\u05e1\u05e8\u05d8\u05d5\u05df \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd \u05d1\u05de\u05d0\u05d2\u05e8"),void this.setState({newExerciseUrl:""});v.a.post("  https://moda-medic.herokuapp.com/auth/doctors/exercises",{category:this.state.newExerciseCategory,url:e},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}),window.alert("\u05d4\u05e1\u05e8\u05d8\u05d5\u05df \u05e0\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!"),this.getExercises()}},{key:"handleChange",value:function(e){"newExerciseUrl"===e.target.name&&this.setState(Object(D.a)({},e.target.name,e.target.value))}},{key:"onSelectCategoryChosen",value:function(e){this.setState({newExerciseCategory:this.state.categories[e.target.options.selectedIndex]})}},{key:"removeExercise",value:function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sessionStorage.getItem("doctor")){e.next=7;break}if(1!=window.confirm("\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d0\u05ea\u05d4 \u05e8\u05d5\u05e6\u05d4 \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea \u05d4\u05e1\u05e8\u05d8\u05d5\u05df?")){e.next=7;break}return e.next=5,v.a.delete("  https://moda-medic.herokuapp.com/auth/doctors/exercises/removeExercise/".concat(t),{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 5:window.alert("\u05d4\u05e1\u05e8\u05d8\u05d5\u05df \u05e0\u05de\u05d7\u05e7!"),this.getExercises();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;a(209);var t=void 0;this.state.exercises&&(t=this.state.exercises.reduce((function(e,t){return e[t.Category]=[].concat(Object(ge.a)(e[t.Category]||[]),[t]),e}),{}));var s={height:"350",width:"400",playerVars:{autoplay:0}},n=this.state.categories.map((function(e){return r.a.createElement("option",{key:e},e)}));return r.a.createElement("div",null,sessionStorage.getItem("doctor")&&r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("h5",null,"\u05de\u05d8\u05e4\u05dc/\u05ea \u05d9\u05e7\u05e8/\u05d4,"),r.a.createElement("h5",null,"\u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05e1\u05e8\u05d8\u05d5\u05df \u05dc\u05de\u05d0\u05d2\u05e8, \u05d0\u05e0\u05d0 \u05d4\u05e2\u05ea\u05e7 \u05d0\u05ea \u05e7\u05d9\u05e9\u05d5\u05e8 \u05d4-Youtube \u05dc\u05d7\u05dc\u05d5\u05df \u05d4\u05e0\u05db\u05d5\u05df \u05d5\u05d1\u05d7\u05e8 \u05d0\u05ea \u05d4\u05d0\u05d9\u05d1\u05e8 \u05d4\u05e9\u05d9\u05d9\u05da \u05dc\u05d8\u05d9\u05e4\u05d5\u05dc \u05d1\u05e1\u05e8\u05d8\u05d5\u05df \u05d6\u05d4."),r.a.createElement("h5",null,"\u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05de\u05d7\u05d5\u05e7 \u05e1\u05e8\u05d8\u05d5\u05df, \u05d9\u05e9 \u05dc\u05dc\u05d7\u05d5\u05e5 \u05e2\u05dc \u05db\u05e4\u05ea\u05d5\u05e8 \u05d4\u05de\u05d7\u05d9\u05e7\u05d4 \u05ea\u05d7\u05ea \u05d4\u05e1\u05e8\u05d8\u05d5\u05df \u05d4\u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9."),r.a.createElement("label",{className:"labels_in_add_user"},"\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05e1\u05e8\u05d8\u05d5\u05df:"),r.a.createElement("input",{className:"inputs_in_add_user",name:"newExerciseUrl",type:"url",value:this.state.newExerciseUrl,onChange:function(t){return e.handleChange(t)},required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d9\u05ea \u05d4\u05e1\u05e8\u05d8\u05d5\u05df: "),r.a.createElement("select",{className:"select_in_add_user",onChange:this.onSelectCategoryChosen},n)),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("input",{type:"submit",value:"\u05d4\u05d5\u05e1\u05e3",className:"submit_and_reset_buttons"})))),sessionStorage.getItem("patient")&&r.a.createElement("div",null,r.a.createElement("a",null,r.a.createElement("b",null,"\u05de\u05d8\u05d5\u05e4\u05dc/\u05ea \u05d9\u05e7\u05e8/\u05d4!")),r.a.createElement("br",null),r.a.createElement("a",null,r.a.createElement("b",null,"\u05dc\u05e4\u05e0\u05d9\u05da \u05de\u05d0\u05d2\u05e8 \u05ea\u05e8\u05d2\u05d5\u05dc\u05d9 \u05e4\u05d9\u05d6\u05d9\u05d5\u05ea\u05e8\u05e4\u05d9\u05d4 \u05d4\u05de\u05d7\u05d5\u05dc\u05e7\u05d9\u05dd \u05dc\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d5\u05ea.")),r.a.createElement("br",null),r.a.createElement("a",null,r.a.createElement("b",null,"\u05e9\u05d9\u05dd \u05dc\u05d1! \u05d9\u05e9 \u05dc\u05d4\u05ea\u05d9\u05d9\u05e2\u05e5 \u05e2\u05dd \u05d4\u05e8\u05d5\u05e4\u05d0 \u05d4\u05de\u05d8\u05e4\u05dc \u05dc\u05e4\u05e0\u05d9 \u05d1\u05d9\u05e6\u05d5\u05e2 \u05d4\u05ea\u05e8\u05d2\u05d5\u05dc\u05d9\u05dd \u05d4\u05d1\u05d9\u05ea\u05d9\u05d9\u05dd.")),r.a.createElement("br",null),r.a.createElement("a",null,r.a.createElement("b",null,"\u05d4\u05d7\u05dc\u05de\u05d4 \u05de\u05d4\u05d9\u05e8\u05d4 \u05d5\u05d1\u05e8\u05d9\u05d0\u05d5\u05ea \u05e9\u05dc\u05de\u05d4!"))),r.a.createElement("hr",{style:{color:"darkgrey",backgroundColor:"darkgrey",height:3}}),t&&Object.keys(t).map((function(a,n){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(he.a,{item:!0,xs:7},r.a.createElement("div",null,r.a.createElement("h2",{className:"exh2"},r.a.createElement("b",null,"\u05ea\u05e8\u05d2\u05d9\u05dc\u05d9 ",a)))),r.a.createElement(he.a,{container:!0,spacing:3,style:{width:"100%",height:"100%"}},t[a].map((function(t){return r.a.createElement(he.a,{item:!0,xs:6,style:{width:"100%",height:"100%"}},r.a.createElement(be.a,{videoId:t.Video,opts:s,onReady:e._onReady}),sessionStorage.getItem("doctor")&&r.a.createElement(Z.a,{type:"button",class:"trushIcon",style:{color:"black"},size:20,onClick:function(){return e.removeExercise(t.ExerciseId)}}))}))),r.a.createElement("hr",{style:{color:"darkgrey",backgroundColor:"darkgrey",height:3}})))})))}}]),s}(s.Component),ve=a(100);ve.a.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(ve.a.version,"/pdf.worker.js");var ye=function(e){Object(c.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={optionsPName:[],namesDiv:[],isFetchingNames:!1,users:[],pName:"",encrypName:"",showPopup:!1},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.togglePopup=a.togglePopup.bind(Object(g.a)(a)),a.fetchNamesForResearch=a.fetchNamesForResearch.bind(Object(g.a)(a)),a.handlePName=a.handlePName.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.isDoctor()&&this.fetchNamesForResearch().then((function(){return console.log("Fetch names successfully")}))}},{key:"fetchNamesForResearch",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,s,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return[],t=[],a=[],this.setState({isFetchingNames:!0}),e.next=6,v.a.get("  https://moda-medic.herokuapp.com/auth/doctors/metrics/getUsers",{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 6:if((s=e.sent).data.data)for([],r=0;r<s.data.data.length;r++)n=s.data.data[r],a.push({UserID:n.UserID}),t.push(n);this.setState({isFetchingNames:!1,namesDiv:a,users:t});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchNames",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,s,n,o,i,l,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=[],s=[],this.setState({isFetchingNames:!0}),e.next=6,v.a.get("  https://moda-medic.herokuapp.com/auth/doctors/metrics/getUsers",{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 6:if((n=e.sent).data.data){for(o=[],i=0;i<n.data.data.length;i++)l=n.data.data[i],s.push({first:l.First_Name,last:l.Last_Name}),a.push(l),o.push(l.First_Name.trim()+" "+l.Last_Name.trim());for(o=o.sort(),c=Array.from(new Set(o)),i=0;i<c.length;i++)t.push(r.a.createElement("option",{key:c[i]},c[i]))}this.setState({isFetchingNames:!1,optionsPName:t,namesDiv:s,users:a});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"handlePName",value:function(e){this.setState({pName:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s,n,o,i=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),e.next=3,v.a.post("  https://moda-medic.herokuapp.com/auth/doctors/metrics/userId",{UserID:this.state.pName},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}).then((function(e){i.setState({encrypName:e.data.data})}));case 3:for(a=[],this.state.users.forEach((function(e){i.state.encrypName===e.UserID&&(console.log("found user ".concat(e)),a.push(e))})),s=[],n=function(e){var t=a[e];new Date(t.BirthDate).toLocaleDateString("en-GB",{day:"numeric",month:"numeric",year:"numeric"});s.push(r.a.createElement(y.a,{className:"cardApp",key:t.UserID,onClick:function(){i.setState({patientUserId:t.UserID,user:t}),i.togglePopup()}},r.a.createElement(y.a.Body,{className:"cardBody"},"\u05de\u05d6\u05d4\u05d4 \u05de\u05d8\u05d5\u05e4\u05dc: ",i.state.pName.trim()," ")))},o=0;o<a.length;o++)n(o);this.setState({text:s}),this.togglePopup();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isDoctor",value:function(){return sessionStorage.getItem("doctor")}},{key:"searchPatient",value:function(){return a(75),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"search"},r.a.createElement("label",{className:"lSearch"},"\u05d7\u05e4\u05e9 \u05de\u05d8\u05d5\u05e4\u05dc:"),r.a.createElement("input",{className:"iSearch",id:"pname",type:"text",name:"pName",value:this.state.pName,placeholder:"\u05de\u05e1\u05e4\u05e8 \u05de\u05d8\u05d5\u05e4\u05dc",onChange:this.handlePName,list:"first-list",required:!0}),r.a.createElement("button",{type:"submit",className:"bSearch"},"\u05d7\u05e4\u05e9"))),r.a.createElement("br",null),this.state.showPopup?r.a.createElement(we,{text:this.state.text,closePopup:this.togglePopup.bind(this)}):null)}},{key:"getActiveComponent",value:function(){return"search"===this.props.component?r.a.createElement(ie,{patientUserId:this.state.patientUserId}):"messages"===this.props.component?r.a.createElement($,{patientUserId:this.state.patientUserId}):"questionnaires"===this.props.component?r.a.createElement(se,{user:this.state.user}):"survey"===this.props.component?r.a.createElement(ae,this.props):"instructions"===this.props.component?r.a.createElement(fe,this.props):"exercises"===this.props.component?r.a.createElement(Ee,this.props):null}},{key:"checkIfNotSearchNeeded",value:function(){return"instructions"!==this.props.component&&"exercises"!==this.props.component}},{key:"render",value:function(){return a(231),r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(b,null),this.isDoctor()&&this.checkIfNotSearchNeeded()&&this.searchPatient(),this.getActiveComponent(),r.a.createElement("br",null))))}}]),s}(s.Component),we=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"popupApp"},r.a.createElement("div",{className:"popup_inner_App"},r.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),r.a.createElement("h4",null,"\u05d0\u05e0\u05d0 \u05d1\u05d7\u05e8 \u05de\u05d1\u05d9\u05df \u05d4\u05e8\u05e9\u05d5\u05de\u05d5\u05ea \u05d4\u05d1\u05d0\u05d5\u05ea:"),this.props.text))}}]),a}(r.a.Component),De=(a(232),a(121),a(54)),Ne=(a(233),a(262)),Se=a(72),ke=a(261),xe=a(131),Ie={userName:"",fName:"",lName:"",password:"",bday:new Date,questionsID:[],questionsText:[],questions:[],answerUserQuestion:"",quesionChosen:0,code:"",type:"",questionnairesID:[],questionnairesText:[],gender:"",smoke:"",dateOfSurgery:"",surgeryType:"",education:"",height:"",weight:"",bmi:"",questionnairesChosen:0},_e=function(e){Object(c.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={userName:"",fName:"",lName:"",password:"",bday:new Date,phone:"",questionsID:[],questionsText:[],questions:[],answerUserQuestion:"",code:"",questionnaires:[],questionnairesID:[],questionnairesText:[],questionnairesChosen:0,quesionChosen:0,gender:"",smoke:"",dateOfSurgery:"",surgeryType:"",education:"",height:"",weight:"",bmi:"",surgeryDateDisplay:!1,selected:[]},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.handleReset=a.handleReset.bind(Object(g.a)(a)),a.onSelectQuesionChosen=a.onSelectQuesionChosen.bind(Object(g.a)(a)),a.onSelectGender=a.onSelectGender.bind(Object(g.a)(a)),a.onSelectSmoke=a.onSelectSmoke.bind(Object(g.a)(a)),a.onSelectSurgeryType=a.onSelectSurgeryType.bind(Object(g.a)(a)),a.onSelectEducation=a.onSelectEducation.bind(Object(g.a)(a)),a.onSelectQuestionnairesChosen=a.onSelectQuestionnairesChosen.bind(Object(g.a)(a)),a.setSelected=a.setSelected.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"onSelectQuesionChosen",value:function(e){var t=e.target.options.selectedIndex;this.setState({quesionChosen:t})}},{key:"onSelectGender",value:function(e){var t=e.target.options.selectedIndex;this.setState({gender:t})}},{key:"onSelectSmoke",value:function(e){var t=e.target.options.selectedIndex;this.setState({smoke:t})}},{key:"onSelectEducation",value:function(e){var t=e.target.options.selectedIndex;this.setState({education:t})}},{key:"onSelectSurgeryType",value:function(e){var t=e.target.options.selectedIndex;console.log(t),this.setState({surgeryType:t}),3!==t&&0!==t?this.setState({surgeryDateDisplay:!0}):this.setState({surgeryDateDisplay:!1})}},{key:"onSelectQuestionnairesChosen",value:function(e){console.log(e);var t=[],a=this.state.questionnaires;e.forEach((function(e){a.forEach((function(a){e.value===a.QuestionnaireText&&t.push(a)}))})),this.setState({selected:e,questionnairesChosen:Array.from(new Set(t))})}},{key:"componentDidMount",value:function(){var e=this,t=[],a=[],s=[];fetch("  https://moda-medic.herokuapp.com/users/getVerifications").then((function(e){return e.json()})).then((function(r){t=r.data;for(var n=0;n<t.length;n++){var o=t[n];a.push(o.QuestionID),s.push(o.QuestionText)}e.setState({questionsID:a,questionsText:s,questions:t})}));var r=[],n=[],o=[];fetch("  https://moda-medic.herokuapp.com/questionnaires/all").then((function(e){return e.json()})).then((function(t){o=t.data;for(var a=0;a<o.length;a++){var s=o[a];0!==s.QuestionnaireID&&6!==s.QuestionnaireID&&5!==s.QuestionnaireID&&(r.push(s.QuestionnaireID),n.push(s.QuestionnaireText))}e.setState({questionnaires:o,questionnairesID:r,questionnairesText:n})}))}},{key:"handleChange",value:function(e){this.setState(Object(D.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new Date(this.state.bday),a=new Date;if("doctor"===this.state.type&&v.a.post("  https://moda-medic.herokuapp.com/users/doctorRegister",{UserID:this.state.userName,Password:this.state.password,First_Name:this.state.fName,Last_Name:this.state.lName,Phone_Number:this.state.phone,BirthDate:t.getTime(),Code:this.state.code,VerificationQuestion:this.state.quesionChosen,VerificationAnswer:this.state.answerUserQuestion,ValidTime:a.getTime()}).then((function(e){"Wrong Code"===e.data.message?window.alert("\u05e7\u05d5\u05d3 \u05d4\u05d0\u05d9\u05de\u05d5\u05ea \u05d0\u05d9\u05e0\u05d5 \u05e0\u05db\u05d5\u05df"):"Taken Email"===e.data.message?window.alert("\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05d3\u05d5\u05d0\u05dc \u05db\u05d1\u05e8 \u05e8\u05e9\u05d5\u05de\u05d4 \u05d1\u05de\u05e2\u05e8\u05db\u05ea"):(window.alert("\u05d4\u05d4\u05e8\u05e9\u05de\u05d4 \u05d1\u05d5\u05e6\u05e2\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4 \u05e0\u05d0 \u05dc\u05d1\u05e6\u05e2 \u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"),window.location.reload(!1))})),"patient"===this.state.type){var s,r,n,o,i=new Date(this.state.dateOfSurgery);1==this.state.gender?s="\u05e0\u05e7\u05d1\u05d4":2==this.state.gender&&(s="\u05d6\u05db\u05e8"),1==this.state.smoke?r="\u05de\u05e2\u05e9\u05df":2==this.state.smoke&&(r="\u05dc\u05d0 \u05de\u05e2\u05e9\u05df"),1==this.state.surgeryType?n="\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d3\u05d7\u05d5\u05e3":2==this.state.surgeryType?n="\u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05ea\u05d5\u05db\u05e0\u05df":3==this.state.surgeryType&&(n="\u05dc\u05dc\u05d0 \u05e0\u05d9\u05ea\u05d5\u05d7");var l={1:"\u05d4\u05e9\u05db\u05dc\u05d4 \u05d0\u05e7\u05d3\u05de\u05d0\u05d9\u05ea",2:"\u05d4\u05e9\u05db\u05dc\u05d4 \u05ea\u05d9\u05db\u05d5\u05e0\u05d9\u05ea",3:"10-12 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3",4:"6-9 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3",5:"5 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3 \u05d0\u05d5 \u05e4\u05d7\u05d5\u05ea",6:"\u05dc\u05d0 \u05de\u05e2\u05d5\u05e0\u05d9\u05d9\u05df \u05dc\u05e2\u05e0\u05d5\u05ea"};for(var c in l)c==this.state.education&&(o=l[c]);var p=Number(this.state.height/100),u=String(Number(this.state.weight)/Math.pow(p,2));v.a.post("  https://moda-medic.herokuapp.com/users/patientRegister",{UserID:this.state.userName,Password:this.state.password,First_Name:"\u05de\u05d8\u05d5\u05e4\u05dc",Last_Name:this.state.userName,Phone_Number:"",Gender:s,Smoke:r,DateOfSurgery:i.getTime(),SurgeryType:n,Education:o,Height:this.state.height,Weight:this.state.weight,BMI:u,BMI_NUMBER:parseFloat(u),BirthDate:t.getTime(),Code:this.state.code,Questionnaires:this.state.questionnairesChosen,VerificationQuestion:this.state.quesionChosen,VerificationAnswer:this.state.answerUserQuestion,ValidTime:a.getTime()}).then((function(e){"Wrong Code"===e.data.message?window.alert("\u05e7\u05d5\u05d3 \u05d4\u05d0\u05d9\u05de\u05d5\u05ea \u05d0\u05d9\u05e0\u05d5 \u05e0\u05db\u05d5\u05df"):"Taken Email"===e.data.message?window.alert("\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05d3\u05d5\u05d0\u05dc \u05db\u05d1\u05e8 \u05e8\u05e9\u05d5\u05de\u05d4 \u05d1\u05de\u05e2\u05e8\u05db\u05ea"):(window.alert("\u05d4\u05d4\u05e8\u05e9\u05de\u05d4 \u05d1\u05d5\u05e6\u05e2\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4 \u05e0\u05d0 \u05dc\u05d1\u05e6\u05e2 \u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"),window.location.reload(!1))}))}}},{key:"handleReset",value:function(e){var t=this;this.setState(Ie);var a=[],s=[],r=[];fetch("  https://moda-medic.herokuapp.com/users/getVerifications").then((function(e){return e.json()})).then((function(e){a=e.data,console.log(a);for(var n=0;n<a.length;n++){var o=a[n];s.push(o.QuestionID),r.push(o.QuestionText)}t.setState({questionsID:s,questionsText:r,questions:a})}));var n=[],o=[],i=[];fetch("  https://moda-medic.herokuapp.com/questionnaires/all").then((function(e){return e.json()})).then((function(e){i=e.data;for(var a=0;a<i.length;a++){var s=i[a];n.push(s.QuestionnaireID),o.push(s.QuestionnaireText)}t.setState({questionnaires:i,questionnairesID:n,questionnairesText:o})}))}},{key:"isDoctor",value:function(){this.setState({type:"doctor"})}},{key:"isPatient",value:function(){this.setState({type:"patient"})}},{key:"setSelected",value:function(e){this.onSelectQuestionnairesChosen(e)}},{key:"render",value:function(){var e=this;a(234);var t=this.state.questionsText.map((function(e){return r.a.createElement("option",{key:e},e)})),s=this.state.questionnairesText;0===s.length&&(this.componentDidMount(),s=this.state.questionnairesText);var n=[];s.forEach((function(e){n.push(e)}));var o=[];s.forEach((function(e){o.push({label:e,value:e})}));var i=[r.a.createElement("option",null),r.a.createElement("option",null,"\u05e0\u05e7\u05d1\u05d4"),r.a.createElement("option",null,"\u05d6\u05db\u05e8")],l=[r.a.createElement("option",null),r.a.createElement("option",null,"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d3\u05d7\u05d5\u05e3"),r.a.createElement("option",null,"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05ea\u05d5\u05db\u05e0\u05df"),r.a.createElement("option",null,"\u05dc\u05dc\u05d0 \u05e0\u05d9\u05ea\u05d5\u05d7")],c=[r.a.createElement("option",null),r.a.createElement("option",null,"\u05de\u05e2\u05e9\u05df"),r.a.createElement("option",null,"\u05dc\u05d0 \u05de\u05e2\u05e9\u05df")],p=[r.a.createElement("option",null),r.a.createElement("option",null,"\u05d4\u05e9\u05db\u05dc\u05d4 \u05d0\u05e7\u05d3\u05de\u05d0\u05d9\u05ea"),r.a.createElement("option",null,"\u05d4\u05e9\u05db\u05dc\u05d4 \u05ea\u05d9\u05db\u05d5\u05e0\u05d9\u05ea"),r.a.createElement("option",null,"10-12 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3"),r.a.createElement("option",null,"6-9 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3"),r.a.createElement("option",null,"5 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3 \u05d0\u05d5 \u05e4\u05d7\u05d5\u05ea"),r.a.createElement("option",null,"\u05dc\u05d0 \u05de\u05e2\u05d5\u05e0\u05d9\u05d9\u05df \u05dc\u05e2\u05e0\u05d5\u05ea")],u=(new Date).toISOString().split("T")[0];return r.a.createElement("div",null,r.a.createElement("label",{className:"buttonsChoose"},r.a.createElement(De.a,{style:{width:150,floatButtom:"auto"},className:"docbutton",variant:"info",onClick:function(){return e.isDoctor()}}," \u05d3\u05d5\u05e7\u05d8\u05d5\u05e8 "),"                                                                ",r.a.createElement(De.a,{style:{width:150},className:"docbutton",variant:"info",onClick:function(){return e.isPatient()}}," \u05de\u05d8\u05d5\u05e4\u05dc ")),"doctor"===this.state.type?r.a.createElement("form",{onSubmit:this.handleSubmit,onReset:this.handleReset,id:"new_user_form"},r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{for:"email",className:"labels_in_add_user"},'\u05db\u05ea\u05d5\u05d1\u05ea \u05d3\u05d5\u05d0"\u05dc'),r.a.createElement("input",{className:"inputs_in_add_user",name:"userName",type:"email",value:this.state.userName,onChange:function(t){return e.handleChange(t)},required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"),r.a.createElement("input",{className:"inputs_in_add_user",name:"fName",type:"text",value:this.state.fName,minLength:"2",maxLength:"20",onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4 "),r.a.createElement("input",{className:"inputs_in_add_user",name:"lName",type:"text",value:this.state.lName,minLength:"2",maxLength:"20",onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05e1\u05d9\u05e1\u05de\u05d4 "),r.a.createElement("input",{className:"inputs_in_add_user",name:"password",type:"password",minlength:"8",maxLength:"12",pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$",value:this.state.password,onChange:this.handleChange,message:"\u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05e6\u05e8\u05d9\u05db\u05d4 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 8 \u05ea\u05d5\u05d5\u05d9\u05dd, \u05dc\u05e4\u05d7\u05d5\u05ea \u05ea\u05d5 \u05d0\u05d7\u05d3 \u05d1\u05d0\u05d5\u05ea \u05d0\u05e0\u05d2\u05dc\u05d9\u05ea \u05e7\u05d8\u05e0\u05d4, \u05ea\u05d5 \u05d0\u05d7\u05d3 \u05d1\u05d0\u05d5\u05ea \u05d0\u05e0\u05d2\u05dc\u05d9\u05ea \u05d0\u05d5\u05ea \u05d0\u05e0\u05d2\u05dc\u05d9\u05ea \u05d2\u05d3\u05d5\u05dc\u05d4 \u05d5\u05ea\u05d5 \u05d0\u05d7\u05d3 \u05db\u05de\u05e1\u05e4\u05e8.",required:!0}),r.a.createElement(ke.a,{title:"\u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05e6\u05e8\u05d9\u05db\u05d4 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 8 \u05ea\u05d5\u05d5\u05d9\u05dd,\u05d0\u05d5\u05ea \u05d0\u05e0\u05d2\u05dc\u05d9\u05ea \u05e7\u05d8\u05e0\u05d4, \u05d0\u05d5\u05ea \u05d0\u05e0\u05d2\u05dc\u05d9\u05ea \u05d2\u05d3\u05d5\u05dc\u05d4 \u05d5\u05de\u05e1\u05e4\u05e8"},r.a.createElement(Ne.a,null,r.a.createElement(Se.a,null)))),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df"),r.a.createElement("input",{className:"inputs_in_add_user",name:"phone",type:"tel",id:"phone",pattern:"[0-9]{10}",value:this.state.phone,onChange:this.handleChange,required:!0}),r.a.createElement(ke.a,{title:"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df \u05d4\u05de\u05db\u05d9\u05dc \u05de\u05e1\u05e4\u05e8\u05d9\u05dd \u05d1\u05dc\u05d1\u05d3"},r.a.createElement(Ne.a,null,r.a.createElement(Se.a,null)))),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4"),r.a.createElement("input",{className:"inputs_in_add_user",name:"bday",type:"date",max:u,value:this.state.bday,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05e7\u05d5\u05d3 \u05d0\u05d9\u05de\u05d5\u05ea "),r.a.createElement("input",{className:"inputs_in_add_user",name:"code",type:"text",value:this.state.code,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05d0\u05dc\u05ea \u05d0\u05d9\u05de\u05d5\u05ea "),r.a.createElement("select",{className:"select_in_add_user",onChange:this.onSelectQuesionChosen},t)),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05ea\u05e9\u05d5\u05d1\u05d4 "),r.a.createElement("input",{className:"inputs_in_add_user",name:"answerUserQuestion",type:"text",value:this.state.answerUserQuestion,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("input",{type:"submit",value:"\u05d4\u05d9\u05e8\u05e9\u05dd",className:"submit_and_reset_buttons"})),r.a.createElement("br",null),r.a.createElement("br",null)):null,"patient"===this.state.type?r.a.createElement("form",{onSubmit:this.handleSubmit,onReset:this.handleReset,id:"new_user_form"},r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{for:"email",className:"labels_in_add_user"},"\u05de\u05d6\u05d4\u05d4 \u05de\u05d8\u05d5\u05e4\u05dc: "),r.a.createElement("input",{className:"inputs_in_add_user",name:"userName",type:"text",value:this.state.userName,onChange:function(t){return e.handleChange(t)},required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05e1\u05d9\u05e1\u05de\u05d4 "),r.a.createElement("input",{className:"inputs_in_add_user",name:"password",type:"password",minlength:"8",maxLength:"12",pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$",value:this.state.password,onChange:this.handleChange,required:!0}),r.a.createElement(ke.a,{title:"\u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05e6\u05e8\u05d9\u05db\u05d4 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 8 \u05ea\u05d5\u05d5\u05d9\u05dd,\u05d0\u05d5\u05ea \u05d0\u05e0\u05d2\u05dc\u05d9\u05ea \u05e7\u05d8\u05e0\u05d4, \u05d0\u05d5\u05ea \u05d0\u05e0\u05d2\u05dc\u05d9\u05ea \u05d2\u05d3\u05d5\u05dc\u05d4 \u05d5\u05de\u05e1\u05e4\u05e8"},r.a.createElement(Ne.a,null,r.a.createElement(Se.a,null)))),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4"),r.a.createElement("input",{className:"inputs_in_add_user",name:"bday",type:"date",max:u,value:this.state.bday,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},'\u05de\u05e9\u05e7\u05dc (\u05e7"\u05d2) '),r.a.createElement("input",{className:"inputs_in_add_user",name:"weight",type:"number",value:this.state.weight,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},'\u05d2\u05d5\u05d1\u05d4 (\u05e1"\u05de) '),r.a.createElement("input",{className:"inputs_in_add_user",name:"height",type:"number",minLength:"3",value:this.state.height,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05de\u05d9\u05df "),r.a.createElement("select",{className:"select_in_add_user",onChange:this.onSelectGender},i)),r.a.createElement("div",{className:"divs_in_add"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05de\u05e2\u05e9\u05df "),r.a.createElement("select",{className:"select_in_add_user",onChange:this.onSelectSmoke},c)),r.a.createElement("div",{className:"divs_in_add_user"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05d4\u05e9\u05db\u05dc\u05d4 "),r.a.createElement("select",{className:"select_in_add_user",onChange:this.onSelectEducation},p)),r.a.createElement("div",{className:"divs_in_add_user"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05e1\u05d5\u05d2 \u05e0\u05d9\u05ea\u05d5\u05d7 "),r.a.createElement("select",{className:"select_in_add_user",onChange:this.onSelectSurgeryType},l)),this.state.surgeryDateDisplay&&r.a.createElement("div",{className:"divs_in_add_user"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05ea\u05d0\u05e8\u05d9\u05da \u05e0\u05d9\u05ea\u05d5\u05d7"),r.a.createElement("input",{className:"inputs_in_add_user",name:"dateOfSurgery",type:"date",value:this.state.DateOfSurgery,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"divs_in_add_user"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05d0\u05dc\u05ea \u05d0\u05d9\u05de\u05d5\u05ea "),r.a.createElement("select",{className:"select_in_add_user",onChange:this.onSelectQuesionChosen},t)),r.a.createElement("div",{className:"divs_in_add_user"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05ea\u05e9\u05d5\u05d1\u05d4 "),r.a.createElement("input",{className:"inputs_in_add_user",name:"answerUserQuestion",type:"text",value:this.state.answerUserQuestion,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"divs_in_add_try"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05e8\u05e4\u05d5\u05d0\u05d9\u05d9\u05dd "),r.a.createElement(xe.a,{className:"inputs_in_add_user",options:o,value:this.state.selected,onChange:this.setSelected,labelledBy:"Select"})),r.a.createElement("br",null),r.a.createElement("div",{className:"divs_in_add_code"},r.a.createElement("label",{className:"labels_in_add_user"},"\u05e7\u05d5\u05d3 \u05d0\u05d9\u05de\u05d5\u05ea "),r.a.createElement("input",{className:"inputs_in_add_user",name:"code",type:"text",value:this.state.code,onChange:this.handleChange,required:!0}),r.a.createElement(ke.a,{title:"\u05e7\u05d5\u05d3 \u05d4\u05d0\u05d9\u05de\u05d5\u05ea \u05e9\u05d4\u05d5\u05d2\u05d3\u05e8 \u05de\u05d1\u05d9\u05ea \u05d4\u05d7\u05d5\u05dc\u05d9\u05dd \u05d4\u05de\u05d8\u05e4\u05dc"},r.a.createElement(Ne.a,null,r.a.createElement(Se.a,null)))),r.a.createElement("div",{style:{width:50,height:300}},r.a.createElement("input",{type:"submit",value:"\u05d4\u05d9\u05e8\u05e9\u05dd",className:"submit_and_reset_buttons",required:!0})),r.a.createElement("br",null),r.a.createElement("br",null)):null)}}]),s}(s.Component),Ae=function(e){Object(c.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={ID:"",password:"",wrong:!1,showPopup:!1,name:"",doctor:!1,patient:!1,showID:!1,showWrongUser:!1,showQ:!1,showChange:!1,id:"",question:"",answer:"",date:"",wrongA:!1,diff:!1,token:"",pass:"",pass2:"",remember:!1,register:!1},localStorage.getItem("doctor")?(sessionStorage.setItem("token",localStorage.getItem("token")),sessionStorage.setItem("name",localStorage.getItem("name")),sessionStorage.setItem("type",localStorage.getItem("type")),sessionStorage.setItem("doctor",localStorage.getItem("doctor"))):localStorage.getItem("patient")&&(sessionStorage.setItem("token",localStorage.getItem("token")),sessionStorage.setItem("name",localStorage.getItem("name")),sessionStorage.setItem("type",localStorage.getItem("type")),sessionStorage.setItem("patient",localStorage.getItem("patient"))),a.change=a.change.bind(Object(g.a)(a)),a.sumbit=a.sumbit.bind(Object(g.a)(a)),a.togglePopup=a.togglePopup.bind(Object(g.a)(a)),a.forget=a.forget.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.handle=a.handle.bind(Object(g.a)(a)),a.changePass=a.changePass.bind(Object(g.a)(a)),a.register=a.register.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"change",value:function(e){this.setState(Object(D.a)({},e.target.name,e.target.value))}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup,wrongA:!1,diff:!1})}},{key:"forget",value:function(e){e.preventDefault(),this.setState({showID:!0,showWrongUser:!1,showQ:!1,showChange:!1,register:!1}),this.togglePopup()}},{key:"handleSubmit",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),"  https://moda-medic.herokuapp.com/users/forgotPassword",e.next=4,v.a.post("  https://moda-medic.herokuapp.com/users/forgotPassword",{UserID:this.state.id});case 4:if(null!==(a=e.sent).data.data){e.next=9;break}this.setState({wrongA:!0}),e.next=14;break;case 9:return s=a.data.data,e.next=12,v.a.get("  https://moda-medic.herokuapp.com/users/getVerificationQuestion?QuestionID="+s);case 12:r=e.sent,this.setState({showID:!1,showWrongUser:!1,showQ:!0,showChange:!1,register:!1,wrongA:!1,question:r.data.data.QuestionText});case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=new Date(this.state.date),s=a.getTime(),"  https://moda-medic.herokuapp.com/users/checkVerification",e.next=6,v.a.post("  https://moda-medic.herokuapp.com/users/checkVerification",{UserID:this.state.id,VerificationAnswer:this.state.answer,BirthDate:s});case 6:r=e.sent,(n=r.data.data)?this.setState({showID:!1,showWrongUser:!1,showQ:!1,showChange:!0,register:!1,token:n}):this.setState({wrongA:!0});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changePass",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.state.pass===this.state.pass2){e.next=5;break}this.setState({diff:!0}),e.next=11;break;case 5:return a=this.state.token,"  https://moda-medic.herokuapp.com/users/passwordChangeCheck/changePassword",e.next=9,v.a.post("  https://moda-medic.herokuapp.com/users/passwordChangeCheck/changePassword",{NewPassword:this.state.pass},{headers:{"Content-Type":"application/json","x-auth-token":a}});case 9:e.sent.data.message&&(window.alert("\u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05e9\u05d5\u05e0\u05ea\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),this.togglePopup());case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(e){this.setState({register:!0,showID:!1,showWrongUser:!1,showQ:!1,showChange:!1}),this.togglePopup()}},{key:"sumbit",value:function(e){var t=this;e.preventDefault(),v.a.post("  https://moda-medic.herokuapp.com/users/login",{UserID:this.state.ID,Password:this.state.password}).then((function(e){null==e.data.data?t.setState({wrong:!0}):"patient"===e.data.data.type[0]?(sessionStorage.setItem("token",e.data.data.token),sessionStorage.setItem("name",e.data.data.name),sessionStorage.setItem("type",e.data.data.type),t.setState({patient:sessionStorage.getItem("type").includes("patient")}),sessionStorage.setItem("patient",t.state.patient),window.location.reload(!1),t.state.remember&&(localStorage.setItem("token",e.data.data.token),localStorage.setItem("name",e.data.data.name),localStorage.setItem("type",e.data.data.type),localStorage.setItem("patient",t.state.patient))):(sessionStorage.setItem("token",e.data.data.token),sessionStorage.setItem("name",e.data.data.name),sessionStorage.setItem("type",e.data.data.type),t.setState({doctor:sessionStorage.getItem("type").includes("doctor")}),sessionStorage.setItem("doctor",t.state.doctor),window.location.reload(!1),t.state.remember&&(localStorage.setItem("token",e.data.data.token),localStorage.setItem("name",e.data.data.name),localStorage.setItem("type",e.data.data.type),localStorage.setItem("doctor",t.state.doctor)))}))}},{key:"render",value:function(){var e=this;return a(121),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.sumbit(t)}},r.a.createElement("label",null,"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9:"),r.a.createElement("input",{type:"text",className:"inputs",name:"ID",onChange:function(t){return e.change(t)},value:this.state.ID,required:!0}),r.a.createElement("label",null,"\u05e1\u05d9\u05e1\u05de\u05d4:"),r.a.createElement("input",{type:"password",className:"inputs",name:"password",onChange:function(t){return e.change(t)},value:this.state.password,required:!0}),this.state.wrong?r.a.createElement("label",{id:"wrong"},"\u05e9\u05dd \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05d0\u05d5 \u05d4\u05e1\u05d9\u05e1\u05de\u05d4 \u05dc\u05d0 \u05e0\u05db\u05d5\u05e0\u05d9\u05dd"):r.a.createElement("label",null),r.a.createElement("input",{type:"checkbox",id:"remember",name:"remember",onChange:function(t){return e.change(t)},value:this.state.remember}),r.a.createElement("label",null,"\u05d6\u05db\u05d5\u05e8 \u05d0\u05d5\u05ea\u05d9"),r.a.createElement("button",{type:"submit"},"\u05d4\u05ea\u05d7\u05d1\u05e8"),r.a.createElement("label",{id:"forget",onClick:function(t){return e.forget(t)}},"\u05e9\u05db\u05d7\u05ea \u05e1\u05d9\u05e1\u05de\u05d4?"),r.a.createElement("label",{id:"register",onClick:function(t){return e.register(t)}},"\u05d4\u05d9\u05e8\u05e9\u05dd")),this.state.showPopup?r.a.createElement(Ce,{text:this.state.name,closePopup:this.togglePopup.bind(this),showID:this.state.showID,showWrongUser:this.state.showWrongUser,showQ:this.state.showQ,showChange:this.state.showChange,handleSubmit:this.handleSubmit.bind(this),change:this.change.bind(this),handle:this.handle.bind(this),question:this.state.question,wrongA:this.state.wrongA,diff:this.state.diff,changePass:this.changePass.bind(this),register:this.state.register}):null)}}]),s}(s.Component),Ce=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=(new Date).toISOString().split("T")[0];return r.a.createElement("div",null,this.props.showID?r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup_innerEmail"},r.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),r.a.createElement("h3",{id:"h3"},"\u05e9\u05db\u05d7\u05ea\u05d9 \u05e1\u05d9\u05e1\u05de\u05d0"),r.a.createElement("form",{onSubmit:this.props.handleSubmit},r.a.createElement("label",{id:"lid"},"\u05d0\u05e0\u05d0 \u05d4\u05d6\u05df \u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9:"),r.a.createElement("input",{type:"text",className:"inputs",name:"id",id:"id",onChange:this.props.change,required:!0}),this.props.wrongA?r.a.createElement("label",{className:"error"},"\u05e9\u05dd \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05e7\u05d9\u05d9\u05de\u05ea"):null,r.a.createElement("div",{className:"lineC"},r.a.createElement("input",{type:"submit",value:"\u05d4\u05de\u05e9\u05da",id:"con"}))))):null,this.props.showQ?r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup_innerEmail"},r.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),r.a.createElement("h3",{id:"h3"},"\u05e9\u05db\u05d7\u05ea\u05d9 \u05e1\u05d9\u05e1\u05de\u05d0"),r.a.createElement("form",{onSubmit:this.props.handle},r.a.createElement("div",{className:"lineC"},r.a.createElement("label",{id:"lq"},this.props.question)),r.a.createElement("div",{className:"lineC"},r.a.createElement("input",{type:"text",name:"answer",id:"answer",onChange:this.props.change,required:!0})),r.a.createElement("div",{className:"lineC"},r.a.createElement("label",{id:"ldate"},"\u05d4\u05db\u05e0\u05e1 \u05d0\u05ea \u05ea\u05d0\u05e8\u05d9\u05da \u05d9\u05d5\u05dd \u05d4\u05d5\u05dc\u05d3\u05ea \u05e9\u05dc\u05da:")),r.a.createElement("div",{className:"lineC"},r.a.createElement("input",{type:"date",name:"date",id:"date",max:e,onChange:this.props.change,required:!0})),r.a.createElement("div",{className:"lineC"},this.props.wrongA?r.a.createElement("label",{className:"error"},"\u05e9\u05d0\u05dc\u05ea \u05d0\u05d9\u05de\u05d5\u05ea \u05dc\u05d0 \u05e0\u05db\u05d5\u05e0\u05d4 \u05d0\u05d5 \u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4 \u05e9\u05d2\u05d5\u05d9"):null),r.a.createElement("div",{className:"lineC"},r.a.createElement("input",{type:"submit",value:"\u05d4\u05de\u05e9\u05da",id:"con"}))))):null,this.props.showChange?r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup_innerEmail"},r.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),r.a.createElement("h3",{id:"h3"},"\u05e9\u05db\u05d7\u05ea\u05d9 \u05e1\u05d9\u05e1\u05de\u05d0"),r.a.createElement("form",{onSubmit:this.props.changePass},r.a.createElement("label",{id:"lpass"},"\u05e1\u05d9\u05e1\u05de\u05d0 \u05d7\u05d3\u05e9\u05d4:"),r.a.createElement("input",{type:"password",className:"inputs",name:"pass",id:"pass",onChange:this.props.change,required:!0}),r.a.createElement("label",{id:"lpass2"},"\u05d4\u05e7\u05dc\u05d3 \u05d0\u05ea \u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05de\u05d7\u05d3\u05e9:"),r.a.createElement("input",{type:"password",className:"inputs",name:"pass2",id:"pass2",onChange:this.props.change,required:!0}),this.props.diff?r.a.createElement("label",{className:"error"},"\u05d4\u05e1\u05d9\u05e1\u05de\u05d0\u05d5\u05ea \u05e9\u05d5\u05e0\u05d5\u05ea"):null,r.a.createElement("input",{type:"submit",value:"\u05e9\u05dc\u05d7",id:"send"})))):null,this.props.register?r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup_innerAdd"},r.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),r.a.createElement("br",null),r.a.createElement("h3",null,"\u05d4\u05e8\u05e9\u05de\u05d4"),r.a.createElement(_e,null))):null)}}]),a}(r.a.Component),Te=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=window.location.pathname;return e.includes("search")&&(window.location.pathname=e.replace("search","")),r.a.createElement("div",null,r.a.createElement("div",{className:"Home"},sessionStorage.getItem("token")?r.a.createElement(h.a,{from:e,to:"/search"}):null,r.a.createElement("br",null),r.a.createElement("header",{className:"Home-header"},r.a.createElement(b,null),r.a.createElement(Ae,null))))}}]),a}(s.Component),Oe=function(e){Object(c.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return document.body.setAttribute("dir","rtl"),r.a.createElement(u.a,{basename:window.location.pathname||""},r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/"},r.a.createElement(Te,null)),r.a.createElement(h.b,{exact:!0,path:"/search"},r.a.createElement(ye,{component:"search"})),r.a.createElement(h.b,{exact:!0,path:"/messages"},r.a.createElement(ye,{component:"messages"})),r.a.createElement(h.b,{exact:!0,path:"/questionnaires"},r.a.createElement(ye,{component:"questionnaires"})),r.a.createElement(h.b,{exact:!0,path:"/instructions"},r.a.createElement(ye,{component:"instructions"})),r.a.createElement(h.b,{exact:!0,path:"/exercises"},r.a.createElement(ye,{component:"exercises"})),r.a.createElement(h.b,{path:"/userQuestionnaire/:QuestionnaireID",render:function(e){return r.a.createElement(ye,Object.assign({component:"survey"},e))}})))}}]),a}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},63:function(e,t,a){},75:function(e,t,a){},78:function(e,t,a){}},[[140,1,2]]]);
//# sourceMappingURL=main.6fe46c2c.chunk.js.map