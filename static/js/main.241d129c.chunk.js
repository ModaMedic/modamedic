(this.webpackJsonpfinal_project=this.webpackJsonpfinal_project||[]).push([[0],{102:function(e,t,a){e.exports=a.p+"static/media/first_logo.4c4417d4.png"},112:function(e,t){},113:function(e,t,a){},119:function(e,t,a){},140:function(e,t,a){e.exports=a(234)},145:function(e,t,a){},162:function(e,t,a){},167:function(e,t){},168:function(e,t){},169:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},187:function(e,t,a){},189:function(e,t,a){e.exports=a.p+"static/media/ACL.b8e24ffb.jpg"},190:function(e,t,a){e.exports=a.p+"static/media/REVERSETSR.fd7b932b.jpg"},191:function(e,t,a){e.exports=a.p+"static/media/Hip.b1fa9622.png"},192:function(e,t,a){e.exports=a.p+"static/media/Ankle.717456b8.jpg"},193:function(e,t,a){e.exports=a.p+"static/media/Elbow.986fd0d7.jpg"},194:function(e,t,a){e.exports=a.p+"static/media/Back.b7b8521b.jpg"},195:function(e,t,a){e.exports=a.p+"static/media/Neck.363fa28f.jpg"},196:function(e,t,a){},197:function(e,t,a){e.exports=a.p+"static/media/INSTRUCTIONS.a467ee60.PNG"},209:function(e,t,a){},226:function(e,t){},227:function(e,t){},228:function(e,t){},229:function(e,t){},230:function(e,t){},231:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),r=a(24),i=a.n(r),o=(a(145),a(9)),l=a(10),c=a(12),u=a(11),h=a(45),p=a(22),m=a(5),d=a.n(m),f=a(15),g=a(4);var b=function(){return n.a.createElement("img",{src:a(102),style:{height:"25vmin",marginleft:"center",marginRight:"center"},alt:"logo"})},E=a(13),y=a.n(E),v=a(26),w=(s.Component,function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_inner"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),n.a.createElement("h4",null,":\u05d0\u05e0\u05d0 \u05d1\u05d7\u05e8 \u05de\u05d1\u05d9\u05df \u05d4\u05e8\u05e9\u05d5\u05de\u05d5\u05ea \u05d4\u05d1\u05d0\u05d5\u05ea"),this.props.text))}}]),a}(n.a.Component)),D=a(14),N=(a(162),a(50)),k=a(120),S=a(93),x=(a(169),function(e){var t=e.csvData,a=e.fileName;return n.a.createElement("button",{className:"b",onClick:function(e){return function(e,t){var a={Sheets:{data:S.utils.json_to_sheet(e)},SheetNames:["data"]},s=S.write(a,{bookType:"xlsx",type:"array"}),n=new Blob([s],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});k.saveAs(n,t+".xlsx")}(t,a)}},"\u05d9\u05e6\u05d0 \u05dc\u05d0\u05e7\u05e1\u05dc")}),I=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).state={steps:e.steps,distance:e.distance,calories:e.calories,weather:e.weather,sleep:e.sleep,dataArr:e.dataArr,table:[],exportCSV:[]},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(D.a)({},a,r)):this.setState(Object(D.a)({},a,s))}},{key:"render",value:function(){if(a(74),this.props.ready){var e,t=!0;for(e=0;e<this.props.dataArr.length;e++)this.props.dataArr[e].values.length>0&&(t=!1);if(t)t=!0;else{var s,r,i={},o=!1,l=[];if(this.props.weekly){var c=new Date(this.props.date).getDay(),u=new Date(this.props.date-864e5*c),h=new Date(u.getTime()+5184e5);r=u.toLocaleDateString("en-GB",{day:"numeric"})+"-"+h.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}this.props.monthly&&(r=new Date(this.props.date).toLocaleDateString("en-GB",{month:"short"}));var p={before:{"\u05e6\u05e2\u05d3\u05d9\u05dd":{},"\u05de\u05e8\u05d7\u05e7":{},"\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea":{},weather:{},light:{},deep:{},total:{}},after:{"\u05e6\u05e2\u05d3\u05d9\u05dd":{},"\u05de\u05e8\u05d7\u05e7":{},"\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea":{},weather:{},light:{},deep:{},total:{}}};for(p.before["\u05e6\u05e2\u05d3\u05d9\u05dd"]={sum:0,counter:0},p.before["\u05de\u05e8\u05d7\u05e7"]={sum:0,counter:0},p.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]={sum:0,counter:0},p.before.weather={sum:0,counter:0},p.before.light={sum:0,counter:0},p.before.deep={sum:0,counter:0},p.before.total={sum:0,counter:0},p.after["\u05e6\u05e2\u05d3\u05d9\u05dd"]={sum:0,counter:0},p.after["\u05de\u05e8\u05d7\u05e7"]={sum:0,counter:0},p.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]={sum:0,counter:0},p.after.weather={sum:0,counter:0},p.after.light={sum:0,counter:0},p.after.deep={sum:0,counter:0},p.after.total={sum:0,counter:0},e=0;e<this.props.dataArr.length;e++)for(s=0;s<this.props.dataArr[e].values.length;s++)if(this.props.showDaily){var m=new Date(this.props.dataArr[e].values[s].ValidTime),d=m.toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-");if(null==i[d]&&(i[d]={},l.push(this.props.dataArr[e].values[s].ValidTime)),"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===this.props.dataArr[e].name){for(var f=0,g=0,b=0,E=0,y=0;y<this.props.dataArr[e].values[s].Data.length;y++){if(0===y)E=this.props.dataArr[e].values[s].Data[y].StartTime;else if(E===this.props.dataArr[e].values[s].Data[y].StartTime)break;var v=this.props.dataArr[e].values[s].Data[y].EndTime-this.props.dataArr[e].values[s].Data[y].StartTime;v/=36e5,"Light sleep"===this.props.dataArr[e].values[s].Data[y].State||"SLEEP_LIGHT"===this.props.dataArr[e].values[s].Data[y].State?g+=v:"Deep sleep"!==this.props.dataArr[e].values[s].Data[y].State&&"SLEEP_DEEP"!==this.props.dataArr[e].values[s].Data[y].State||(f+=v),b+=v}i[d]||(i[d]={}),i[d].light=g,i[d].deep=f,i[d].total=b;continue}i[d][this.props.dataArr[e].name]=this.props.dataArr[e].values[s]}else if(this.props.weekly){var w=(m=new Date(this.props.dataArr[e].values[s].ValidTime)).getDay(),D=new Date(this.props.dataArr[e].values[s].ValidTime-864e5*w),k=new Date(D.getTime()+5184e5);if(r===(d=D.toLocaleDateString("en-GB",{day:"numeric"})+"-"+k.toLocaleDateString("en-GB",{day:"numeric",month:"short"}))){if("\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===this.props.dataArr[e].name){var S=0,I=0,_=0,C=0;for(y=0;y<this.props.dataArr[e].values[s].Data.length;y++){if(0===y)C=this.props.dataArr[e].values[s].Data[y].StartTime;else if(C===this.props.dataArr[e].values[s].Data[y].StartTime)break;v=this.props.dataArr[e].values[s].Data[y].EndTime-this.props.dataArr[e].values[s].Data[y].StartTime,v/=36e5,"Light sleep"===this.props.dataArr[e].values[s].Data[y].State||"SLEEP_LIGHT"===this.props.dataArr[e].values[s].Data[y].State?I+=v:"Deep sleep"!==this.props.dataArr[e].values[s].Data[y].State&&"SLEEP_DEEP"!==this.props.dataArr[e].values[s].Data[y].State||(S+=v),_+=v}this.props.dataArr[e].values[s].ValidTime<this.props.date?(p.before.light.sum+=I,p.before.deep.sum+=S,p.before.total.sum+=_,p.before.light.counter++,p.before.deep.counter++,p.before.total.counter++):(p.after.light.sum+=I,p.after.deep.sum+=S,p.after.total.sum+=_,p.after.light.counter++,p.after.deep.counter++,p.after.total.counter++);continue}if(this.props.dataArr[e].values[s].ValidTime<this.props.date){if("\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"===this.props.dataArr[e].name){p.before.weather.sum+=this.props.dataArr[e].values[s].Data,p.before.weather.counter++;continue}p.before[this.props.dataArr[e].name].sum+=this.props.dataArr[e].values[s].Data,p.before[this.props.dataArr[e].name].counter++}else{if("\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"===this.props.dataArr[e].name){p.after.weather.sum+=this.props.dataArr[e].values[s].Data,p.after.weather.counter++;continue}p.after[this.props.dataArr[e].name].sum+=this.props.dataArr[e].values[s].Data,p.after[this.props.dataArr[e].name].counter++}o||(l.push(this.props.dataArr[e].values[s].ValidTime),o=!0);continue}if(null==i[d]&&(i[d]={},l.push(this.props.dataArr[e].values[s].ValidTime)),null==i[d][this.props.dataArr[e].name]&&(i[d][this.props.dataArr[e].name]={},i[d][this.props.dataArr[e].name].counter=0,i[d][this.props.dataArr[e].name].sum=0),"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===this.props.dataArr[e].name){var A=0,O=0,T=0,j=0;for(y=0;y<this.props.dataArr[e].values[s].Data.length;y++){if(0===y)j=this.props.dataArr[e].values[s].Data[y].StartTime;else if(j===this.props.dataArr[e].values[s].Data[y].StartTime)break;v=this.props.dataArr[e].values[s].Data[y].EndTime-this.props.dataArr[e].values[s].Data[y].StartTime,v/=36e5,"Light sleep"===this.props.dataArr[e].values[s].Data[y].State||"SLEEP_LIGHT"===this.props.dataArr[e].values[s].Data[y].State?O+=v:"Deep sleep"!==this.props.dataArr[e].values[s].Data[y].State&&"SLEEP_DEEP"!==this.props.dataArr[e].values[s].Data[y].State||(A+=v),T+=v}i[d]||(i[d]={}),i[d].total||(i[d].light={},i[d].deep={},i[d].total={},i[d].light.counter=0,i[d].deep.counter=0,i[d].total.counter=0,i[d].light.sum=0,i[d].deep.sum=0,i[d].total.sum=0),i[d].light.sum+=O,i[d].deep.sum+=A,i[d].total.sum+=T,i[d].light.counter++,i[d].deep.counter++,i[d].total.counter++;continue}i[d][this.props.dataArr[e].name].sum+=this.props.dataArr[e].values[s].Data,i[d][this.props.dataArr[e].name].counter++}else if(this.props.monthly){if(r===(d=(m=new Date(this.props.dataArr[e].values[s].ValidTime)).toLocaleDateString("en-GB",{month:"short"}))){if("\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===this.props.dataArr[e].name){var Q=0,F=0,P=0,q=0;for(y=0;y<this.props.dataArr[e].values[s].Data.length;y++){if(0===y)q=this.props.dataArr[e].values[s].Data[y].StartTime;else if(q===this.props.dataArr[e].values[s].Data[y].StartTime)break;v=this.props.dataArr[e].values[s].Data[y].EndTime-this.props.dataArr[e].values[s].Data[y].StartTime,v/=36e5,"Light sleep"===this.props.dataArr[e].values[s].Data[y].State||"SLEEP_LIGHT"===this.props.dataArr[e].values[s].Data[y].State?F+=v:"Deep sleep"!==this.props.dataArr[e].values[s].Data[y].State&&"SLEEP_DEEP"!==this.props.dataArr[e].values[s].Data[y].State||(Q+=v),P+=v}this.props.dataArr[e].values[s].ValidTime<this.props.date?(p.before.light.sum+=F,p.before.deep.sum+=Q,p.before.total.sum+=P,p.before.light.counter++,p.before.deep.counter++,p.before.total.counter++):(p.after.light.sum+=F,p.after.deep.sum+=Q,p.after.total.sum+=P,p.after.light.counter++,p.after.deep.counter++,p.after.total.counter++);continue}if(this.props.dataArr[e].values[s].ValidTime<this.props.date){if("\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"===this.props.dataArr[e].name){p.before.weather.sum+=this.props.dataArr[e].values[s].Data,p.before.weather.counter++;continue}p.before[this.props.dataArr[e].name].sum+=this.props.dataArr[e].values[s].Data,p.before[this.props.dataArr[e].name].counter++}else{if("\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"===this.props.dataArr[e].name){p.after.weather.sum+=this.props.dataArr[e].values[s].Data,p.after.weather.counter++;continue}p.after[this.props.dataArr[e].name].sum+=this.props.dataArr[e].values[s].Data,p.after[this.props.dataArr[e].name].counter++}o||(l.push(this.props.dataArr[e].values[s].ValidTime),o=!0);continue}if(null==i[d]&&(i[d]={},l.push(this.props.dataArr[e].values[s].ValidTime)),null==i[d][this.props.dataArr[e].name]&&(i[d][this.props.dataArr[e].name]={},i[d][this.props.dataArr[e].name].counter=0,i[d][this.props.dataArr[e].name].sum=0),"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===this.props.dataArr[e].name){var L=0,U=0,B=0,V=0;for(y=0;y<this.props.dataArr[e].values[s].Data.length;y++){if(0===y)V=this.props.dataArr[e].values[s].Data[y].StartTime;else if(V===this.props.dataArr[e].values[s].Data[y].StartTime)break;v=this.props.dataArr[e].values[s].Data[y].EndTime-this.props.dataArr[e].values[s].Data[y].StartTime,v/=36e5,"Light sleep"===this.props.dataArr[e].values[s].Data[y].State||"SLEEP_LIGHT"===this.props.dataArr[e].values[s].Data[y].State?U+=v:"Deep sleep"!==this.props.dataArr[e].values[s].Data[y].State&&"SLEEP_DEEP"!==this.props.dataArr[e].values[s].Data[y].State||(L+=v),B+=v}i[d]||(i[d]={}),i[d].total||(i[d].light={},i[d].deep={},i[d].total={},i[d].light.counter=0,i[d].deep.counter=0,i[d].total.counter=0,i[d].light.sum=0,i[d].deep.sum=0,i[d].total.sum=0),i[d].light.sum+=U,i[d].deep.sum+=L,i[d].total.sum+=B,i[d].light.counter++,i[d].deep.counter++,i[d].total.counter++;continue}i[d][this.props.dataArr[e].name].sum+=this.props.dataArr[e].values[s].Data,i[d][this.props.dataArr[e].name].counter++}l=l.sort();var G=[];if(this.props.weekly||this.props.monthly)for(var M=0,R=Object.entries(i);M<R.length;M++)for(var W=Object(N.a)(R[M],1)[0],H=0,Y=Object.entries(i[W]);H<Y.length;H++){var z=Object(N.a)(Y[H],1)[0];i[W][z].Data=i[W][z].sum/i[W][z].counter}var J=[],Z=Math.min();for(e=0;e<l.length;e++){if(d=(m=new Date(l[e])).toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-"),this.props.showDaily){var $=new Date(l[e]);$.setHours(0,0,0,0);var X=Math.floor(($.getTime()-this.props.date)/864e5);X<0&&X++,Z===X&&X++,Z=X,this.props.date||(X="-"),i[d].num=X,G.push(n.a.createElement("tr",{key:d},l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},X):n.a.createElement("td",{className:"after"},X),l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},d):n.a.createElement("td",{className:"after"},d),this.props.steps?i[d]["\u05e6\u05e2\u05d3\u05d9\u05dd"]?l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[d]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data.toFixed(2)):n.a.createElement("td",{className:"after"},i[d]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data.toFixed(2)):l[e]<this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,this.props.distance?i[d]["\u05de\u05e8\u05d7\u05e7"]?l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[d]["\u05de\u05e8\u05d7\u05e7"].Data.toFixed(2)):n.a.createElement("td",{className:"after"},i[d]["\u05de\u05e8\u05d7\u05e7"].Data.toFixed(2)):l[e]<this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,this.props.calories?i[d]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]?l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[d]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data.toFixed(2)):n.a.createElement("td",{className:"after"},i[d]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data.toFixed(2)):l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,this.props.weather?i[d]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]?l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[d]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data.toFixed(2)):n.a.createElement("td",{className:"after"},i[d]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data.toFixed(2)):l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?i[d].light>=0?l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[d].light.toFixed(2)):n.a.createElement("td",{className:"after"},i[d].light.toFixed(2)):l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?i[d].deep>=0?l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[d].deep.toFixed(2)):n.a.createElement("td",{className:"after"},i[d].deep.toFixed(2)):l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?i[d].total>=0?l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[d].total.toFixed(2)):n.a.createElement("td",{className:"after"},i[d].total.toFixed(2)):l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null))}else if(this.props.weekly||this.props.monthly){var K=new Date(this.props.date);if(($=new Date(l[e])).setHours(0,0,0,0),this.props.weekly){var ee=new Date(K.getTime()-864e5*K.getDay());ee.setHours(0,0,0,0),w=m.getDay(),(D=new Date(m.getTime()-864e5*w)).setHours(0,0,0,0),k=new Date(D.getTime()+5184e5),d=D.toLocaleDateString("en-GB",{day:"numeric"})+"-"+k.toLocaleDateString("en-GB",{day:"numeric",month:"short"}),X=Math.floor((D.getTime()-ee.getTime())/6048e5)}else{var te=new Date($.getFullYear(),$.getMonth(),1),ae=new Date(K.getFullYear(),K.getMonth(),1);(X=Math.floor((te.getTime()-ae.getTime())/24192e5))<0&&X++,d=m.toLocaleDateString("en-GB",{month:"short"})}Z===X&&X++,Z=X,this.props.date||(X="-"),d===r?(G.push(n.a.createElement("tr",{key:d+"before"},n.a.createElement("td",{className:"before"},0),n.a.createElement("td",{className:"before"},d),this.props.steps?p.before["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter?n.a.createElement("td",{className:"before"},(p.before["\u05e6\u05e2\u05d3\u05d9\u05dd"].sum/p.before["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter).toFixed(2)):n.a.createElement("td",{className:"before"},"-"):null,this.props.distance?p.before["\u05de\u05e8\u05d7\u05e7"].counter?n.a.createElement("td",{className:"before"},(p.before["\u05de\u05e8\u05d7\u05e7"].sum/p.before["\u05de\u05e8\u05d7\u05e7"].counter).toFixed(2)):n.a.createElement("td",{className:"before"},"-"):null,this.props.calories?p.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter?n.a.createElement("td",{className:"before"},(p.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].sum/p.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter).toFixed(2)):n.a.createElement("td",{className:"before"},"-"):null,this.props.weather?p.before.weather.counter?n.a.createElement("td",{className:"before"},(p.before.weather.sum/p.before.weather.counter).toFixed(2)):n.a.createElement("td",{className:"before"},"-"):null,this.props.sleep?p.before.light.counter?n.a.createElement("td",{className:"before"},(p.before.light.sum/p.before.light.counter).toFixed(2)):n.a.createElement("td",{className:"before"},"-"):null,this.props.sleep?p.before.deep.counter?n.a.createElement("td",{className:"before"},(p.before.deep.sum/p.before.deep.counter).toFixed(2)):n.a.createElement("td",{className:"before"},"-"):null,this.props.sleep?p.before.total.counter?n.a.createElement("td",{className:"before"},(p.before.total.sum/p.before.total.counter).toFixed(2)):n.a.createElement("td",{className:"before"},"-"):null)),G.push(n.a.createElement("tr",{key:d+"after"},n.a.createElement("td",{className:"after"},0),n.a.createElement("td",{className:"after"},d),this.props.steps?p.after["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter?n.a.createElement("td",{className:"after"},(p.after["\u05e6\u05e2\u05d3\u05d9\u05dd"].sum/p.after["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter).toFixed(2)):n.a.createElement("td",{className:"after"},"-"):null,this.props.distance?p.after["\u05de\u05e8\u05d7\u05e7"].counter?n.a.createElement("td",{className:"after"},(p.after["\u05de\u05e8\u05d7\u05e7"].sum/p.after["\u05de\u05e8\u05d7\u05e7"].counter).toFixed(2)):n.a.createElement("td",{className:"after"},"-"):null,this.props.calories?p.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter?n.a.createElement("td",{className:"after"},(p.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].sum/p.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter).toFixed(2)):n.a.createElement("td",{className:"after"},"-"):null,this.props.weather?p.after.weather.counter?n.a.createElement("td",{className:"after"},(p.after.weather.sum/p.after.weather.counter).toFixed(2)):n.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?p.after.light.counter?n.a.createElement("td",{className:"after"},(p.after.light.sum/p.after.light.counter).toFixed(2)):n.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?p.after.deep.counter?n.a.createElement("td",{className:"after"},(p.after.deep.sum/p.after.deep.counter).toFixed(2)):n.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?p.after.total.counter?n.a.createElement("td",{className:"after"},(p.after.total.sum/p.after.total.counter).toFixed(2)):n.a.createElement("td",{className:"after"},"-"):null))):(i[d].num=X,G.push(n.a.createElement("tr",{key:d},l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},X):n.a.createElement("td",{className:"after"},X),l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},d):n.a.createElement("td",{className:"after"},d),this.props.steps?i[d]["\u05e6\u05e2\u05d3\u05d9\u05dd"]?l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[d]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data.toFixed(2)):n.a.createElement("td",{className:"after"},i[d]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data.toFixed(2)):l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,this.props.distance?i[d]["\u05de\u05e8\u05d7\u05e7"]?l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[d]["\u05de\u05e8\u05d7\u05e7"].Data.toFixed(2)):n.a.createElement("td",{className:"after"},i[d]["\u05de\u05e8\u05d7\u05e7"].Data.toFixed(2)):l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,this.props.calories?i[d]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]?l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[d]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data.toFixed(2)):n.a.createElement("td",{className:"after"},i[d]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data.toFixed(2)):l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,this.props.weather?i[d]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]?l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[d]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data.toFixed(2)):n.a.createElement("td",{className:"after"},i[d]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data.toFixed(2)):l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?i[d].light?l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[d].light.Data.toFixed(2)):n.a.createElement("td",{className:"after"},i[d].light.Data.toFixed(2)):l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?i[d].deep?l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[d].deep.Data.toFixed(2)):n.a.createElement("td",{className:"after"},i[d].deep.Data.toFixed(2)):l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,this.props.sleep?i[d].total?l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[d].total.Data.toFixed(2)):n.a.createElement("td",{className:"after"},i[d].total.Data.toFixed(2)):l[e]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null)))}var se={};se["\u05ea\u05d0\u05e8\u05d9\u05da"]=d;d!==r?(this.props.date&&(this.props.showDaily?se["\u05de\u05e1\u05e4\u05e8 \u05d9\u05d5\u05dd"]=i[d].num:this.props.weekly?se["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=i[d].num:se["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=i[d].num),this.props.steps&&i[d]["\u05e6\u05e2\u05d3\u05d9\u05dd"]&&(se["\u05e6\u05e2\u05d3\u05d9\u05dd"]=i[d]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data),this.props.distance&&i[d]["\u05de\u05e8\u05d7\u05e7"]&&(se["\u05de\u05e8\u05d7\u05e7"]=i[d]["\u05de\u05e8\u05d7\u05e7"].Data),this.props.calories&&i[d]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]&&(se["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]=i[d]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data),this.props.weather&&i[d]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]&&(se["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]=i[d]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data),this.props.sleep&&i[d].light&&this.props.showDaily&&(se["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4"]=i[d].light,se["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4"]=i[d].deep,se["\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4"]=i[d].total),this.props.sleep&&i[d].light&&!this.props.showDaily&&(se["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4"]=i[d].light.Data,se["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4"]=i[d].deep.Data,se["\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4"]=i[d].total.Data),J.push(se)):(this.props.date&&(this.props.weekly?se["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=0:se["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=0),this.props.steps&&p.before["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter&&(se["\u05e6\u05e2\u05d3\u05d9\u05dd"]=(p.before["\u05e6\u05e2\u05d3\u05d9\u05dd"].sum/p.before["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter).toFixed(2)),this.props.distance&&p.before["\u05de\u05e8\u05d7\u05e7"].counter&&(se["\u05de\u05e8\u05d7\u05e7"]=(p.before["\u05de\u05e8\u05d7\u05e7"].sum/p.before["\u05de\u05e8\u05d7\u05e7"].counter).toFixed(2)),this.props.calories&&p.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter&&(se["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]=(p.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].sum/p.before["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter).toFixed(2)),this.props.weather&&p.before.weather.counter&&(se["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]=(p.before.weather.sum/p.before.weather.counter).toFixed(2)),this.props.sleep&&p.before.light.counter&&(se["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4"]=(p.before.light.sum/p.before.light.counter).toFixed(2)),this.props.sleep&&p.before.deep.counter&&(se["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4"]=(p.before.deep.sum/p.before.deep.counter).toFixed(2)),this.props.sleep&&p.before.total.counter&&(se["\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4"]=(p.before.total.sum/p.before.total.counter).toFixed(2)),J.push(se),se={},this.props.date&&(this.props.weekly?se["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=0:se["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=0),se["\u05ea\u05d0\u05e8\u05d9\u05da"]=d,this.props.steps&&p.after["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter&&(se["\u05e6\u05e2\u05d3\u05d9\u05dd"]=(p.after["\u05e6\u05e2\u05d3\u05d9\u05dd"].sum/p.after["\u05e6\u05e2\u05d3\u05d9\u05dd"].counter).toFixed(2)),this.props.distance&&p.after["\u05de\u05e8\u05d7\u05e7"].counter&&(se["\u05de\u05e8\u05d7\u05e7"]=(p.after["\u05de\u05e8\u05d7\u05e7"].sum/p.after["\u05de\u05e8\u05d7\u05e7"].counter).toFixed(2)),this.props.calories&&p.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter&&(se["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]=(p.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].sum/p.after["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].counter).toFixed(2)),this.props.weather&&p.after.weather.counter&&(se["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]=(p.after.weather.sum/p.after.weather.counter).toFixed(2)),this.props.sleep&&p.after.light.counter&&(se["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4"]=(p.after.light.sum/p.after.light.counter).toFixed(2)),this.props.sleep&&p.after.deep.counter&&(se["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4"]=(p.after.deep.sum/p.after.deep.counter).toFixed(2)),this.props.sleep&&p.after.total.counter&&(se["\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4"]=(p.after.total.sum/p.after.total.counter).toFixed(2)),J.push(se))}}}return n.a.createElement("div",null,this.props.ready?n.a.createElement("div",{className:"center"},t?n.a.createElement("h4",null,"\u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9"):n.a.createElement("table",{style:{width:"100%"},id:"mdd",className:"tabels",align:"center"},n.a.createElement("tbody",null,n.a.createElement("tr",null,this.props.dataArr.length>0&&this.props.showDaily?n.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05d9\u05d5\u05dd"):null,this.props.dataArr.length>0&&this.props.weekly?n.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"):null,this.props.dataArr.length>0&&this.props.monthly?n.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"):null,this.props.dataArr.length>0?n.a.createElement("th",null,"\u05ea\u05d0\u05e8\u05d9\u05da"):null,this.props.steps?n.a.createElement("th",null,"\u05e6\u05e2\u05d3\u05d9\u05dd"):null,this.props.distance?n.a.createElement("th",null,"\u05de\u05e8\u05d7\u05e7"):null,this.props.calories?n.a.createElement("th",null,"\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"):null,this.props.weather?n.a.createElement("th",null,"\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"):null,this.props.sleep?n.a.createElement("th",null,"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4"):null,this.props.sleep?n.a.createElement("th",null,"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4"):null,this.props.sleep?n.a.createElement("th",null,"\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4"):null),G)),this.props.dataArr.length>0&&!t?n.a.createElement(x,{csvData:J,fileName:this.props.name+" \u05de\u05d3\u05d3\u05d9\u05dd"}):null):null)}}]),s}(s.Component),_=(a(74),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this)).handleChange=s.handleChange.bind(Object(g.a)(s)),s}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(D.a)({},a,r)):this.setState(Object(D.a)({},a,s))}},{key:"render",value:function(){if(this.props.ready){var e=!1;if(this.props.data.length>0){var t,a,s=!1,r=[],i=[],o=this.props.data,l={},c=[],u=new Date(this.props.date),h={before:{sum:0,counter:0,text:""},after:{sum:0,counter:0,text:""}};if(this.props.weekly){var p=u.getDay(),m=new Date(this.props.date-864e5*p),d=new Date(m.getTime()+5184e5);a=m.toLocaleDateString("en-GB",{day:"numeric"})+"-"+d.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}this.props.monthly&&(a=u.toLocaleDateString("en-GB",{month:"short"}));var f=Math.min();for(t=0;t<o.length;t++)if(this.props.showDaily){for(var g=new Date(o[t].ValidTime),b=g.toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-"),E="",y=0;y<o[t].Answers[1].AnswerID.length;y++)0===o[t].Answers[1].AnswerID[y]?E+="\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9, ":1===o[t].Answers[1].AnswerID[y]?E+="\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea, ":2===o[t].Answers[1].AnswerID[y]?E+="\u05de\u05ea\u05e7\u05d3\u05de\u05ea, ":3===o[t].Answers[1].AnswerID[y]&&(E+="\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea, ");E=E.slice(0,-2);var v=new Date(o[t].ValidTime);v.setHours(0,0,0,0),u.setHours(0,0,0,0);var w=Math.floor((v.getTime()-this.props.date)/864e5);w<0&&w++,f===w&&w++,f=w,this.props.date||(w="-"),r.push(n.a.createElement("tr",{key:t},o[t].ValidTime<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},w):n.a.createElement("td",{className:"after"},w),o[t].ValidTime<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},b):n.a.createElement("td",{className:"after"},b),o[t].ValidTime<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},o[t].Answers[0].AnswerID[0]):n.a.createElement("td",{className:"after"},o[t].Answers[0].AnswerID[0]),o[t].ValidTime<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},E):n.a.createElement("td",{className:"after"},E)));var D={};D["\u05de\u05e1\u05e4\u05e8 \u05d9\u05d5\u05dd"]=w,D["\u05ea\u05d0\u05e8\u05d9\u05da"]=b,D["\u05e8\u05de\u05ea \u05db\u05d0\u05d1"]=o[t].Answers[0].AnswerID[0],D["\u05ea\u05e8\u05d5\u05e4\u05d4"]=E,c.push(D)}else if(this.props.weekly){var k=(g=new Date(o[t].ValidTime)).getDay(),S=new Date(o[t].ValidTime-864e5*k),I=new Date(S.getTime()+5184e5);if(a===(b=S.toLocaleDateString("en-GB",{day:"numeric"})+"-"+I.toLocaleDateString("en-GB",{day:"numeric",month:"short"}))){if(o[t].ValidTime<this.props.date)for(h.before.sum+=o[t].Answers[0].AnswerID[0],h.before.counter++,y=0;y<o[t].Answers[1].AnswerID.length;y++)h.before.text.includes("\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9")||0!==o[t].Answers[1].AnswerID[y]?h.before.text.includes("\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea")||1!==o[t].Answers[1].AnswerID[y]?h.before.text.includes("\u05de\u05ea\u05e7\u05d3\u05de\u05ea")||2!==o[t].Answers[1].AnswerID[y]?h.before.text.includes("\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea")||3!==o[t].Answers[1].AnswerID[y]||(h.before.text+="\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea, "):h.before.text+="\u05de\u05ea\u05e7\u05d3\u05de\u05ea, ":h.before.text+="\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea, ":h.before.text+="\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9, ";else for(h.after.sum+=o[t].Answers[0].AnswerID[0],h.after.counter++,y=0;y<o[t].Answers[1].AnswerID.length;y++)h.after.text.includes("\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9")||0!==o[t].Answers[1].AnswerID[y]?h.after.text.includes("\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea")||1!==o[t].Answers[1].AnswerID[y]?h.after.text.includes("\u05de\u05ea\u05e7\u05d3\u05de\u05ea")||2!==o[t].Answers[1].AnswerID[y]?h.after.text.includes("\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea")||3!==o[t].Answers[1].AnswerID[y]||(h.after.text+="\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea, "):h.after.text+="\u05de\u05ea\u05e7\u05d3\u05de\u05ea, ":h.after.text+="\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea, ":h.after.text+="\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9, ";s||(i.push(o[t].ValidTime),s=!0);continue}for(null==l[b]&&(l[b]={},l[b].sum=0,l[b].counter=0,l[b].text="",i.push(o[t].ValidTime)),l[b].sum+=o[t].Answers[0].AnswerID[0],l[b].counter++,y=0;y<o[t].Answers[1].AnswerID.length;y++)l[b].text.includes("\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9")||0!==o[t].Answers[1].AnswerID[y]?l[b].text.includes("\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea")||1!==o[t].Answers[1].AnswerID[y]?l[b].text.includes("\u05de\u05ea\u05e7\u05d3\u05de\u05ea")||2!==o[t].Answers[1].AnswerID[y]?l[b].text.includes("\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea")||3!==o[t].Answers[1].AnswerID[y]||(l[b].text+="\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea, "):l[b].text+="\u05de\u05ea\u05e7\u05d3\u05de\u05ea, ":l[b].text+="\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea, ":l[b].text+="\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9, "}else if(this.props.monthly){if(a===(b=(g=new Date(o[t].ValidTime)).toLocaleDateString("en-GB",{month:"short"}))){if(o[t].ValidTime<this.props.date)for(h.before.sum+=o[t].Answers[0].AnswerID[0],h.before.counter++,y=0;y<o[t].Answers[1].AnswerID.length;y++)h.before.text.includes("\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9")||0!==o[t].Answers[1].AnswerID[y]?h.before.text.includes("\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea")||1!==o[t].Answers[1].AnswerID[y]?h.before.text.includes("\u05de\u05ea\u05e7\u05d3\u05de\u05ea")||2!==o[t].Answers[1].AnswerID[y]?h.before.text.includes("\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea")||3!==o[t].Answers[1].AnswerID[y]||(h.before.text+="\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea, "):h.before.text+="\u05de\u05ea\u05e7\u05d3\u05de\u05ea, ":h.before.text+="\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea, ":h.before.text+="\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9, ";else for(h.after.sum+=o[t].Answers[0].AnswerID[0],h.after.counter++,y=0;y<o[t].Answers[1].AnswerID.length;y++)h.after.text.includes("\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9")||0!==o[t].Answers[1].AnswerID[y]?h.after.text.includes("\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea")||1!==o[t].Answers[1].AnswerID[y]?h.after.text.includes("\u05de\u05ea\u05e7\u05d3\u05de\u05ea")||2!==o[t].Answers[1].AnswerID[y]?h.after.text.includes("\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea")||3!==o[t].Answers[1].AnswerID[y]||(h.after.text+="\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea, "):h.after.text+="\u05de\u05ea\u05e7\u05d3\u05de\u05ea, ":h.after.text+="\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea, ":h.after.text+="\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9, ";s||(i.push(o[t].ValidTime),s=!0);continue}for(null==l[b]&&(l[b]={},l[b].sum=0,l[b].counter=0,l[b].text="",i.push(o[t].ValidTime)),l[b].sum+=o[t].Answers[0].AnswerID[0],l[b].counter++,y=0;y<o[t].Answers[1].AnswerID.length;y++)l[b].text.includes("\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9")||0!==o[t].Answers[1].AnswerID[y]?l[b].text.includes("\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea")||1!==o[t].Answers[1].AnswerID[y]?l[b].text.includes("\u05de\u05ea\u05e7\u05d3\u05de\u05ea")||2!==o[t].Answers[1].AnswerID[y]?l[b].text.includes("\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea")||3!==o[t].Answers[1].AnswerID[y]||(l[b].text+="\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea, "):l[b].text+="\u05de\u05ea\u05e7\u05d3\u05de\u05ea, ":l[b].text+="\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea, ":l[b].text+="\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9, "}if(i=i.sort(),this.props.weekly||this.props.monthly){for(var _=0,C=Object.entries(l);_<C.length;_++){var A=Object(N.a)(C[_],1)[0];l[A].Data=l[A].sum/l[A].counter}var O=new Date(this.props.date);for(t=0;t<i.length;t++){if(g=new Date(i[t]),(v=new Date(i[t])).setHours(0,0,0,0),this.props.weekly){var T=new Date(O.getTime()-864e5*O.getDay());T.setHours(0,0,0,0),k=g.getDay(),(S=new Date(g.getTime()-864e5*k)).setHours(0,0,0,0),I=new Date(S.getTime()+5184e5),b=S.toLocaleDateString("en-GB",{day:"numeric"})+"-"+I.toLocaleDateString("en-GB",{day:"numeric",month:"short"}),w=Math.floor((S.getTime()-T.getTime())/6048e5)}else{var j=new Date(v.getFullYear(),v.getMonth(),1),Q=new Date(O.getFullYear(),O.getMonth(),1);(w=Math.floor((j.getTime()-Q.getTime())/24192e5))<0&&w++,b=g.toLocaleDateString("en-GB",{month:"short"})}if(f===w&&w++,f=w,this.props.date||(w="-"),b!==a)l[b].text=l[b].text.slice(0,-2),r.push(n.a.createElement("tr",{key:b},i[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},w):n.a.createElement("td",{className:"after"},w),i[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},b):n.a.createElement("td",{className:"after"},b),i[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},l[b].Data.toFixed(2)):n.a.createElement("td",{className:"after"},l[b].Data.toFixed(2)),i[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},l[b].text):n.a.createElement("td",{className:"after"},l[b].text))),D={},this.props.date&&(this.props.weekly?D["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=w:D["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=w),D["\u05ea\u05d0\u05e8\u05d9\u05da"]=b,D["\u05e8\u05de\u05ea \u05db\u05d0\u05d1"]=l[b],this.props.showDaily?D["\u05ea\u05e8\u05d5\u05e4\u05d4"]=E:D["\u05ea\u05e8\u05d5\u05e4\u05d5\u05ea \u05e9\u05d4\u05d9\u05d5 \u05d1\u05e9\u05d9\u05de\u05d5\u05e9"]=l[b].text,c.push(D);else{h.before.text=h.before.text.slice(0,-2),h.after.text=h.after.text.slice(0,-2),r.push(n.a.createElement("tr",{key:b+"before"},n.a.createElement("td",{className:"before"},w),n.a.createElement("td",{className:"before"},b),h.before.counter?n.a.createElement("td",{className:"before"},(h.before.sum/h.before.counter).toFixed(2)):n.a.createElement("td",{className:"before"},"-"),h.before.counter?n.a.createElement("td",{className:"before"},h.before.text):n.a.createElement("td",{className:"before"},"-"))),r.push(n.a.createElement("tr",{key:b+"after"},n.a.createElement("td",{className:"after"},w),n.a.createElement("td",{className:"after"},b),h.after.counter?n.a.createElement("td",{className:"after"},(h.after.sum/h.after.counter).toFixed(2)):n.a.createElement("td",{className:"after"},"-"),h.after.counter?n.a.createElement("td",{className:"after"},h.after.text):n.a.createElement("td",{className:"after"},"-")));D={},this.props.date&&(this.props.weekly?D["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=0:D["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=0),D["\u05ea\u05d0\u05e8\u05d9\u05da"]=b,D["\u05e8\u05de\u05ea \u05db\u05d0\u05d1"]=(h.before.sum/h.before.counter).toFixed(2),D["\u05ea\u05e8\u05d5\u05e4\u05d5\u05ea \u05e9\u05d4\u05d9\u05d5 \u05d1\u05e9\u05d9\u05de\u05d5\u05e9"]=h.before.text,c.push(D),D={},this.props.date&&(this.props.weekly?D["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=0:D["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=0),D["\u05ea\u05d0\u05e8\u05d9\u05da"]=b,D["\u05e8\u05de\u05ea \u05db\u05d0\u05d1"]=(h.after.sum/h.after.counter).toFixed(2),D["\u05ea\u05e8\u05d5\u05e4\u05d5\u05ea \u05e9\u05d4\u05d9\u05d5 \u05d1\u05e9\u05d9\u05de\u05d5\u05e9"]=h.after.text,c.push(D)}}}}else e=!0}return n.a.createElement("div",null,this.props.ready?n.a.createElement("div",null,e?n.a.createElement("h4",null,"\u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9"):n.a.createElement("div",{className:"center"},n.a.createElement("table",{style:{width:"100%"},id:"daily",className:"tabels"},n.a.createElement("tbody",null,n.a.createElement("tr",null,this.props.showDaily?n.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05d9\u05d5\u05dd"):null,this.props.weekly?n.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"):null,this.props.monthly?n.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"):null,n.a.createElement("th",null,"\u05ea\u05d0\u05e8\u05d9\u05da"),n.a.createElement("th",null,"\u05e8\u05de\u05ea \u05db\u05d0\u05d1"),this.props.showDaily?n.a.createElement("th",null,"\u05ea\u05e8\u05d5\u05e4\u05d4"):n.a.createElement("th",null,"\u05ea\u05e8\u05d5\u05e4\u05d5\u05ea \u05e9\u05d4\u05d9\u05d5 \u05d1\u05e9\u05d9\u05de\u05d5\u05e9")),r)),n.a.createElement(x,{csvData:c,fileName:this.props.name+" \u05e9\u05d0\u05dc\u05d5\u05df \u05d9\u05d5\u05de\u05d9"})),"  "):null)}}]),a}(s.Component)),C=a(55),A=(a(85),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this)).handleChange=s.handleChange.bind(Object(g.a)(s)),s.sort_by_key=function(e,t){return e.sort((function(e,a){var s=e[t],n=a[t];return s<n?-1:s>n?1:0}))},s}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(D.a)({},a,r)):this.setState(Object(D.a)({},a,s))}},{key:"render",value:function(){if(this.props.ready){var e=!1;if(this.props.data&&this.props.data.length>0){var t,a=this.sort_by_key(this.props.data,"Timestamp"),s={},r=0,i=!1,o=new Date(this.props.date),l={},c={},u=[];if(this.props.weekly){var h=new Date(this.props.date).getDay(),p=new Date(this.props.date-864e5*h),m=new Date(p.getTime()+5184e5);t=p.toLocaleDateString("en-GB",{day:"numeric"})+" - "+m.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}this.props.monthly&&(t=new Date(this.props.date).toLocaleDateString("en-GB",{month:"short"}));for(var d={before:{sum:0,counter:0},after:{sum:0,counter:0}},f=0;f<a.length;f++)if(a[f].Data<0&&(r=-1),this.props.showDaily){var g=new Date(a[f].ValidTime),b=g.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).replace(/ /g,"-");g<=o&&(s[b]=a[f].Data.toFixed(2)),g>=o&&(l[b]=a[f].Data.toFixed(2))}else if(this.props.weekly){var E=(g=new Date(a[f].ValidTime)).getDay(),y=new Date(a[f].ValidTime-864e5*E),v=new Date(y.getTime()+5184e5);t===(b=y.toLocaleDateString("en-GB",{day:"numeric"})+" - "+v.toLocaleDateString("en-GB",{day:"numeric",month:"short"}))?(a[f].ValidTime<this.props.date?(d.before.counter++,d.before.sum+=a[f].Data):(d.after.counter++,d.after.sum+=a[f].Data),i||(i=!0,u.push(a[f].ValidTime))):(null==c[b]&&(c[b]={},c[b].counter=0,c[b].sum=0,u.push(a[f].ValidTime)),c[b].sum+=a[f].Data,c[b].counter++)}else this.props.monthly&&(t===(b=(g=new Date(a[f].ValidTime)).toLocaleDateString("en-GB",{month:"short"}))?(a[f].ValidTime<this.props.date?(d.before.counter++,d.before.sum+=a[f].Data):(d.after.counter++,d.after.sum+=a[f].Data),i||(i=!0,u.push(a[f].ValidTime))):(null==c[b]&&(c[b]={},c[b].counter=0,c[b].sum=0,u.push(a[f].ValidTime)),c[b].sum+=a[f].Data,c[b].counter++));if(u=u.sort(),this.props.weekly||this.props.monthly)for(f=0;f<u.length;f++)g=new Date(u[f]),this.props.weekly?(E=g.getDay(),y=new Date(g.getTime()-864e5*E),v=new Date(y.getTime()+5184e5),b=y.toLocaleDateString("en-GB",{day:"numeric"})+" - "+v.toLocaleDateString("en-GB",{day:"numeric",month:"short"})):b=g.toLocaleDateString("en-GB",{month:"short"}),b!==t?(g<=o&&(s[b]=(c[b].sum/c[b].counter).toFixed(2)),g>=o&&(l[b]=(c[b].sum/c[b].counter).toFixed(2))):(s[b]=(d.before.sum/d.before.counter).toFixed(2),l[b]=(d.after.sum/d.after.counter).toFixed(2));var w=[{name:"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:s},{name:"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:l}]}else e=!0}return n.a.createElement("div",null,this.props.ready?n.a.createElement("div",null,n.a.createElement("div",{className:"App"},n.a.createElement("h1",null,this.props.name),e?n.a.createElement("h4",null,"\u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9"):n.a.createElement(C.a,{download:!0,data:w,min:r}))):null)}}]),a}(s.Component)),O=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).handleChange=a.handleChange.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(D.a)({},a,r)):this.setState(Object(D.a)({},a,s))}},{key:"render",value:function(){if(a(74),this.props.ready){for(var e=!0,t=0;t<this.props.data.length;t++)this.props.data[t].data.length>0&&(e=!1);if(e)e=!0;else{var s,r,i={},o=this.props.data,l=!1,c=[],u={},h={before:{1:{},2:{},3:{},4:{},5:{},6:0},after:{1:{},2:{},3:{},4:{},5:{},6:0}};if(h.before[1]={sum:0,counter:0},h.before[2]={sum:0,counter:0},h.before[3]={sum:0,counter:0},h.before[4]={sum:0,counter:0},h.before[5]={sum:0,counter:0},h.before[6]={sum:0,counter:0},h.after[1]={sum:0,counter:0},h.after[2]={sum:0,counter:0},h.after[3]={sum:0,counter:0},h.after[4]={sum:0,counter:0},h.after[5]={sum:0,counter:0},h.after[6]={sum:0,counter:0},this.props.weekly){var p=new Date(this.props.date).getDay(),m=new Date(this.props.date-864e5*p),d=new Date(m.getTime()+5184e5);r=m.toLocaleDateString("en-GB",{day:"numeric"})+"-"+d.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}for(this.props.monthly&&(r=new Date(this.props.date).toLocaleDateString("en-GB",{month:"short"})),t=0;t<o.length;t++)for(s=0;s<o[t].data.length;s++)if(this.props.showDaily){var f=new Date(o[t].data[s].ValidTime),g=f.toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-");null==i[g]&&(i[g]={},c.push(o[t].data[s].ValidTime)),i[g][o[t].data[s].QuestionnaireID]=o[t].data[s].Score,u[o[t].data[s].QuestionnaireID]=!0}else if(this.props.weekly){u[o[t].data[s].QuestionnaireID]=!0;var b=(f=new Date(o[t].data[s].ValidTime)).getDay(),E=new Date(o[t].data[s].ValidTime-864e5*b),y=new Date(E.getTime()+5184e5);if(r===(g=E.toLocaleDateString("en-GB",{day:"numeric"})+"-"+y.toLocaleDateString("en-GB",{day:"numeric",month:"short"}))){o[t].data[s].ValidTime<this.props.date?(h.before[o[t].data[s].QuestionnaireID].sum+=o[t].data[s].Score,h.before[o[t].data[s].QuestionnaireID].counter++):(h.after[o[t].data[s].QuestionnaireID].sum+=o[t].data[s].Score,h.after[o[t].data[s].QuestionnaireID].counter++),l||(c.push(o[t].data[s].ValidTime),l=!0);continue}null==i[g]&&(i[g]={},c.push(o[t].data[s].ValidTime)),null==i[g][o[t].data[s].QuestionnaireID]&&(i[g][o[t].data[s].QuestionnaireID]={},i[g][o[t].data[s].QuestionnaireID].sum=0,i[g][o[t].data[s].QuestionnaireID].counter=0),i[g][o[t].data[s].QuestionnaireID].sum+=o[t].data[s].Score,i[g][o[t].data[s].QuestionnaireID].counter++,u[o[t].data[s].QuestionnaireID]=!0}else if(this.props.monthly){if(u[o[t].data[s].QuestionnaireID]=!0,r===(g=(f=new Date(o[t].data[s].ValidTime)).toLocaleDateString("en-GB",{month:"short"}))){o[t].data[s].ValidTime<this.props.date?(h.before[o[t].data[s].QuestionnaireID].sum+=o[t].data[s].Score,h.before[o[t].data[s].QuestionnaireID].counter++):(h.after[o[t].data[s].QuestionnaireID].sum+=o[t].data[s].Score,h.after[o[t].data[s].QuestionnaireID].counter++),l||(c.push(o[t].data[s].ValidTime),l=!0);continue}null==i[g]&&(i[g]={},c.push(o[t].data[s].ValidTime)),null==i[g][o[t].data[s].QuestionnaireID]&&(i[g][o[t].data[s].QuestionnaireID]={},i[g][o[t].data[s].QuestionnaireID].sum=0,i[g][o[t].data[s].QuestionnaireID].counter=0),i[g][o[t].data[s].QuestionnaireID].sum+=o[t].data[s].Score,i[g][o[t].data[s].QuestionnaireID].counter++,u[o[t].data[s].QuestionnaireID]=!0}c=c.sort();var v=[],w=[];if(this.props.weekly||this.props.monthly)for(var D=0,k=Object.entries(i);D<k.length;D++)for(var S=Object(N.a)(k[D],1)[0],I=0,_=Object.entries(i[S]);I<_.length;I++){var C=Object(N.a)(_[I],1)[0];i[S][C].Data=i[S][C].sum/i[S][C].counter}var A=Math.min();for(t=0;t<c.length;t++){var O={};if(g=(f=new Date(c[t])).toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-"),this.props.showDaily){var T=new Date(c[t]);T.setHours(0,0,0,0);var j=Math.floor((T.getTime()-this.props.date)/864e5);j<0&&j++,A===j&&j++,A=j,this.props.date||(j="-"),i[g].num=j,v.push(n.a.createElement("tr",{key:g},c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},j):n.a.createElement("td",{className:"after"},j),c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},g):n.a.createElement("td",{className:"after"},g),u[1]?i[g][1]>=0||i[g][1]<0?c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[g][1]):n.a.createElement("td",{className:"after"},i[g][1]):c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,u[2]?i[g][2]>=0||i[g][2]<0?c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[g][2]):n.a.createElement("td",{className:"after"},i[g][2]):c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,u[3]?i[g][3]>=0||i[g][3]<0?c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[g][3]):n.a.createElement("td",{className:"after"},i[g][3]):c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,u[4]?i[g][4]>=0||i[g][4]<0?c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[g][4]):n.a.createElement("td",{className:"after"},i[g][4]):c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,u[5]?i[g][5]>=0||i[g][5]<0?c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[g][5]):n.a.createElement("td",{className:"after"},i[g][5]):c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,u[6]?i[g][6]>=0||i[g][6]<0?c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[g][6]):n.a.createElement("td",{className:"after"},i[g][6]):c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null))}else if(this.props.weekly||this.props.monthly){var Q=new Date(this.props.date);if((T=new Date(c[t])).setHours(0,0,0,0),this.props.weekly){var F=new Date(Q.getTime()-864e5*Q.getDay());F.setHours(0,0,0,0),b=f.getDay(),(E=new Date(f.getTime()-864e5*b)).setHours(0,0,0,0),y=new Date(E.getTime()+5184e5),g=E.toLocaleDateString("en-GB",{day:"numeric"})+"-"+y.toLocaleDateString("en-GB",{day:"numeric",month:"short"}),j=Math.floor((E.getTime()-F.getTime())/6048e5)}else{var P=new Date(T.getFullYear(),T.getMonth(),1),q=new Date(Q.getFullYear(),Q.getMonth(),1);(j=Math.floor((P.getTime()-q.getTime())/24192e5))<0&&j++,g=f.toLocaleDateString("en-GB",{month:"short"})}if(A===j&&j++,A=j,this.props.date||(j="-"),g===r){v.push(n.a.createElement("tr",{key:g+"before"},n.a.createElement("td",{className:"before"},0),n.a.createElement("td",{className:"before"},g),u[1]?h.before[1].counter?n.a.createElement("td",{className:"before"}," ",(h.before[1].sum/h.before[1].counter).toFixed(2)," "):n.a.createElement("td",{className:"before"}," - "):null,u[2]?h.before[2].counter?n.a.createElement("td",{className:"before"}," ",(h.before[2].sum/h.before[2].counter).toFixed(2)," "):n.a.createElement("td",{className:"before"}," - "):null,u[3]?h.before[3].counter?n.a.createElement("td",{className:"before"}," ",(h.before[3].sum/h.before[3].counter).toFixed(2)," "):n.a.createElement("td",{className:"before"}," - "):null,u[4]?h.before[4].counter?n.a.createElement("td",{className:"before"}," ",(h.before[4].sum/h.before[4].counter).toFixed(2)," "):n.a.createElement("td",{className:"before"}," - "):null,u[5]?h.before[5].counter?n.a.createElement("td",{className:"before"}," ",(h.before[5].sum/h.before[5].counter).toFixed(2)," "):n.a.createElement("td",{className:"before"}," - "):null,u[6]?h.before[6].counter?n.a.createElement("td",{className:"before"}," ",(h.before[6].sum/h.before[6].counter).toFixed(2)," "):n.a.createElement("td",{className:"before"}," - "):null)),v.push(n.a.createElement("tr",{key:g+"after"},n.a.createElement("td",{className:"after"},0),n.a.createElement("td",{className:"after"},g),u[1]?h.after[1].counter?n.a.createElement("td",{className:"after"}," ",(h.after[1].sum/h.after[1].counter).toFixed(2)," "):n.a.createElement("td",{className:"after"}," - "):null,u[2]?h.after[2].counter?n.a.createElement("td",{className:"after"}," ",(h.after[2].sum/h.after[2].counter).toFixed(2)," "):n.a.createElement("td",{className:"after"}," - "):null,u[3]?h.after[3].counter?n.a.createElement("td",{className:"after"}," ",(h.after[3].sum/h.after[3].counter).toFixed(2)," "):n.a.createElement("td",{className:"after"}," - "):null,u[4]?h.after[4].counter?n.a.createElement("td",{className:"after"}," ",(h.after[4].sum/h.after[4].counter).toFixed(2)," "):n.a.createElement("td",{className:"after"}," - "):null,u[5]?h.after[5].counter?n.a.createElement("td",{className:"after"}," ",(h.after[5].sum/h.after[5].counter).toFixed(2)," "):n.a.createElement("td",{className:"after"}," - "):null,u[6]?h.after[6].counter?n.a.createElement("td",{className:"after"}," ",(h.after[6].sum/h.after[6].counter).toFixed(2)," "):n.a.createElement("td",{className:"after"}," - "):null)),O={};this.props.date&&(this.props.weekly?O["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=0:O["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=0),O["\u05ea\u05d0\u05e8\u05d9\u05da"]=g,u[1]&&h.before[1].counter&&(O["Oswestry Disability Index"]=(h.before[1].sum/h.before[1].counter).toFixed(2)),u[2]&&h.before[2].counter&&(O["Neck Disability Index"]=(h.before[2].sum/h.before[2].counter).toFixed(2)),u[3]&&h.before[3].counter&&(O["Lower Extremity Functional Scale"]=(h.before[3].sum/h.before[3].counter).toFixed(2)),u[41]&&h.before[4].counter&&(O["Oswestry low back pain"]=(h.before[4].sum/h.before[4].counter).toFixed(2)),u[5]&&h.before[5].counter&&(O["EQ-5D"]=(h.before[5].sum/h.before[5].counter).toFixed(2)),u[6]&&h.before[6].counter&&(O["EQ-5D"]=(h.before[6].sum/h.before[6].counter).toFixed(2)),w.push(O),O={},this.props.date&&(this.props.weekly?O["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=0:O["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=0),O["\u05ea\u05d0\u05e8\u05d9\u05da"]=g,u[1]&&h.after[1].counter&&(O["Oswestry Disability Index"]=(h.after[1].sum/h.after[1].counter).toFixed(2)),u[2]&&h.after[2].counter&&(O["Neck Disability Index"]=(h.after[2].sum/h.after[2].counter).toFixed(2)),u[3]&&h.after[3].counter&&(O["Lower Extremity Functional Scale"]=(h.after[3].sum/h.after[3].counter).toFixed(2)),u[41]&&h.after[4].counter&&(O["Oswestry low back pain"]=(h.after[4].sum/h.after[4].counter).toFixed(2)),u[5]&&h.after[5].counter&&(O["EQ-5D"]=(h.after[5].sum/h.after[5].counter).toFixed(2)),u[6]&&h.after[6].counter&&(O["EQ-5D"]=(h.after[6].sum/h.after[6].counter).toFixed(2)),w.push(O);continue}v.push(n.a.createElement("tr",{key:g},c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},j):n.a.createElement("td",{className:"after"},j),c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},g):n.a.createElement("td",{className:"after"},g),u[1]?i[g][1]&&(i[g][1].Data>=0||i[g][1].Data<0)?c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[g][1].Data.toFixed(2)):n.a.createElement("td",{className:"after"},i[g][1].Data.toFixed(2)):c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,u[2]?i[g][2]&&(i[g][2].Data>=0||i[g][2].Data<0)?c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[g][2].Data.toFixed(2)):n.a.createElement("td",{className:"after"},i[g][2].Data.toFixed(2)):c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,u[3]?i[g][3]&&(i[g][3].Data>=0||i[g][3].Data<0)?c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[g][3].Data.toFixed(2)):n.a.createElement("td",{className:"after"},i[g][3].Data.toFixed(2)):c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,u[4]?i[g][4]&&(i[g][4].Data>=0||i[g][4].Data<0)?c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[g][4].Data.toFixed(2)):n.a.createElement("td",{className:"after"},i[g][4].Data.toFixed(2)):c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,u[5]?i[g][5]&&(i[g][5].Data>=0||i[g][5].Data<0)?c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[g][5].Data.toFixed(2)):n.a.createElement("td",{className:"after"},i[g][5].Data.toFixed(2)):c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,u[6]?i[g][6]&&(i[g][6].Data>=0||i[g][6].Data<0)?c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},i[g][6].Data.toFixed(2)):n.a.createElement("td",{className:"after"},i[g][6].Data.toFixed(2)):c[t]<this.props.date||!this.props.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null))}O={},this.props.date&&(this.props.showDaily?O["\u05de\u05e1\u05e4\u05e8 \u05d9\u05d5\u05dd"]=j:this.props.weekly?O["\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"]=j:O["\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"]=j),O["\u05ea\u05d0\u05e8\u05d9\u05da"]=g,this.props.showDaily?(u[1]&&(i[g][1]>0||i[g][1]<=0)&&(O["Oswestry Disability Index"]=i[g][1]),u[2]&&(i[g][2]>0||i[g][2]<=0)&&(O["Neck Disability Index"]=i[g][2]),u[3]&&(i[g][3]>0||i[g][3]<=0)&&(O["Lower Extremity Functional Scale"]=i[g][3]),u[4]&&(i[g][4]>0||i[g][4]<=0)&&(O["Oswestry low back pain"]=i[g][4]),u[5]&&(i[g][5]>0||i[g][5]<=0)&&(O["EQ-5D"]=i[g][5]),u[6]&&(i[g][6]>0||i[g][6]<=0)&&(O["EQ-5D scale"]=i[g][6])):(u[1]&&i[g][1]&&i[g][1].counter&&(O["Oswestry Disability Index"]=i[g][1].Data.toFixed(2)),u[2]&&i[g][2]&&i[g][2].counter&&(O["Neck Disability Index"]=i[g][2].Data.toFixed(2)),u[3]&&i[g][3]&&i[g][3].counter&&(O["Lower Extremity Functional Scale"]=i[g][3].Data.toFixed(2)),u[4]&&i[g][4]&&i[g][4].counter&&(O["Oswestry low back pain"]=i[g][4].Data.toFixed(2)),u[5]&&i[g][5]&&i[g][5].counter&&(O["EQ-5D"]=i[g][5].Data.toFixed(2)),u[6]&&i[g][6]&&i[g][6].counter&&(O["EQ-5D scale"]=i[g][6].Data.toFixed(2))),w.push(O)}}}return n.a.createElement("div",null,this.props.ready?n.a.createElement("div",null,e?n.a.createElement("h4",null,"\u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9"):n.a.createElement("div",null,n.a.createElement("table",{style:{width:"100%"},id:"per"},n.a.createElement("tbody",null,n.a.createElement("tr",null,this.props.showDaily?n.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05d9\u05d5\u05dd"):null,this.props.weekly?n.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05e9\u05d1\u05d5\u05e2"):null,this.props.monthly?n.a.createElement("th",null,"\u05de\u05e1\u05e4\u05e8 \u05d7\u05d5\u05d3\u05e9"):null,this.props.data.length>0?n.a.createElement("th",null,"\u05ea\u05d0\u05e8\u05d9\u05da"):null,u[1]?n.a.createElement("th",null,"Oswestry Disability Index"):null,u[2]?n.a.createElement("th",null,"Neck Disability Index"):null,u[3]?n.a.createElement("th",null,"Lower Extremity Functional Scale"):null,u[4]?n.a.createElement("th",null,"Oswestry low back pain"):null,u[5]?n.a.createElement("th",null,"EQ-5D"):null,u[6]?n.a.createElement("th",null,"EQ-5D scale"):null),v)),n.a.createElement(x,{csvData:w,fileName:this.props.name+" \u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05ea\u05e7\u05d5\u05e4\u05ea\u05d9\u05d9\u05dd"}))):null)}}]),s}(s.Component),T=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this)).handleChange=s.handleChange.bind(Object(g.a)(s)),s.sort_by_key=function(e,t){return e.sort((function(e,a){var s=e[t],n=a[t];return s<n?-1:s>n?1:0}))},s}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(D.a)({},a,r)):this.setState(Object(D.a)({},a,s))}},{key:"render",value:function(){if(this.props.ready){var e=!1;if(this.props.data&&this.props.data.length>0){var t,a=this.sort_by_key(this.props.data,"ValidTime"),s={},r={},i={},o=new Date(this.props.date),l={},c={},u={},h={},p=[],m=!1;if(this.props.weekly){var d=new Date(this.props.date).getDay(),f=new Date(this.props.date-864e5*d),g=new Date(f.getTime()+5184e5);t=f.toLocaleDateString("en-GB",{day:"numeric"})+" - "+g.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}this.props.monthly&&(t=new Date(this.props.date).toLocaleDateString("en-GB",{month:"short"}));var b={before:{light:{},deep:{},total:{}},after:{light:{},deep:{},total:{}}};b.before.light={sum:0,counter:0},b.before.deep={sum:0,counter:0},b.before.total={sum:0,counter:0},b.after.total={sum:0,counter:0},b.after.deep={sum:0,counter:0},b.after.light={sum:0,counter:0};for(var E=0;E<a.length;E++){for(var y,v=new Date(a[E].ValidTime),w=0,D=0,N=0,k=0;k<a[E].Data.length;k++){if(0===k)y=a[E].Data[k].StartTime;else if(y===a[E].Data[k].StartTime)break;var S=a[E].Data[k].EndTime-a[E].Data[k].StartTime;S/=36e5,"Light sleep"===a[E].Data[k].State?D+=S:w+=S,N+=S}if(this.props.showDaily){var x=v.toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-");v<=o&&(s[x]=w.toFixed(2),r[x]=D.toFixed(2),i[x]=N.toFixed(2)),v>=o&&(l[x]=w.toFixed(2),c[x]=D.toFixed(2),u[x]=N.toFixed(2))}else if(this.props.weekly){var I=(v=new Date(a[E].ValidTime)).getDay(),_=new Date(a[E].ValidTime-864e5*I),A=new Date(_.getTime()+5184e5);t===(x=_.toLocaleDateString("en-GB",{day:"numeric"})+" - "+A.toLocaleDateString("en-GB",{day:"numeric",month:"short"}))?(a[E].ValidTime<this.props.date?(b.before.light.counter++,b.before.light.sum+=D,b.before.deep.counter++,b.before.deep.sum+=w,b.before.total.counter++,b.before.total.sum+=N):(b.after.light.counter++,b.after.light.sum+=D,b.after.deep.counter++,b.after.deep.sum+=w,b.after.total.counter++,b.after.total.sum+=N),m||(m=!0,p.push(a[E].ValidTime))):(null==h[x]&&(h[x]={},h[x].light={},h[x].deep={},h[x].total={},h[x].light.counter=0,h[x].light.sum=0,h[x].deep.counter=0,h[x].deep.sum=0,h[x].total.counter=0,h[x].total.sum=0,p.push(a[E].ValidTime)),h[x].light.counter++,h[x].light.sum+=D,h[x].deep.counter++,h[x].deep.sum+=w,h[x].total.counter++,h[x].total.sum+=N)}else this.props.monthly&&(t===(x=(v=new Date(a[E].ValidTime)).toLocaleDateString("en-GB",{month:"short"}))?(a[E].ValidTime<this.props.date?(b.before.light.counter++,b.before.light.sum+=D,b.before.deep.counter++,b.before.deep.sum+=w,b.before.total.counter++,b.before.total.sum+=N):(b.after.light.counter++,b.after.light.sum+=D,b.after.deep.counter++,b.after.deep.sum+=w,b.after.total.counter++,b.after.total.sum+=N),m||(m=!0,p.push(a[E].ValidTime))):(null==h[x]&&(h[x]={},h[x].light={},h[x].deep={},h[x].total={},h[x].light.counter=0,h[x].light.sum=0,h[x].deep.counter=0,h[x].deep.sum=0,h[x].total.counter=0,h[x].total.sum=0,p.push(a[E].ValidTime)),h[x].light.counter++,h[x].light.sum+=D,h[x].deep.counter++,h[x].deep.sum+=w,h[x].total.counter++,h[x].total.sum+=N))}if(p=p.sort(),this.props.weekly||this.props.monthly)for(E=0;E<p.length;E++)v=new Date(p[E]),this.props.weekly?(I=v.getDay(),_=new Date(v.getTime()-864e5*I),A=new Date(_.getTime()+5184e5),x=_.toLocaleDateString("en-GB",{day:"numeric"})+" - "+A.toLocaleDateString("en-GB",{day:"numeric",month:"short"})):x=v.toLocaleDateString("en-GB",{month:"short"}),x!==t?(v<=o&&(s[x]=(h[x].deep.sum/h[x].deep.counter).toFixed(2),r[x]=(h[x].light.sum/h[x].light.counter).toFixed(2),i[x]=(h[x].total.sum/h[x].total.counter).toFixed(2)),v>=o&&(l[x]=(h[x].deep.sum/h[x].deep.counter).toFixed(2),c[x]=(h[x].light.sum/h[x].light.counter).toFixed(2),u[x]=(h[x].total.sum/h[x].total.counter).toFixed(2))):(s[x]=(b.before.deep.sum/b.before.deep.counter).toFixed(2),r[x]=(b.before.light.sum/b.before.light.counter).toFixed(2),i[x]=(b.before.total.sum/b.before.total.counter).toFixed(2),l[x]=(b.after.deep.sum/b.after.deep.counter).toFixed(2),c[x]=(b.after.light.sum/b.after.light.counter).toFixed(2),u[x]=(b.after.total.sum/b.after.total.counter).toFixed(2));var O=[{name:"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4 \u05dc\u05e4\u05e0\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:r},{name:"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4 \u05dc\u05e4\u05e0\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:s},{name:"\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4 \u05dc\u05e4\u05e0\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:i},{name:"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4 \u05d0\u05d7\u05e8\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:c},{name:"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4 \u05d0\u05d7\u05e8\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:l},{name:"\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4 \u05d0\u05d7\u05e8\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:u}]}else e=!0}return n.a.createElement("div",null,this.props.ready?n.a.createElement("div",null,n.a.createElement("div",{className:"App"},n.a.createElement("h1",null,this.props.name),e?n.a.createElement("h4",null,"\u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9"):n.a.createElement(C.a,{download:!0,data:O,colors:["#010C6B","#7C0000","#0D4E00","#77CCEE","#F78989","#B5FFA2"],min:0}))):null)}}]),a}(s.Component),j=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this)).handleChange=s.handleChange.bind(Object(g.a)(s)),s.sort_by_key=function(e,t){return e.sort((function(e,a){var s=e[t],n=a[t];return s<n?-1:s>n?1:0}))},s}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(D.a)({},a,r)):this.setState(Object(D.a)({},a,s))}},{key:"render",value:function(){if(this.props.ready){var e=!1;if(this.props.data.length>0){var t,a=this.sort_by_key(this.props.data,"ValidTime"),s={},r=new Date(this.props.date),i={},o={},l=[],c=!1;if(this.props.weekly){var u=new Date(this.props.date).getDay(),h=new Date(this.props.date-864e5*u),p=new Date(h.getTime()+5184e5);t=h.toLocaleDateString("en-GB",{day:"numeric"})+" - "+p.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}this.props.monthly&&(t=new Date(this.props.date).toLocaleDateString("en-GB",{month:"short"}));for(var m={before:{sum:0,counter:0},after:{sum:0,counter:0}},d=0;d<a.length;d++)if(this.props.showDaily){var f=new Date(a[d].ValidTime),g=f.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).replace(/ /g,"-");f<=r&&(s[g]=a[d].Answers[0].AnswerID[0].toFixed(2)),f>=r&&(i[g]=a[d].Answers[0].AnswerID[0].toFixed(2))}else if(this.props.weekly){var b=(f=new Date(a[d].ValidTime)).getDay(),E=new Date(a[d].ValidTime-864e5*b),y=new Date(E.getTime()+5184e5);t===(g=E.toLocaleDateString("en-GB",{day:"numeric"})+" - "+y.toLocaleDateString("en-GB",{day:"numeric",month:"short"}))?(a[d].ValidTime<this.props.date?(m.before.counter++,m.before.sum+=a[d].Answers[0].AnswerID[0]):(m.after.counter++,m.after.sum+=a[d].Answers[0].AnswerID[0]),c||(c=!0,l.push(a[d].ValidTime))):(null==o[g]&&(o[g]={},o[g].counter=0,o[g].sum=0,l.push(a[d].ValidTime)),o[g].sum+=a[d].Answers[0].AnswerID[0],o[g].counter++)}else this.props.monthly&&(t===(g=(f=new Date(a[d].ValidTime)).toLocaleDateString("en-GB",{month:"short"}))?(a[d].ValidTime<this.props.date?(m.before.counter++,m.before.sum+=a[d].Answers[0].AnswerID[0]):(m.after.counter++,m.after.sum+=a[d].Answers[0].AnswerID[0]),c||(c=!0,l.push(a[d].ValidTime))):(null==o[g]&&(o[g]={},o[g].counter=0,o[g].sum=0,l.push(a[d].ValidTime)),o[g].sum+=a[d].Answers[0].AnswerID[0],o[g].counter++));if(l=l.sort(),this.props.weekly||this.props.monthly)for(d=0;d<l.length;d++)f=new Date(l[d]),this.props.weekly?(b=f.getDay(),E=new Date(f.getTime()-864e5*b),y=new Date(E.getTime()+5184e5),g=E.toLocaleDateString("en-GB",{day:"numeric"})+" - "+y.toLocaleDateString("en-GB",{day:"numeric",month:"short"})):g=f.toLocaleDateString("en-GB",{month:"short"}),g!==t?(f<=r&&(s[g]=(o[g].sum/o[g].counter).toFixed(2)),f>=r&&(i[g]=(o[g].sum/o[g].counter).toFixed(2))):(s[g]=(m.before.sum/m.before.counter).toFixed(2),i[g]=(m.after.sum/m.after.counter).toFixed(2));var v=[{name:"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:s},{name:"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:i}]}else e=!0}return n.a.createElement("div",null,this.props.ready?n.a.createElement("div",null,n.a.createElement("div",{className:"App"},n.a.createElement("h1",null,this.props.name),e?n.a.createElement("h4",null,"\u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05d4\u05de\u05e9\u05ea\u05de\u05e9"):n.a.createElement(C.a,{download:!0,data:v,min:0}))):null)}}]),a}(s.Component),Q=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var a;Object(o.a)(this,s),a=t.call(this);for(var n=!1,r=!1,i=!1,l=!1,c=0;c<e.user.Questionnaires.length;c++)1===e.user.Questionnaires[c].QuestionnaireID?n=!0:2===e.user.Questionnaires[c].QuestionnaireID?r=!0:3===e.user.Questionnaires[c].QuestionnaireID?i=!0:5===e.user.Questionnaires[c].QuestionnaireID&&(l=!0);return a.state={user:e.user,showPopup:!1,showPopupQ:!1,new_date:"",Questionnaires:[],quest1:!1,quest2:n,quest3:r,quest4:i,quest5:l,quest6:!1},a.changeDate=a.changeDate.bind(Object(g.a)(a)),a.togglePopup=a.togglePopup.bind(Object(g.a)(a)),a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.togglePopupQ=a.togglePopupQ.bind(Object(g.a)(a)),a.handleSubmitQ=a.handleSubmitQ.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=new Date(this.state.new_date).getTime(),s=this.props.user.UserID;y.a.post(" https://moda-medic.herokuapp.com/auth/usersAll/changeDateOfSurgery",{UserID:s,DateOfSurgery:a,changedSurgeryDate:!0},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}).then((function(e){window.alert("\u05d4\u05ea\u05d0\u05e8\u05d9\u05da \u05e9\u05d5\u05e0\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),t.togglePopup()}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(D.a)({},a,r)):this.setState(Object(D.a)({},a,s))}},{key:"handleSubmitQ",value:function(e){var t=this;e.preventDefault();var a=[];this.state.quest2&&a.push({QuestionnaireID:1,QuestionnaireText:"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05d1 \u05ea\u05d7\u05ea\u05d5\u05df"}),this.state.quest3&&a.push({QuestionnaireID:2,QuestionnaireText:"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05e6\u05d5\u05d5\u05d0\u05e8"}),this.state.quest4&&a.push({QuestionnaireID:3,QuestionnaireText:"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05e3 \u05ea\u05d7\u05ea\u05d5\u05df"}),this.state.quest5&&a.push({QuestionnaireID:5,QuestionnaireText:"\u05d0\u05d9\u05db\u05d5\u05ea \u05d7\u05d9\u05d9\u05dd"});var s=this.props.user.UserID;y.a.post(" https://moda-medic.herokuapp.com/auth/usersAll/changeUserQuestionnaire",{UserID:s,Questionnaires:a},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}).then((function(e){window.alert("\u05d4\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05e9\u05d5\u05e0\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),t.togglePopupQ()}))}},{key:"changeQuest",value:function(){this.togglePopupQ()}},{key:"changeDate",value:function(){this.togglePopup()}},{key:"togglePopupQ",value:function(){this.setState({showPopupQ:!this.state.showPopupQ})}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"render",value:function(){var e=this;a(113);var t=this.props.user.First_Name+" "+this.props.user.Last_Name,s=parseFloat(this.props.user.BMI).toFixed(1),r="";r=this.props.user.DateOfSurgery?new Date(this.props.user.DateOfSurgery).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"\u05dc\u05d0 \u05e0\u05e7\u05d1\u05e2 \u05d9\u05d5\u05dd \u05e0\u05d9\u05ea\u05d5\u05d7";for(var i=this.props.user.Gender,o=this.props.user.Height,l=this.props.user.Phone_Number,c=this.props.user.Smoke,u=this.props.user.SurgeryType,h=this.props.user.Weight,p=new Date,m=new Date(this.props.user.BirthDate),d=Math.floor((p.getTime()-m.getTime())/31536e6),f="",g=!0,b=0;b<this.props.user.Questionnaires.length;b++)0!==this.props.user.Questionnaires[b].QuestionnaireID&&6!==this.props.user.Questionnaires[b].QuestionnaireID&&(g?g=!1:f+=", ",f.includes(this.props.user.Questionnaires[b].QuestionnaireText)||(f+=this.props.user.Questionnaires[b].QuestionnaireText));" "===f.charAt(f.length-1)&&(f=f.substring(0,f.length-2));var E="g";return this.props.table&&(E="t"),n.a.createElement("div",{id:"data",className:E},n.a.createElement("div",{className:"line"},n.a.createElement("label",{className:"label"},"\u05e9\u05dd:"),n.a.createElement("label",{className:"labelData"},t),n.a.createElement("label",{className:"label"},"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df:"),n.a.createElement("label",{className:"labelData"},l)),n.a.createElement("div",{className:"line"},n.a.createElement("label",{className:"label"},"\u05de\u05d9\u05df:"),n.a.createElement("label",{className:"labelData"},i),n.a.createElement("label",{className:"label"},"\u05de\u05e9\u05e7\u05dc:"),n.a.createElement("label",{className:"labelData"},h),n.a.createElement("label",{className:"label"},"\u05d2\u05d5\u05d1\u05d4:"),n.a.createElement("label",{className:"labelData"},o),n.a.createElement("label",{className:"label"},"\u05d2\u05d9\u05dc:"),n.a.createElement("label",{className:"labelData"},d),n.a.createElement("label",{className:"label"},"BMI:"),n.a.createElement("label",{className:"labelData"},s),n.a.createElement("label",{className:"labelData"},c)),n.a.createElement("div",{className:"line"},n.a.createElement("label",{className:"label"},"\u05e1\u05d5\u05d2 \u05e0\u05d9\u05ea\u05d5\u05d7:"),n.a.createElement("label",{className:"labelData"},u),n.a.createElement("label",{className:"label"},"\u05ea\u05d0\u05e8\u05d9\u05da \u05e0\u05d9\u05ea\u05d5\u05d7:"),n.a.createElement("label",{className:"labelData"},r),n.a.createElement("button",{className:"changeDate",onClick:function(){return e.changeDate()}},"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05d4\u05ea\u05d0\u05e8\u05d9\u05da")),this.state.showPopup?n.a.createElement(F,{closePopup:this.togglePopup.bind(this),handleChange:this.handleChange.bind(this),handleSubmit:this.handleSubmit.bind(this)}):null,this.state.showPopupQ?n.a.createElement(P,{closePopup:this.togglePopupQ.bind(this),handleChange:this.handleChange.bind(this),handleSubmit:this.handleSubmitQ.bind(this),quest1:this.state.quest1,quest2:this.state.quest2,quest3:this.state.quest3,quest4:this.state.quest4,quest5:this.state.quest5,quest6:this.state.quest6}):null)}}]),s}(s.Component),F=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_innerCD"},n.a.createElement("div",{className:"line_x"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x")),n.a.createElement("h4",{id:"h4C"},"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7"),n.a.createElement("form",{onSubmit:this.props.handleSubmit,id:"newDate_form"},n.a.createElement("div",{className:"line_newData"},n.a.createElement("label",{id:"newD"}," \u05d4\u05db\u05e0\u05e1 \u05ea\u05d0\u05e8\u05d9\u05da \u05e0\u05d9\u05ea\u05d5\u05d7 \u05d7\u05d3\u05e9:")),n.a.createElement("div",{className:"line_newData"},n.a.createElement("input",{id:"new_date",type:"date",name:"new_date",onChange:this.props.handleChange})),n.a.createElement("div",{className:"line_newData"},n.a.createElement("button",{id:"sumbitC",type:"sumbit"},"\u05e9\u05d9\u05e0\u05d5\u05d9")),n.a.createElement("div",{className:"line_newData"},n.a.createElement("label",{id:"noDate"},"*\u05dc\u05d1\u05d9\u05d8\u05d5\u05dc \u05ea\u05d0\u05e8\u05d9\u05da \u05e0\u05d9\u05ea\u05d5\u05d7 \u05d9\u05e9 \u05dc\u05dc\u05d7\u05d5\u05e5 \u05e2\u05dc \u05e9\u05d9\u05e0\u05d5\u05d9 \u05d1\u05dc\u05d9 \u05e7\u05d1\u05d9\u05e2\u05ea \u05ea\u05d0\u05e8\u05d9\u05da \u05d7\u05d3\u05e9")))))}}]),a}(n.a.Component),P=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_innerCQ"},n.a.createElement("div",{className:"line_x"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x")),n.a.createElement("h4",{id:"h4C"},"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd"),n.a.createElement("form",{id:"formQ",onSubmit:this.props.handleSubmit},n.a.createElement("div",{className:"line"},n.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest2",checked:this.props.quest2,onChange:this.props.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05d1 \u05ea\u05d7\u05ea\u05d5\u05df")),n.a.createElement("div",{className:"line"},n.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest3",checked:this.props.quest3,onChange:this.props.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05e6\u05d5\u05d5\u05d0\u05e8")),n.a.createElement("div",{className:"line"},n.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest4",checked:this.props.quest4,onChange:this.props.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05e3 \u05ea\u05d7\u05ea\u05d5\u05df")),n.a.createElement("div",{className:"line"},n.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest5",checked:this.props.quest5,onChange:this.props.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05d0\u05d9\u05db\u05d5\u05ea \u05d7\u05d9\u05d9\u05dd")),n.a.createElement("button",{id:"changeQ",type:"sumbit"},"\u05e9\u05d9\u05e0\u05d5\u05d9"))))}}]),a}(n.a.Component),q=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this)).state={graph:!0,table:!1},s.styleLabel={fontSize:"calc(10px)",color:"black",margin:"2vmin 2vmin 2vmin 2vmin"},s.handleChange=s.handleChange.bind(Object(g.a)(s)),s.clean=function(e){for(var t={},a=[],s=0;s<e.length;s++){var n=new Date(e[s].ValidTime).toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-");void 0===t[n]&&(t[n]=e[s],a.push(e[s]))}return a},s}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(D.a)({graph:!1,table:!1},a,r)):this.setState(Object(D.a)({},a,s))}},{key:"render",value:function(){for(var e,t,a,s,r,i=[],o=[],l=[],c=[],u=[],h=[],p=0;p<this.props.dataArr.length;p++)if("\u05e6\u05e2\u05d3\u05d9\u05dd"===this.props.dataArr[p].name)e=this.props.dataArr[p].values;else if("\u05de\u05e8\u05d7\u05e7"===this.props.dataArr[p].name)t=this.props.dataArr[p].values;else if("\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"===this.props.dataArr[p].name)a=this.props.dataArr[p].values;else if("\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"===this.props.dataArr[p].name){if(this.props.dataArr[p].values.length&&this.props.dataArr[p].values[0].Data&&this.props.dataArr[p].values[0].Data.High)for(var m=0;m<this.props.dataArr[p].values.length;m++)this.props.dataArr[p].values[m].Data=this.props.dataArr[p].values[m].Data.High;s=this.props.dataArr[p].values}else"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===this.props.dataArr[p].name&&(r=this.props.dataArr[p].values);for(p=0;p<this.props.periodicAnswers.length;p++){if(1===this.props.periodicAnswers[p].QuestionnaireID)for(i=this.props.periodicAnswers[p].data,m=0;m<i.length;m++)i[m].Data=i[m].Score;if(2===this.props.periodicAnswers[p].QuestionnaireID)for(o=this.props.periodicAnswers[p].data,m=0;m<o.length;m++)o[m].Data=o[m].Score;if(3===this.props.periodicAnswers[p].QuestionnaireID)for(l=this.props.periodicAnswers[p].data,m=0;m<l.length;m++)l[m].Data=l[m].Score;if(4===this.props.periodicAnswers[p].QuestionnaireID)for(c=this.props.periodicAnswers[p].data,m=0;m<c.length;m++)c[m].Data=c[m].Score;if(5===this.props.periodicAnswers[p].QuestionnaireID)for(u=this.props.periodicAnswers[p].data,m=0;m<u.length;m++)u[m].Data=u[m].Score;if(6===this.props.periodicAnswers[p].QuestionnaireID)for(h=this.props.periodicAnswers[p].data,m=0;m<h.length;m++)h[m].Data=h[m].Score}return n.a.createElement("div",null,n.a.createElement("div",{className:"display"},this.props.dataArr.length>0||this.props.dailyA.length>0?n.a.createElement("div",null,n.a.createElement("div",{className:"checkButton",id:"cbRight"},n.a.createElement("label",null,n.a.createElement("input",{type:"checkbox",value:"1",name:"graph",checked:this.state.graph,onChange:this.handleChange}),n.a.createElement("span",null,n.a.createElement("div",{id:"text"},"\u05d4\u05e6\u05d2 \u05de\u05d9\u05d3\u05e2 \u05d2\u05e8\u05e4\u05d9")))),n.a.createElement("div",{className:"checkButton",id:"cbLeft"},n.a.createElement("label",null,n.a.createElement("input",{type:"checkbox",value:"1",name:"table",checked:this.state.table,onChange:this.handleChange}),n.a.createElement("span",null,n.a.createElement("div",{id:"text"},"\u05d4\u05e6\u05d2 \u05de\u05d9\u05d3\u05e2 \u05d8\u05d1\u05dc\u05d0\u05d9"))))," "):null),n.a.createElement("br",null),n.a.createElement("br",null),(this.state.graph||this.state.table)&&this.props.ready?n.a.createElement(Q,{user:this.props.user,table:this.state.table}):null,this.state.table&&this.props.dataArr.length>0&&this.props.ready?n.a.createElement("h3",null,"\u05de\u05d3\u05d3\u05d9\u05dd"):null,this.state.table?n.a.createElement("div",{className:"ex1"},n.a.createElement(I,{dataArr:this.props.dataArr,steps:this.props.steps,distance:this.props.distance,calories:this.props.calories,weather:this.props.weather,sleep:this.props.sleep,date:this.props.date,showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,name:this.props.name,ready:this.props.ready})," "):null,n.a.createElement("br",null),this.state.table&&this.props.dailyQ&&this.props.ready?n.a.createElement("h3",null,"\u05e9\u05d0\u05dc\u05d5\u05df \u05d9\u05d5\u05de\u05d9"):null,this.state.table&&this.props.dailyQ?n.a.createElement(_,{data:this.props.dailyA,date:this.props.date,showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,name:this.props.name,ready:this.props.ready}):null,this.state.table&&this.props.perQ&&this.props.ready?n.a.createElement("h3",null,"\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05ea\u05e7\u05d5\u05e4\u05ea\u05d9\u05d9\u05dd"):null,this.state.table&&this.props.perQ?n.a.createElement(O,{data:this.props.periodicAnswers,date:this.props.date,showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready,name:this.props.name}):null,this.state.graph&&this.props.steps?n.a.createElement(A,{data:e,date:this.props.date,name:"\u05e6\u05e2\u05d3\u05d9\u05dd",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&this.props.distance?n.a.createElement(A,{data:t,date:this.props.date,name:"\u05de\u05e8\u05d7\u05e7",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&this.props.calories?n.a.createElement(A,{data:a,date:this.props.date,name:"\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&this.props.weather?n.a.createElement(A,{data:s,date:this.props.date,name:"\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&this.props.sleep?n.a.createElement(T,{data:r,date:this.props.date,name:"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&this.props.dailyQ?n.a.createElement(j,{data:this.props.dailyA,date:this.props.date,name:"\u05e9\u05d0\u05dc\u05d5\u05df \u05d9\u05d5\u05de\u05d9",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&i.length>0&&this.props.perQ?n.a.createElement(A,{data:i,date:this.props.date,name:"Oswestry Disability Index",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&o.length>0&&this.props.perQ?n.a.createElement(A,{data:o,date:this.props.date,name:"Neck Disability Index",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&l.length>0&&this.props.perQ?n.a.createElement(A,{data:l,date:this.props.date,name:"Lower Extremity Functional Scale",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&c.length>0&&this.props.perQ?n.a.createElement(A,{data:c,date:this.props.date,name:"Oswestry low back pain",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&u.length>0&&this.props.perQ?n.a.createElement(A,{data:u,date:this.props.date,name:"EQ-5D",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null,this.state.graph&&h.length>0&&this.props.perQ?n.a.createElement(A,{data:h,date:this.props.date,name:"EQ-5D scale",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,ready:this.props.ready}):null)}}]),a}(s.Component),L=(s.Component,function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_inner"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),n.a.createElement("h4",null,":\u05d0\u05e0\u05d0 \u05d1\u05d7\u05e8 \u05de\u05d1\u05d9\u05df \u05d4\u05e8\u05e9\u05d5\u05de\u05d5\u05ea \u05d4\u05d1\u05d0\u05d5\u05ea"),this.props.text))}}]),a}(n.a.Component)),U=(a(75),a(259)),B=a(70),V=a(94),G=(a(62),a(30)),M=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).state={showPopup:!1,userInfo:!1,pass:"",pass2:"",diff:!1,isLogOut:!1,isMessage:!1,isPatientInfo:!1,isInstructions:!1,isExercises:!1,isEdit:!1},e.logout=e.logout.bind(Object(g.a)(e)),e.change=e.change.bind(Object(g.a)(e)),e.privateInfoShow=e.privateInfoShow.bind(Object(g.a)(e)),e.togglePopup=e.togglePopup.bind(Object(g.a)(e)),e.handleChange=e.handleChange.bind(Object(g.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(g.a)(e)),e.changeToEdit=e.changeToEdit.bind(Object(g.a)(e)),e.updateUser=e.updateUser.bind(Object(g.a)(e)),e}return Object(l.a)(s,[{key:"goToMessages",value:function(){this.setState({isPatientInfo:!1,isInstructions:!1,isMessage:!0,isQuestionnaires:!1,isExercises:!1})}},{key:"goToExercises",value:function(){this.setState({isPatientInfo:!1,isInstructions:!1,isMessage:!1,isExercises:!0,isQuestionnaires:!1})}},{key:"goToSearch",value:function(){this.setState({isPatientInfo:!0,isMessage:!1,isQuestionnaires:!1,isInstructions:!1,isExercises:!1})}},{key:"goToQuestionnaires",value:function(){this.setState({isPatientInfo:!1,isMessage:!1,isInstructions:!1,isQuestionnaires:!0,isExercises:!1})}},{key:"goToInstructions",value:function(){this.setState({isPatientInfo:!1,isMessage:!1,isInstructions:!0,isQuestionnaires:!1,isExercises:!1})}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"toggleUserInfo",value:function(){this.setState({userInfo:!this.state.userInfo})}},{key:"handleSubmit",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.state.pass===this.state.pass2){e.next=5;break}this.setState({diff:!0}),e.next=15;break;case 5:return a=" https://moda-medic.herokuapp.com/auth/usersAll/askChangePassword",e.next=8,y.a.post(a,{},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 8:return n=e.sent,s=n.data.data,a=" https://moda-medic.herokuapp.com/users/passwordChangeCheck/changePassword",e.next=13,y.a.post(a,{NewPassword:this.state.pass},{headers:{"Content-Type":"application/json","x-auth-token":s}});case 13:e.sent.data.message&&(window.alert("\u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05e9\u05d5\u05e0\u05ea\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),this.togglePopup());case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getInfo()}},{key:"getInfo",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return" https://moda-medic.herokuapp.com/auth/usersAll/userInfo",e.next=3,y.a.get(" https://moda-medic.herokuapp.com/auth/usersAll/userInfo",{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 3:t=e.sent,this.setState({currUser:t.data.data});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(D.a)({},a,r)):this.setState(Object(D.a)({},a,s))}},{key:"logout",value:function(){sessionStorage.removeItem("token"),sessionStorage.removeItem("type"),sessionStorage.removeItem("name"),sessionStorage.removeItem("doctor"),sessionStorage.removeItem("patient"),sessionStorage.removeItem("patientUserId"),localStorage.removeItem("token"),localStorage.removeItem("type"),localStorage.removeItem("name"),localStorage.removeItem("doctor"),localStorage.removeItem("patient"),this.setState({isLogOut:!0})}},{key:"change",value:function(){this.togglePopup()}},{key:"privateInfoShow",value:function(){this.toggleUserInfo()}},{key:"isDoctor",value:function(){return sessionStorage.getItem("doctor")}},{key:"changeToEdit",value:function(){this.setState({isEdit:!this.state.isEdit})}},{key:"updateUser",value:function(e){this.setState({currUser:e})}},{key:"render",value:function(){var e,t=this;window.location.pathname;return a(75),e=this.isDoctor()?n.a.createElement(V.b,{class:"userIcon",style:{color:"white"},size:25}):n.a.createElement(V.a,{class:"userIcon",style:{color:"white"},size:25}),n.a.createElement("div",null,n.a.createElement(U.a,{class:"navbar navbar-fixed-top",bg:"dark",variant:"dark",fixed:"top"},n.a.createElement("div",{id:"buttons"},n.a.createElement("button",{id:"change",class:"btn btn-dark",type:"button",onClick:function(){return t.goToSearch()}},"\u05de\u05d3\u05d3\u05d9\u05dd \u05d0\u05d9\u05e9\u05d9\u05d9\u05dd"),n.a.createElement("span",null,"    ","            "),n.a.createElement("button",{id:"change",class:"btn btn-dark",type:"button",onClick:function(){return t.goToQuestionnaires()}},"\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd"),n.a.createElement("span",null,"              "),n.a.createElement("button",{id:"change",class:"btn btn-dark",type:"button",onClick:function(){return t.goToMessages()}},"\u05dc\u05d5\u05d7 \u05d4\u05d5\u05d3\u05e2\u05d5\u05ea"),n.a.createElement("button",{id:"change",class:"btn btn-dark",type:"button",onClick:function(){return t.goToExercises()}},"\u05ea\u05e8\u05d2\u05d5\u05dc\u05d9\u05dd \u05e8\u05e4\u05d5\u05d0\u05d9\u05d9\u05dd"),n.a.createElement("button",{id:"change",class:"btn btn-dark",type:"button",onClick:function(){return t.goToInstructions()}},"\u05d4\u05d3\u05e8\u05db\u05d5\u05ea \u05e0\u05d9\u05ea\u05d5\u05d7"),this.state.isMessage?n.a.createElement(p.a,{to:"/messages"}):null,this.state.isPatientInfo?n.a.createElement(p.a,{to:"/search"}):null,this.state.isQuestionnaires?n.a.createElement(p.a,{to:"/questionnaires"}):null,this.state.isQuestionnaires?this.setState({isQuestionnaires:!1}):null,this.state.isInstructions?n.a.createElement(p.a,{to:"/instructions"}):null,this.state.isExercises?n.a.createElement(p.a,{to:"/exercises"}):null,this.state.isLogOut?n.a.createElement(p.a,{to:"/"}):null,this.state.showPopup?n.a.createElement(R,{change:this.handleChange.bind(this),closePopup:this.togglePopup.bind(this),handleSubmit:this.handleSubmit.bind(this),diff:this.state.diff}):null,this.state.userInfo&&sessionStorage.getItem("patient")?n.a.createElement(H,{user:this.state.currUser,isEdit:this.state.isEdit,closePopup:this.toggleUserInfo.bind(this),changeToEdit:this.changeToEdit,updateUser:this.updateUser}):null,this.state.userInfo&&sessionStorage.getItem("doctor")?n.a.createElement(W,{user:this.state.currUser,isEdit:this.state.isEdit,closePopup:this.toggleUserInfo.bind(this),changeToEdit:this.changeToEdit,updateUser:this.updateUser}):null),n.a.createElement(B.a,{id:"dropdown-item-button",style:{color:"white"},title:sessionStorage.getItem("name")},n.a.createElement(B.a.Item,{as:"button",onClick:function(){return t.change()}},"\u05e9\u05e0\u05d4 \u05e1\u05d9\u05e1\u05de\u05d0"),n.a.createElement(B.a.Item,{as:"button",onClick:function(){return t.logout()}},"\u05d4\u05ea\u05e0\u05ea\u05e7"),n.a.createElement(B.a.Item,{as:"button",onClick:function(){return t.privateInfoShow()}},"\u05e4\u05e8\u05d8\u05d9\u05dd \u05d0\u05d9\u05e9\u05d9\u05d9\u05dd")),e,n.a.createElement(U.a.Brand,null,n.a.createElement("img",{alt:"",src:a(102),width:"70",height:"30",className:"d-inline-block align-top"})," ")),n.a.createElement("br",null),n.a.createElement("br",null))}}]),s}(n.a.Component),R=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_inner"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),n.a.createElement("h3",{id:"h3"},"\u05d4\u05d7\u05dc\u05e4\u05ea \u05e1\u05d9\u05e1\u05de\u05d0"),n.a.createElement("form",{onSubmit:this.props.handleSubmit},n.a.createElement("div",{className:"lineC"},n.a.createElement("label",null,"\u05e1\u05d9\u05e1\u05de\u05d0 \u05d7\u05d3\u05e9\u05d4:")),n.a.createElement("div",{className:"lineC"},n.a.createElement("input",{type:"password",name:"pass",id:"pass",onChange:this.props.change,required:!0})),n.a.createElement("div",{className:"lineC"},n.a.createElement("label",null,"\u05d4\u05e7\u05dc\u05d3 \u05d0\u05ea \u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05de\u05d7\u05d3\u05e9:")),n.a.createElement("div",{className:"lineC"},n.a.createElement("input",{type:"password",name:"pass2",id:"pass2",onChange:this.props.change,required:!0})),n.a.createElement("div",{className:"lineC"},this.props.diff?n.a.createElement("label",{id:"diffPass"},"\u05d4\u05e1\u05d9\u05e1\u05de\u05d0\u05d5\u05ea \u05e9\u05d5\u05e0\u05d5\u05ea"):null),n.a.createElement("div",{className:"lineC"},n.a.createElement("input",{type:"submit",value:"\u05e9\u05dc\u05d7"})))))}}]),a}(n.a.Component),W=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={userName:"",fName:a.props.user.First_Name,lName:a.props.user.Last_Name,bday:new Date(a.props.user.BirthDate),phone:a.props.user.Phone_Number},a.handleChangeInfo=a.handleChangeInfo.bind(Object(g.a)(a)),a.handleSubmitInfo=a.handleSubmitInfo.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"handleChangeInfo",value:function(e){this.setState(Object(D.a)({},e.target.name,e.target.value))}},{key:"handleSubmitInfo",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=new Date(this.state.bday),s=new Date,new Date(this.state.dateOfSurgery),n=Number(this.state.height/100),String(Number(this.state.weight)/Math.pow(n,2)),e.next=8,y.a.put(" https://moda-medic.herokuapp.com/auth/usersAll/doctorUpdate",{First_Name:this.state.fName,Last_Name:this.state.lName,Phone_Number:this.state.phone,BirthDate:a.getTime(),ValidTime:s.getTime()},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 8:r=e.sent,this.props.changeToEdit(),this.props.updateUser(r.data.data);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){a(75);var e=new Date(this.state.bday).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),t=new Date,s=new Date(this.props.user.BirthDate),r=Math.floor((t.getTime()-s.getTime())/31536e6),i=(t=(new Date).toISOString().split("T")[0],new Date(this.state.bday).toISOString().substr(0,10));return n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_inner_info"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),this.props.isEdit?null:n.a.createElement(v.a,{class:"cardInfo"},n.a.createElement(v.a.Header,null,n.a.createElement("b",null,this.props.user.First_Name," ",this.props.user.Last_Name)),n.a.createElement(G.a,{variant:"flush"},n.a.createElement(G.a.Item,{className:"listItem"}," \u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4: ",e," "),n.a.createElement(G.a.Item,{className:"listItem"}," \u05d2\u05d9\u05dc: ",r),n.a.createElement(G.a.Item,{className:"listItem"}," \u05d8\u05dc\u05e4\u05d5\u05df: ",this.props.user.Phone_Number," "))),this.props.isEdit?n.a.createElement("form",{onSubmit:this.handleSubmitInfo,onReset:this.handleReset,id:"new_user_form"},n.a.createElement("br",null),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"),n.a.createElement("input",{className:"inputs_in_add_user",name:"fName",type:"text",value:this.state.fName,maxLength:"20",onChange:this.handleChangeInfo,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4 "),n.a.createElement("input",{className:"inputs_in_add_user",name:"lName",type:"text",value:this.state.lName,maxLength:"20",onChange:this.handleChangeInfo,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df"),n.a.createElement("input",{className:"inputs_in_add_user",name:"phone",type:"tel",id:"phone",pattern:"[0-9]{10}",value:this.state.phone,onChange:this.handleChangeInfo,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4"),n.a.createElement("input",{className:"inputs_in_add_user",name:"bday",type:"date",max:t,value:i,onChange:this.handleChangeInfo,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("input",{style:{width:150},variant:"info",type:"submit",value:"\u05e9\u05de\u05d5\u05e8",className:"submit_and_reset_buttons"}))):null,this.props.isEdit?null:n.a.createElement("button",{style:{width:150,float:"left",position:"relative"},variant:"info",onClick:this.props.changeToEdit}," \u05e2\u05e8\u05d9\u05db\u05ea \u05e4\u05e8\u05d8\u05d9\u05dd "),this.props.isEdit?n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("button",{style:{width:150,position:"relative"},variant:"info",onClick:this.props.changeToEdit},"\u05d4\u05e6\u05d2\u05ea \u05e4\u05e8\u05d8\u05d9\u05dd ")):null))}}]),s}(n.a.Component),H=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={userName:"",fName:a.props.user.First_Name,lName:a.props.user.Last_Name,bday:new Date(a.props.user.BirthDate),phone:a.props.user.Phone_Number,gender:a.props.user.Gender,smoke:a.props.user.Smoke,dateOfSurgery:new Date(a.props.user.DateOfSurgery),surgeryType:a.props.user.SurgeryType,education:a.props.user.Education,height:a.props.user.Height,weight:a.props.user.Weight,bmi:a.props.user.BMI},a.handleChangeInfo=a.handleChangeInfo.bind(Object(g.a)(a)),a.handleSubmitInfo=a.handleSubmitInfo.bind(Object(g.a)(a)),a.onSelectGender=a.onSelectGender.bind(Object(g.a)(a)),a.onSelectSmoke=a.onSelectSmoke.bind(Object(g.a)(a)),a.onSelectSurgeryType=a.onSelectSurgeryType.bind(Object(g.a)(a)),a.onSelectEducation=a.onSelectEducation.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"handleChangeInfo",value:function(e){this.setState(Object(D.a)({},e.target.name,e.target.value))}},{key:"handleSubmitInfo",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s,n,r,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=new Date(this.state.bday),s=new Date,n=new Date(this.state.dateOfSurgery),r=Number(this.state.height/100),i=String(Number(this.state.weight)/Math.pow(r,2)),e.next=8,y.a.put(" https://moda-medic.herokuapp.com/auth/usersAll/patientUpdate",{First_Name:this.state.fName,Last_Name:this.state.lName,Phone_Number:this.state.phone,Gender:this.state.gender,Smoke:this.state.smoke,DateOfSurgery:n.getTime(),SurgeryType:this.state.surgeryType,Education:this.state.education,Height:this.state.height,Weight:this.state.weight,BMI:i,BirthDate:a.getTime(),ValidTime:s.getTime()},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 8:o=e.sent,this.props.changeToEdit(),this.props.updateUser(o.data.data);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onSelectGender",value:function(e){var t,a=e.target.options.selectedIndex;1==a?t="\u05e0\u05e7\u05d1\u05d4":2==a&&(t="\u05d6\u05db\u05e8"),this.setState({gender:t})}},{key:"onSelectSmoke",value:function(e){var t,a=e.target.options.selectedIndex;1==a?t="\u05de\u05e2\u05e9\u05df":2==a&&(t="\u05dc\u05d0 \u05de\u05e2\u05e9\u05df"),this.setState({smoke:t})}},{key:"onSelectEducation",value:function(e){var t=e.target.options.selectedIndex;this.setState({education:{1:"\u05d4\u05e9\u05db\u05dc\u05d4 \u05d0\u05e7\u05d3\u05de\u05d0\u05d9\u05ea",2:"\u05d4\u05e9\u05db\u05dc\u05d4 \u05ea\u05d9\u05db\u05d5\u05e0\u05d9\u05ea",3:"10-12 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3",4:"6-9 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3",5:"5 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3 \u05d0\u05d5 \u05e4\u05d7\u05d5\u05ea",6:"\u05dc\u05d0 \u05de\u05e2\u05d5\u05e0\u05d9\u05d9\u05df \u05dc\u05e2\u05e0\u05d5\u05ea"}[t]})}},{key:"onSelectSurgeryType",value:function(e){var t,a=e.target.options.selectedIndex;1==a?t="\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d3\u05d7\u05d5\u05e3":2==a?t="\u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05ea\u05d5\u05db\u05e0\u05df":3==a&&(t="\u05dc\u05dc\u05d0 \u05e0\u05d9\u05ea\u05d5\u05d7"),this.setState({surgeryType:t}),3!==a&&0!==a?this.setState({surgeryDateDisplay:!0}):this.setState({surgeryDateDisplay:!1})}},{key:"render",value:function(){a(75);var e,t=new Date(this.state.bday).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),s=new Date,r=new Date(this.props.user.BirthDate),i=Math.floor((s.getTime()-r.getTime())/31536e6),o=new Date(this.state.dateOfSurgery).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),l=parseFloat(this.props.user.BMI).toFixed(1);sessionStorage.getItem("patient")&&(e=n.a.createElement("div",null,n.a.createElement(G.a.Item,{className:"listItem"}," \u05d2\u05d5\u05d1\u05d4: ",this.props.user.Height),n.a.createElement(G.a.Item,{className:"listItem"}," \u05de\u05e9\u05e7\u05dc: ",this.props.user.Weight),n.a.createElement(G.a.Item,{className:"listItem"}," BMI:",l),n.a.createElement(G.a.Item,{className:"listItem"}," \u05ea\u05d0\u05e8\u05d9\u05da \u05e0\u05d9\u05ea\u05d5\u05d7: ",o," "),n.a.createElement(G.a.Item,{className:"listItem"}," \u05e1\u05d5\u05d2 \u05e0\u05d9\u05ea\u05d5\u05d7: ",this.props.user.SurgeryType," "),n.a.createElement(G.a.Item,{className:"listItem"}," \u05d4\u05e9\u05db\u05dc\u05d4: ",this.props.user.Education," ")));var c=[n.a.createElement("option",null),n.a.createElement("option",null,"\u05e0\u05e7\u05d1\u05d4"),n.a.createElement("option",null,"\u05d6\u05db\u05e8")],u=[n.a.createElement("option",null),n.a.createElement("option",null,"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d3\u05d7\u05d5\u05e3"),n.a.createElement("option",null,"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05ea\u05d5\u05db\u05e0\u05df"),n.a.createElement("option",null,"\u05dc\u05dc\u05d0 \u05e0\u05d9\u05ea\u05d5\u05d7")],h=[n.a.createElement("option",null),n.a.createElement("option",null,"\u05de\u05e2\u05e9\u05df"),n.a.createElement("option",null,"\u05dc\u05d0 \u05de\u05e2\u05e9\u05df")],p=[n.a.createElement("option",null),n.a.createElement("option",null,"\u05d4\u05e9\u05db\u05dc\u05d4 \u05d0\u05e7\u05d3\u05de\u05d0\u05d9\u05ea"),n.a.createElement("option",null,"\u05d4\u05e9\u05db\u05dc\u05d4 \u05ea\u05d9\u05db\u05d5\u05e0\u05d9\u05ea"),n.a.createElement("option",null,"10-12 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3"),n.a.createElement("option",null,"6-9 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3"),n.a.createElement("option",null,"5 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3 \u05d0\u05d5 \u05e4\u05d7\u05d5\u05ea"),n.a.createElement("option",null,"\u05dc\u05d0 \u05de\u05e2\u05d5\u05e0\u05d9\u05d9\u05df \u05dc\u05e2\u05e0\u05d5\u05ea")],m=(s=(new Date).toISOString().split("T")[0],new Date(this.state.bday).toISOString().substr(0,10)),d=new Date(this.state.dateOfSurgery).toISOString().substr(0,10);return n.a.createElement("div",{className:"popup_info"},n.a.createElement("div",{className:"popup_inner_info"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),this.props.isEdit?null:n.a.createElement(v.a,{class:"cardInfo"},n.a.createElement(v.a.Header,null,n.a.createElement("b",null,this.props.user.First_Name," ",this.props.user.Last_Name)),n.a.createElement(G.a,{variant:"flush"},n.a.createElement(G.a.Item,{className:"listItem"}," \u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4:",t," "),n.a.createElement(G.a.Item,{className:"listItem"}," \u05d2\u05d9\u05dc: ",i),n.a.createElement(G.a.Item,{className:"listItem"}," \u05de\u05d9\u05df: ",this.props.user.Gender," "),sessionStorage.getItem("doctor")&&n.a.createElement(G.a.Item,{className:"listItem"}," \u05d8\u05dc\u05e4\u05d5\u05df: ",this.props.user.Phone_Number," "),e)),this.props.isEdit?n.a.createElement("form",{onSubmit:this.handleSubmitInfo,onReset:this.handleReset,id:"new_user_form"},n.a.createElement("br",null),sessionStorage.getItem("doctor")&&n.a.createElement("div",null,n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"),n.a.createElement("input",{className:"inputs_in_add_user",name:"fName",type:"text",value:this.state.fName,maxLength:"20",onChange:this.handleChangeInfo,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4 "),n.a.createElement("input",{className:"inputs_in_add_user",name:"lName",type:"text",value:this.state.lName,maxLength:"20",onChange:this.handleChangeInfo,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df"),n.a.createElement("input",{className:"inputs_in_add_user",name:"phone",type:"tel",id:"phone",pattern:"[0-9]{10}",value:this.state.phone,onChange:this.handleChangeInfo,required:!0}))),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4"),n.a.createElement("input",{className:"inputs_in_add_user",name:"bday",type:"date",max:s,value:m,onChange:this.handleChangeInfo,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},'\u05de\u05e9\u05e7\u05dc (\u05e7"\u05d2) '),n.a.createElement("input",{className:"inputs_in_add_user",name:"weight",type:"number",value:this.state.weight,onChange:this.handleChangeInfo,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},'\u05d2\u05d5\u05d1\u05d4 (\u05e1"\u05de) '),n.a.createElement("input",{className:"inputs_in_add_user",name:"height",type:"number",value:this.state.height,onChange:this.handleChangeInfo,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05de\u05d9\u05df "),n.a.createElement("select",{value:this.state.gender,className:"select_in_add_user",onChange:this.onSelectGender},c)),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05de\u05e2\u05e9\u05df "),n.a.createElement("select",{value:this.state.smoke,className:"select_in_add_user",onChange:this.onSelectSmoke},h)),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05d4\u05e9\u05db\u05dc\u05d4 "),n.a.createElement("select",{value:this.state.education,className:"select_in_add_user",onChange:this.onSelectEducation},p)),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e1\u05d5\u05d2 \u05e0\u05d9\u05ea\u05d5\u05d7 "),n.a.createElement("select",{value:this.state.surgeryType,className:"select_in_add_user",onChange:this.onSelectSurgeryType},u)),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05ea\u05d0\u05e8\u05d9\u05da \u05e0\u05d9\u05ea\u05d5\u05d7"),n.a.createElement("input",{className:"inputs_in_add_user",name:"dateOfSurgery",type:"date",value:d,onChange:this.handleChangeInfo,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("input",{style:{width:150},variant:"info",type:"submit",value:"\u05e9\u05de\u05d5\u05e8",className:"submit_and_reset_buttons"}))):null,this.props.isEdit?null:n.a.createElement("button",{style:{width:150,float:"left",position:"relative"},variant:"info",onClick:this.props.changeToEdit}," \u05e2\u05e8\u05d9\u05db\u05ea \u05e4\u05e8\u05d8\u05d9\u05dd "),this.props.isEdit?n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("button",{style:{width:150,position:"relative"},variant:"info",onClick:this.props.changeToEdit},"\u05d4\u05e6\u05d2\u05ea \u05e4\u05e8\u05d8\u05d9\u05dd ")):null))}}]),s}(n.a.Component),Y=a(90),z=a(58),J=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={messages:[],content:""},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.fetchMessagesPatient(),this.fetchMessagesDoctor()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.patientUserId&&this.props.patientUserId!==e.patientUserId&&this.fetchMessagesDoctor()}},{key:"fetchMessagesPatient",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sessionStorage.getItem("patient")){e.next=5;break}return e.next=3,y.a.get(" https://moda-medic.herokuapp.com/auth/patients/messages",{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 3:(t=e.sent).data.data&&this.setState({messages:t.data.data.reverse()});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchMessagesDoctor",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sessionStorage.getItem("doctor")||!this.props.patientUserId){e.next=6;break}return t=encodeURIComponent(this.props.patientUserId),e.next=4,y.a.get(" https://moda-medic.herokuapp.com/auth/doctors/messages/".concat(t),{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 4:(a=e.sent).data.data&&this.setState({messages:a.data.data.reverse()});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addMessage",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sessionStorage.getItem("patient")&&y.a.post(" https://moda-medic.herokuapp.com/auth/patients/messages",{content:this.state.content},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}).then((function(e){a.fetchMessagesPatient(),a.setState({content:""})})),sessionStorage.getItem("doctor")&&(t=encodeURIComponent(this.props.patientUserId),y.a.post(" https://moda-medic.herokuapp.com/auth/doctors/messages/".concat(t),{content:this.state.content},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}).then((function(e){a.fetchMessagesDoctor(),a.setState({content:""})})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeMessage",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sessionStorage.getItem("patient")?(console.log("patient"),y.a.post(" https://moda-medic.herokuapp.com/auth/patients/messages/removeMessage",{MessageId:t},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}).then((function(e){a.fetchMessagesPatient(),a.fetchMessagesDoctor()}))):sessionStorage.getItem("doctor")&&y.a.delete(" https://moda-medic.herokuapp.com/auth/doctors/messages/removeMessage/".concat(t),{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}).then((function(e){a.fetchMessagesDoctor()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState({content:e.target.value})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),sessionStorage.getItem("doctor")&&void 0==this.props.patientUserId)window.alert("\u05d0\u05e0\u05d0 \u05d1\u05d7\u05e8 \u05de\u05d8\u05d5\u05e4\u05dc \u05dc\u05e6\u05d5\u05e8\u05da \u05e9\u05dc\u05d9\u05d7\u05ea \u05d4\u05d5\u05d3\u05e2\u05d4");else{if(this.state.content.length>150)window.alert("\u05d0\u05d5\u05e8\u05da \u05d4\u05d5\u05d3\u05e2\u05d4 \u05e2\u05d3 150 \u05ea\u05d5\u05d9\u05dd!");else{var t=0,a=new Date;this.state.messages.forEach((function(e){var s=new Date(e.Date);Math.floor((Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())-Date.UTC(s.getFullYear(),s.getMonth(),s.getDate()))/864e5)<=1&&(t+=1)}))}t>2&&sessionStorage.getItem("patient")?window.alert("\u05db\u05de\u05d5\u05ea \u05d4\u05d4\u05d5\u05d3\u05e2\u05d5\u05ea \u05de\u05d5\u05d2\u05d1\u05dc\u05ea \u05dc3 \u05d4\u05d5\u05d3\u05e2\u05d5\u05ea \u05d1\u05d9\u05d5\u05dd"):this.addMessage()}}},{key:"render",value:function(){var e=this;return a(177),n.a.createElement("div",null,n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("textarea",{class:"textarea",placeholder:"\u05db\u05ea\u05d5\u05d1 \u05d0\u05ea \u05d4\u05d5\u05d3\u05e2\u05ea\u05da \u05db\u05d0\u05df",onChange:this.handleChange}),n.a.createElement("br",null),n.a.createElement("input",{style:{marginRight:"auto",marginLeft:"auto"},type:"submit",value:"Submit"})),n.a.createElement("br",null),this.state.messages.length>0&&n.a.createElement("div",{class:"tableMessages"},n.a.createElement(Y.a,{id:"mdd_message",striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{style:{width:230}},"\u05ea\u05d0\u05e8\u05d9\u05da"),n.a.createElement("th",{style:{width:180}},"\u05de\u05d5\u05e2\u05df"),n.a.createElement("th",{style:{width:620}},"\u05ea\u05d5\u05db\u05df \u05d4\u05d4\u05d5\u05d3\u05e2\u05d4"),n.a.createElement("th",{style:{width:100}}))),n.a.createElement("tbody",null,this.state.messages.map((function(t){return n.a.createElement("tr",null,n.a.createElement("td",{style:{width:230}},new Date(t.Date).toLocaleString()),n.a.createElement("td",{style:{width:180}}," ".concat(t.FromFirstName," ").concat(t.FromLastName)),n.a.createElement("td",{style:{width:620,textAlign:"right"}},t.Content),n.a.createElement("td",{style:{width:100}},n.a.createElement(z.a,{type:"button",class:"trushIcon",style:{color:"black"},size:20,onClick:function(){return e.removeMessage(t.MessageId)}})))})))),n.a.createElement("br",null)),0===this.state.messages.length&&n.a.createElement("p",null," \u05d0\u05d9\u05df \u05d4\u05d5\u05d3\u05e2\u05d5\u05ea "),n.a.createElement("img",{class:"imageBox",src:"https://image.freepik.com/free-photo/top-view-doctor-working-with-laptop_1232-386.jpg",style:{width:450,borderColor:"black"}}))}}]),s}(s.Component),Z=(a(178),a(91)),$=a.n(Z),X=(a(179),a(60)),K=a(97);a(185);X.StylesManager.applyTheme("bootstrap");var ee=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).state={json:{},questionnaireId:n.props.match.params.QuestionnaireID},window.$=window.jQuery=$.a,a(186),n.getQuestionnaire=n.getQuestionnaire.bind(Object(g.a)(n)),n.sendAnswersToServer=n.sendAnswersToServer.bind(Object(g.a)(n)),n.sendParsedResultToServer=n.sendParsedResultToServer.bind(Object(g.a)(n)),n.getQuestionnaire(),n}return Object(l.a)(s,[{key:"getQuestionnaire",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,s,n,r,i,o,l,c,u,h,p,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=" https://moda-medic.herokuapp.com/questionnaires/getQuestionnaire/".concat(this.state.questionnaireId),e.next=3,y.a.get(t,{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 3:if((a=e.sent).data.data){for(this.setState({title:a.data.data.QuestionnaireEnglishText,description:a.data.data.QuestionnaireText}),s=a.data.data.Questions,n=[],(r={}).title=a.data.data.QuestionnaireEnglishText,i=0;i<s.length;i++){if((o={}).title=s[i].QuestionText,"EQ5"===s[i].Type)o.type="nouislider",o.name=a.data.data.QuestionnaireText;else if("Single"===s[i].Type){for(o.type="radiogroup",o.isRequired=!0,l=[],c=0;c<s[i].Answers.length;c++)(u={}).answerID=s[i].Answers[c].answerID,u.text=s[i].Answers[c].answerText,l.push(u);o.choices=l}else if("multi"===s[i].Type){for(o.type="checkbox",o.hasNone=!0,o.colCount=5,h=[],p=0;p<s[i].Answers.length;p++)(m={}).answerID=s[i].Answers[p].answerID,m.text=s[i].Answers[p].answerText,h.push(m);o.choices=h}else"VAS"===s[i].Type&&(o.type="emotionsratings",o.choices=["1","2","3","4","5"]);n.push(o)}r.elements=n,this.setState({json:r})}else console.alert("Problem accured. please try again later.");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendParsedResultToServer",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return" https://moda-medic.herokuapp.com/auth/patients/answers/sendAnswers",e.next=3,y.a.post(" https://moda-medic.herokuapp.com/auth/patients/answers/sendAnswers",t,{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 3:a=e.sent,(s=a.data.data)?this.setState({showID:!1,showWrongUser:!1,showQ:!1,showChange:!0,register:!1,token:s}):this.setState({wrongA:!0});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendAnswersToServer",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s,n,r,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){for(r in(a={}).UserID=localStorage.getItem("UserId"),a.QuestionnaireID=parseInt(this.state.questionnaireId),a.ValidTime=(new Date).getTime(),s=[],n=0,t)if(Object.prototype.hasOwnProperty.call(t,r)){if((i={}).QuestionID=n,n++,o=[],Array.isArray(t[r]))for(l=0;l<t[r].length;l++)o.push(t[r][l].answerID);else Object.prototype.hasOwnProperty.call(t[r],"answerID")?o.push(t[r].answerID):o.push(parseInt(t[r]));i.AnswerID=o,s.push(i)}a.Answers=s,console.log(a),this.sendParsedResultToServer(a)}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;a(187),K.nouislider(X),K.emotionsratings(X);var t=new X.Model(this.state.json);return t.onComplete.add((function(t){console.log(JSON.stringify(t.data,null,3)),e.sendAnswersToServer(t.data),window.location.href="http://localhost:3000/ModaMedicWeb/questionnaires"})),n.a.createElement(X.Survey,{model:t,showQuestionNumbers:"on"})}}]),s}(s.Component),te=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var a;if(Object(o.a)(this,s),a=t.call(this),e.user&&sessionStorage.getItem("doctor"))for(var n=!1,r=!1,i=!1,l=!1,c=0;c<e.user.Questionnaires.length;c++)1===e.user.Questionnaires[c].QuestionnaireID?n=!0:2===e.user.Questionnaires[c].QuestionnaireID?r=!0:3===e.user.Questionnaires[c].QuestionnaireID?i=!0:5===e.user.Questionnaires[c].QuestionnaireID&&(l=!0);return a.state={user:e.user,showPopup:!1,showPopupQ:!1,new_date:"",Questionnaires:[],quest1:!1,quest2:n,quest3:r,quest4:i,quest5:l,quest6:!1,questionnairesArr:[],questionnairesArrDoctor:[],type:sessionStorage.getItem("type"),firstTime:!0},a.presentQuestionnaire=a.presentQuestionnaire.bind(Object(g.a)(a)),a.presentQuestionnaire(),a.changeDate=a.changeDate.bind(Object(g.a)(a)),a.togglePopup=a.togglePopup.bind(Object(g.a)(a)),a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.togglePopupQ=a.togglePopupQ.bind(Object(g.a)(a)),a.handleSubmitQ=a.handleSubmitQ.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"presentQuestionnaire",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sessionStorage.getItem("patient")){e.next=6;break}return" https://moda-medic.herokuapp.com/auth/usersAll/getUserQuestionnaire",e.next=4,y.a.get(" https://moda-medic.herokuapp.com/auth/usersAll/getUserQuestionnaire",{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 4:if((t=e.sent).data.data){for(a=[],s=0;s<t.data.data.length;s++)a.push([t.data.data[s].QuestionnaireID,t.data.data[s].QuestionnaireText]);this.setState({questionnairesArr:a})}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(D.a)({},a,r)):this.setState(Object(D.a)({},a,s))}},{key:"handleSubmitQ",value:function(e){var t=this;if(e.preventDefault(),sessionStorage.getItem("doctor")){var a=[];this.state.quest2&&a.push({QuestionnaireID:1,QuestionnaireText:"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05d1 \u05ea\u05d7\u05ea\u05d5\u05df"}),this.state.quest3&&a.push({QuestionnaireID:2,QuestionnaireText:"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05e6\u05d5\u05d5\u05d0\u05e8"}),this.state.quest4&&a.push({QuestionnaireID:3,QuestionnaireText:"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05e3 \u05ea\u05d7\u05ea\u05d5\u05df"}),this.state.quest5&&a.push({QuestionnaireID:5,QuestionnaireText:"\u05d0\u05d9\u05db\u05d5\u05ea \u05d7\u05d9\u05d9\u05dd"});var s=this.props.user.UserID;y.a.post(" https://moda-medic.herokuapp.com/auth/usersAll/changeUserQuestionnaire",{UserID:s,Questionnaires:a},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}).then((function(e){window.alert("\u05d4\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05e9\u05d5\u05e0\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),t.setState({questionnairesArrDoctor:a.map((function(e){return e.QuestionnaireText})),showPopupQ:!t.state.showPopupQ})}))}}},{key:"changeQuest",value:function(){this.togglePopupQ()}},{key:"changeDate",value:function(){this.togglePopup()}},{key:"togglePopupQ",value:function(){this.setState({showPopupQ:!this.state.showPopupQ})}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"PopupQ",value:function(){return a(113),n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_innerCQ"},n.a.createElement("div",{className:"line_x"},n.a.createElement("button",{onClick:this.togglePopupQ,id:"x"},"x")),n.a.createElement("h4",{id:"h4C"},"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd"),n.a.createElement("form",{id:"formQ",onSubmit:this.handleSubmitQ},n.a.createElement("div",{className:"line"},n.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest2",checked:this.state.quest2,onChange:this.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05d1 \u05ea\u05d7\u05ea\u05d5\u05df")),n.a.createElement("div",{className:"line"},n.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest3",checked:this.state.quest3,onChange:this.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05e6\u05d5\u05d5\u05d0\u05e8")),n.a.createElement("div",{className:"line"},n.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest4",checked:this.state.quest4,onChange:this.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05e3 \u05ea\u05d7\u05ea\u05d5\u05df")),n.a.createElement("div",{className:"line"},n.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest5",checked:this.state.quest5,onChange:this.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05d0\u05d9\u05db\u05d5\u05ea \u05d7\u05d9\u05d9\u05dd")),n.a.createElement("button",{id:"changeQ",type:"sumbit"},"\u05e9\u05d9\u05e0\u05d5\u05d9"))))}},{key:"render",value:function(){var e=this;a(74);if(this.props.user&&this.state.firstTime){for(var t=0;t<this.props.user.Questionnaires.length;t++)0!==this.props.user.Questionnaires[t].QuestionnaireID&&6!==this.props.user.Questionnaires[t].QuestionnaireID&&this.state.questionnairesArrDoctor.push(this.props.user.Questionnaires[t].QuestionnaireText);this.state.firstTime=!1}return n.a.createElement("div",null,"patient"===this.state.type?n.a.createElement("div",{style:{alignRight:"auto",alignLeft:"auto",textWeight:"large"}},n.a.createElement("table",{id:"customers",style:{alignRight:"auto",alignLeft:"auto",textWeight:"large"}},n.a.createElement("thead",{style:{alignRight:"auto",alignLeft:"auto",textWeight:"large"}},n.a.createElement("h6",null,n.a.createElement("b",null,"\u05de\u05d8\u05d5\u05e4\u05dc \u05d9\u05e7\u05e8,")),n.a.createElement("h6",null,n.a.createElement("b",null,"\u05dc\u05e4\u05e0\u05d9\u05da \u05d4\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05d4\u05de\u05d5\u05d2\u05d3\u05e8\u05d9\u05dd \u05db\u05d7\u05dc\u05e7 \u05de\u05d8\u05d9\u05e4\u05d5\u05dc\u05da. \u05d0\u05e0\u05d0 \u05dc\u05d7\u05e5 \u05e2\u05dc \u05d4\u05e9\u05d0\u05dc\u05d5\u05df \u05d4\u05de\u05d1\u05d5\u05e7\u05e9 \u05dc\u05e6\u05d5\u05e8\u05da \u05de\u05e2\u05e0\u05d4")),n.a.createElement("h6",null,n.a.createElement("b",null,"\u05ea\u05d5\u05d3\u05d4 \u05e2\u05dc \u05e9\u05d9\u05ea\u05d5\u05e3 \u05d4\u05e4\u05e2\u05d5\u05dc\u05d4!"))),n.a.createElement("tr",{style:{width:"50%",textWeight:"large"}},this.state.questionnairesArr.map((function(e){return n.a.createElement("th",{id:"mdd",scope:"row",style:{width:"100%",textWeight:"large"}},n.a.createElement("u",null,n.a.createElement(h.b,{to:"/userQuestionnaire/".concat(e[0])}," ",e[1])))})))),n.a.createElement("br",null),n.a.createElement("div",null)):"doctor"===this.state.type&&this.props.user?n.a.createElement("div",{style:{alignRight:"auto",alignLeft:"auto",textWeight:"large"}},n.a.createElement("thead",{style:{alignRight:"auto",alignLeft:"auto",textWeight:"large"}},n.a.createElement("h4",null,n.a.createElement("b",null,'\u05dc\u05e4\u05e0\u05d9\u05da \u05d4\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05d4\u05de\u05d5\u05ea\u05d0\u05de\u05d9\u05dd \u05dc\u05de\u05d8\u05d5\u05e4\u05dc \u05d4\u05e0"\u05dc:'))),n.a.createElement("table",{id:"customers",style:{alignRight:"auto",alignLeft:"auto",textWeight:"large"}},n.a.createElement("thead",{style:{alignRight:"auto",alignLeft:"auto",textWeight:"large"}}),n.a.createElement("tr",{style:{width:"50%",textWeight:"large"}},this.state.questionnairesArrDoctor.map((function(e){return n.a.createElement("th",{id:"mdd",scope:"row",style:{width:"100%",textWeight:"large"}},n.a.createElement("a",null," ",e))})))),n.a.createElement("button",{className:"changeDate",onClick:function(){return e.changeQuest()}},"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05d4\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd")):null,n.a.createElement("div",null,n.a.createElement("img",{className:"imageBox",src:"https://image.freepik.com/free-photo/doctor-filling-up-life-insurance-form_53876-20493.jpg",style:{width:450,borderColor:"black"}})),this.state.showPopupQ?this.PopupQ():null)}}]),s}(s.Component),ae=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s),e=t.call(this);var a=new Date,n=new Date;n.setMonth(n.getMonth()-3);var r=n.toISOString().split("T")[0];console.log(r);var i=a.toISOString().split("T")[0];return e.state={end_date:i,start_date:r,steps:!0,distance:!0,weather:!0,calories:!0,sleeping_hours:!0,dataArr:[],periodicAnswers:[],dailyA:[],dailyQ:!0,perQ:!0,date:0,showDaily:!0,weekly:!1,monthly:!1,user:{},ready:!1,todayDate:i,className:"normal"},e.handleChange=e.handleChange.bind(Object(g.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(g.a)(e)),e.getRequest=e.getRequest.bind(Object(g.a)(e)),e.selectUser=e.selectUser.bind(Object(g.a)(e)),e}return Object(l.a)(s,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(D.a)({},a,r)):this.setState(Object(D.a)({},a,s)),"showDaily"===a?this.setState({showDaily:!0,weekly:!1,monthly:!1}):"weekly"===a?this.setState({showDaily:!1,weekly:!0,monthly:!1}):"monthly"===a&&this.setState({showDaily:!1,weekly:!1,monthly:!0})}},{key:"getRequest",value:function(){var e=Object(f.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sessionStorage.getItem("doctor")){e.next=2;break}return e.abrupt("return",this.getDoctorRequest(t,a));case 2:if(!sessionStorage.getItem("patient")){e.next=4;break}return e.abrupt("return",this.getPatientRequest(t,a));case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getDoctorRequest",value:function(){var e=Object(f.a)(d.a.mark((function e(t,a){var s,n,r,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.patientUserId){e.next=10;break}return s=" https://moda-medic.herokuapp.com/auth/doctors/"+a+"?UserID="+this.props.patientUserId,""!==this.state.start_date&&(n=new Date(this.state.start_date),r=n.getTime(),s+="&start_time="+r),""!==this.state.end_date&&(n=new Date(this.state.end_date),n=new Date(n.getTime()+864e5),i=n.getTime(),s+="&end_time="+i),e.next=6,y.a.get(s,{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 6:if("Not Found"!==(o=e.sent).data.message){e.next=9;break}return e.abrupt("return",null);case 9:return e.abrupt("return",{values:o.data.data,name:t,numOfUsers:o.data.data.length});case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getPatientRequest",value:function(){var e=Object(f.a)(d.a.mark((function e(t,a){var s,n,r,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=" https://moda-medic.herokuapp.com/auth/patients/".concat(a),""!==this.state.start_date&&(r=new Date(this.state.start_date),n=r.getTime()),""!==this.state.end_date&&(r=new Date(this.state.end_date),r=new Date(r.getTime()+864e5),i=r.getTime()),console.log(s),e.next=6,y.a.get(s,{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")},params:{start_time:n,end_time:i}});case 6:return o=e.sent,e.abrupt("return",{values:o.data.data,name:t,numOfUsers:o.data.data.length});case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"selectUser",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s,n,r,i,o,l,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=this.state.dataArr,s=this.state.dailyA,n=[],o=0;o<this.state.numOfUsers;o++)s[o]&&s[o].UserID.BirthDate===t&&(n=s[o].docs,i=s[o].UserID.DateOfSurgery,r=s[o].UserID);for(o=0;o<this.state.questionnaire.values.length;o++)this.state.questionnaire.values[o].UserID.BirthDate===t&&(this.state.periodicAnswers.push(this.state.questionnaire.values[o].docs),i=this.state.questionnaire.values[o].UserID.DateOfSurgery,r=this.state.questionnaire.values[o].UserID);for(o=0;o<a.length;o++)if(l=[],a[o]){for(c=0;c<a[o].values.length;c++)a[o].values[c].UserID.BirthDate===t&&(l=a[o].values[c].docs,i=a[o].values[c].UserID.DateOfSurgery,r=a[o].values[c].UserID);a[o].values=l}this.setState({dataArr:a,dailyA:n,date:i,user:r,ready:!0,className:"normal"});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s,n,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),this.setState({ready:!1,className:"waiting",periodicAnswers:[]}),a=0,s=[],e.next=6,this.getRequest("\u05e6\u05e2\u05d3\u05d9\u05dd","metrics/getSteps");case 6:if(n=e.sent){e.next=10;break}return window.alert("\u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05de\u05d8\u05d5\u05e4\u05dc"),e.abrupt("return");case 10:return n.values[0].docs.length>0&&s.push(n),n.numOfUsers>a&&(a=n.numOfUsers),e.next=14,this.getRequest("\u05de\u05e8\u05d7\u05e7","metrics/getDistance");case 14:return(n=e.sent).values[0].docs.length>0&&s.push(n),n.numOfUsers>a&&(a=n.numOfUsers),e.next=19,this.getRequest("\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea","metrics/getCalories");case 19:return(n=e.sent).values[0].docs.length>0&&s.push(n),n.numOfUsers>a&&(a=n.numOfUsers),e.next=24,this.getRequest("\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8","metrics/getWeather");case 24:return(n=e.sent).values[0].docs.length>0&&s.push(n),n.numOfUsers>a&&(a=n.numOfUsers),e.next=29,this.getRequest("\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4","metrics/getSleep");case 29:return(n=e.sent).values[0].docs.length>0&&s.push(n),n.numOfUsers>a&&(a=n.numOfUsers),e.next=34,this.getRequest("\u05ea\u05e9\u05d5\u05d1\u05d5\u05ea \u05d9\u05d5\u05de\u05d9\u05d5\u05ea","answers/getDailyAnswers");case 34:return(n=e.sent).numOfUsers>a&&(a=n.numOfUsers),e.next=38,this.getRequest("\u05e9\u05d0\u05dc\u05d5\u05df \u05ea\u05e7\u05d5\u05e4\u05ea\u05d9","answers/getPeriodicAnswers");case 38:r=e.sent,this.setState({dataArr:s,dailyA:n.values,numOfUsers:a,questionnaire:r}),1===a?((i=this.state.dailyA[0].UserID.BirthDate)||(i=this.state.periodicAnswers[0].UserID.BirthDate),i||(i=this.state.dataArr[0][0].UserID.BirthDate),this.selectUser(i)):alert("More than 1 user found!!!!!");case 41:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){a(72);var e=(new Date).toISOString().split("T")[0];return n.a.createElement("div",null,n.a.createElement("div",{className:"dates"},n.a.createElement("label",{className:"cSearch"},"\u05d1\u05d7\u05e8 \u05ea\u05d0\u05e8\u05d9\u05db\u05d9\u05dd: \u05de"),n.a.createElement("input",{className:"dSearch",type:"date",name:"start_date",value:this.state.start_date,onChange:this.handleChange,max:this.state.end_date}),n.a.createElement("label",{className:"aSearch"},"\u05e2\u05d3"),n.a.createElement("input",{className:"dSearch",type:"date",name:"end_date",value:this.state.end_date,onChange:this.handleChange,max:e})),n.a.createElement("div",{className:"mdd"},n.a.createElement("label",{className:"mLabel"},"\u05d1\u05d7\u05e8 \u05de\u05d3\u05d3\u05d9\u05dd:"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"steps",checked:this.state.steps,onChange:this.handleChange})," ",n.a.createElement("p",{class:"space"}),n.a.createElement("label",{className:"mLabel"},"\u05e6\u05e2\u05d3\u05d9\u05dd"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"distance",checked:this.state.distance,onChange:this.handleChange}),n.a.createElement("p",{className:"space"}),n.a.createElement("label",{className:"mLabel"},"\u05de\u05e8\u05d7\u05e7"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"weather",checked:this.state.weather,onChange:this.handleChange}),n.a.createElement("p",{className:"space"}),n.a.createElement("label",{className:"mLabel"},"\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"calories",checked:this.state.calories,onChange:this.handleChange}),n.a.createElement("p",{className:"space"}),n.a.createElement("label",{className:"mLabel"},"\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"sleeping_hours",checked:this.state.sleeping_hours,onChange:this.handleChange}),n.a.createElement("p",{className:"space"}),n.a.createElement("label",{className:"mLabel"},"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"dailyQ",checked:this.state.dailyQ,onChange:this.handleChange}),n.a.createElement("p",{className:"space"}),n.a.createElement("label",{className:"mLabel"},"\u05e9\u05d0\u05dc\u05d5\u05df \u05d9\u05d5\u05de\u05d9"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"perQ",checked:this.state.perQ,onChange:this.handleChange}),n.a.createElement("p",{className:"space"}),n.a.createElement("label",{className:"mLabel"},"\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05ea\u05e7\u05d5\u05e4\u05ea\u05d9\u05d9\u05dd")),n.a.createElement("div",{className:"mddShow"},n.a.createElement("label",{className:"mLabel"},"\u05d1\u05d7\u05e8 \u05d0\u05d5\u05e4\u05df \u05d4\u05e6\u05d2\u05d4:"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"showDaily",checked:this.state.showDaily,onChange:this.handleChange}),n.a.createElement("p",{className:"space"}),n.a.createElement("label",{className:"mLabel"},"\u05d9\u05d5\u05de\u05d9"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"weekly",checked:this.state.weekly,onChange:this.handleChange}),n.a.createElement("p",{className:"space"}),n.a.createElement("label",{className:"mLabel"},"\u05e9\u05d1\u05d5\u05e2\u05d9"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"monthly",checked:this.state.monthly,onChange:this.handleChange}),n.a.createElement("p",{className:"space"}),n.a.createElement("label",{className:"mLabel"},"\u05d7\u05d5\u05d3\u05e9\u05d9")),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("button",null,"\u05d4\u05e6\u05d2 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea")),n.a.createElement("br",null),n.a.createElement(q,{dataArr:this.state.dataArr,steps:this.state.steps,distance:this.state.distance,calories:this.state.calories,weather:this.state.weather,sleep:this.state.sleeping_hours,dailyA:this.state.dailyA,periodicAnswers:this.state.periodicAnswers,dailyQ:this.state.dailyQ,perQ:this.state.perQ,date:this.state.date,showDaily:this.state.showDaily,weekly:this.state.weekly,monthly:this.state.monthly,user:this.state.user,ready:this.state.ready}))}}]),s}(s.Component),se=a(123),ne=a(124),re=a.n(ne),ie=a(258),oe=a(256),le=a(125),ce={name:"my-map",areas:[{name:"knee",shape:"circle",coords:[330,300,5],preFillColor:"#ff1313",fillColor:"white",lineWidth:1},{name:"neck",shape:"circle",coords:[350,80,5],preFillColor:"#ff1313",fillColor:"white",lineWidth:1},{name:"back",shape:"circle",coords:[350,170,5],preFillColor:"#ff1313",fillColor:"white",lineWidth:1},{name:"shoulder",shape:"circle",coords:[310,95,5],preFillColor:"#ff1313",fillColor:"white",lineWidth:1},{name:"elbow",shape:"circle",coords:[255,105,5],preFillColor:"#ff1313",fillColor:"white",lineWidth:1},{name:"ankle",shape:"circle",coords:[333,382,5],preFillColor:"#ff1313",fillColor:"white",lineWidth:1},{name:"hip",shape:"circle",coords:[325,200,5],preFillColor:"#ff1313",fillColor:"white",lineWidth:1}]},ue=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).onFileChange=function(e){r.setState({selectedFile:e.target.files[0]})},r.downloadFile=function(e){y()({url:"https://moda-medic.herokuapp.com/auth/usersAll/instructions/".concat(e.InstructionId),method:"GET",responseType:"blob",headers:{"x-auth-token":sessionStorage.getItem("token")}}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=a,s.setAttribute("download","".concat(e.Title,".pdf")),document.body.appendChild(s),s.click()}))},r.onFileUpload=function(){(new FormData).append("myFile",r.state.selectedFile,r.state.selectedFile.name),console.log(r.state.selectedFile)},r.fileData=function(){return r.state.selectedFile?n.a.createElement("div",null,n.a.createElement("h2",null,"File Details:"),n.a.createElement("p",null,"File Name: ",r.state.selectedFile.name),n.a.createElement("p",null,"File Type: ",r.state.selectedFile.type)):n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement("h4",null,"Choose before Pressing the Upload button"))},r.state={instructions:void 0,instructionsForGrid:[],headerNames:{knee:"\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc\u05d9 \u05e9\u05d9\u05e7\u05d5\u05dd - \u05d1\u05e8\u05da",shoulder:"\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc\u05d9 \u05e9\u05d9\u05e7\u05d5\u05dd - \u05db\u05ea\u05e3",hip:"\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc\u05d9 \u05e9\u05d9\u05e7\u05d5\u05dd - \u05d9\u05e8\u05da",ankle:"\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc\u05d9 \u05e9\u05d9\u05e7\u05d5\u05dd - \u05e7\u05e8\u05e1\u05d5\u05dc",elbow:"\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc\u05d9 \u05e9\u05d9\u05e7\u05d5\u05dd - \u05de\u05e8\u05e4\u05e7",back:"\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc\u05d9 \u05e9\u05d9\u05e7\u05d5\u05dd - \u05d2\u05d1",neck:"\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc\u05d9 \u05e9\u05d9\u05e7\u05d5\u05dd - \u05e6\u05d5\u05d5\u05d0\u05e8"},categoryToImage:{knee:a(189),shoulder:a(190),hip:a(191),ankle:a(192),elbow:a(193),back:a(194),neck:a(195)},instructionsByCategory:{},showInstructions:!1,showPopup:!1,selectedFile:null,newInstructionCategory:"knee",newInstructionTitle:"",categories:{"\u05d1\u05e8\u05da":"knee","\u05d2\u05d1":"back","\u05db\u05ea\u05e3":"shoulder","\u05d9\u05e8\u05da":"hip","\u05e7\u05e8\u05e1\u05d5\u05dc":"ankle","\u05de\u05e8\u05e4\u05e7":"elbow","\u05e6\u05d5\u05d5\u05d0\u05e8":"neck"},area:void 0},r.getInstructions=r.getInstructions.bind(Object(g.a)(r)),r.changePdfToShow=r.changePdfToShow.bind(Object(g.a)(r)),r.getInitialState=r.getInitialState.bind(Object(g.a)(r)),r.load=r.load.bind(Object(g.a)(r)),r.clicked=r.clicked.bind(Object(g.a)(r)),r.clickedOutside=r.clickedOutside.bind(Object(g.a)(r)),r.moveOnImage=r.moveOnImage.bind(Object(g.a)(r)),r.enterArea=r.enterArea.bind(Object(g.a)(r)),r.leaveArea=r.leaveArea.bind(Object(g.a)(r)),r.moveOnArea=r.moveOnArea.bind(Object(g.a)(r)),r.getTipPosition=r.getTipPosition.bind(Object(g.a)(r)),r.togglePopup=r.togglePopup.bind(Object(g.a)(r)),r.selectFile=r.selectFile.bind(Object(g.a)(r)),r.upload=r.upload.bind(Object(g.a)(r)),r.uploadFile=r.uploadFile.bind(Object(g.a)(r)),r.onSelectCategoryChosen=r.onSelectCategoryChosen.bind(Object(g.a)(r)),r.handleChange=r.handleChange.bind(Object(g.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(g.a)(r)),r}return Object(l.a)(s,[{key:"getInitialState",value:function(){return{hoveredArea:null,msg:null,moveMsg:null}}},{key:"load",value:function(){}},{key:"clicked",value:function(e){e.name===this.state.category?this.setState({showInstructions:!this.state.showInstructions,category:""}):this.setState({category:e.name,showInstructions:!0},this.focusOnInstructions)}},{key:"focusOnInstructions",value:function(){this.state.showInstructions&&document.getElementById("inst").scrollIntoView()}},{key:"clickedOutside",value:function(e){var t={x:e.nativeEvent.layerX,y:e.nativeEvent.layerY};this.setState({msg:"You clicked on the image at coords ".concat(JSON.stringify(t)," !")})}},{key:"moveOnImage",value:function(e){e.nativeEvent.layerX,e.nativeEvent.layerY;this.setState({moveMsg:" "})}},{key:"enterArea",value:function(e){this.setState({hoveredArea:e,msg:"You entered ".concat(e.shape," ").concat(e.name," at coords ").concat(JSON.stringify(e.coords)," !")})}},{key:"leaveArea",value:function(e){this.setState({hoveredArea:null})}},{key:"moveOnArea",value:function(e,t){t.nativeEvent.layerX,t.nativeEvent.layerY;this.setState({moveMsg:" \u05dc\u05d7\u05e5 \u05dc\u05d4\u05e6\u05d2\u05ea "+this.state.headerNames["".concat(e.name)],currArea:e,hoveredArea:e})}},{key:"getTipPosition",value:function(e){return{top:"".concat(e.center[1],"px"),left:"".concat(e.center[0],"px")}}},{key:"componentDidMount",value:function(){this.getInstructions()}},{key:"getInstructions",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(" https://moda-medic.herokuapp.com/auth/usersAll/instructions",{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 2:if((t=e.sent).data.data){for(a=[],s=0;s<t.data.data.length;s++)a.push(t.data.data[s]);for(n=[],s=0;s<a.length;s+=2)a[s+1]?n.push({obj1:a[s],obj2:a[s+1]}):n.push({obj1:a[s],obj2:{}});this.setState({instructions:a,instructionsForGrid:n,instructionsByCategory:this.groupArrayOfObjects(a,"Category")})}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"groupArrayOfObjects",value:function(e,t){return e.reduce((function(e,a){return(e[a[t]]=e[a[t]]||[]).push(a),e}),{})}},{key:"changePdfToShow",value:function(e){console.log(e),this.state.pdfToShow===e?this.setState({pdfToShow:null}):this.setState({pdfToShow:e,showPopup:!0})}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"onSelectCategoryChosen",value:function(e){var t=this.state.categories[e.target.options[e.target.options.selectedIndex].label];this.setState({newInstructionCategory:t})}},{key:"uploadFile",value:function(e,t,a,s){var n=new FormData;return n.append("Category",e),n.append("Title",t),n.append("pdf",a),y.a.post("https://moda-medic.herokuapp.com/auth/doctors/instructions",n,{headers:{"Content-Type":"multipart/form-data","x-auth-token":sessionStorage.getItem("token")},onUploadProgress:s})}},{key:"selectFile",value:function(e){this.setState({selectedFiles:e.target.files})}},{key:"upload",value:function(){var e=this,t=this.state.selectedFiles[0];this.setState({progress:0,currentFile:t}),this.uploadFile(this.state.newInstructionCategory,this.state.newInstructionTitle,t,(function(t){e.setState({progress:Math.round(100*t.loaded/t.total)})})).then((function(t){e.setState({message:t.data.message}),window.alert("\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc \u05d4\u05d5\u05e2\u05dc\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!"),e.setState({newInstructionTitle:"",progress:0,currentFile:void 0,selectedFiles:void 0}),e.getInstructions()})).catch((function(){e.setState({progress:0,message:"Could not upload the file!",currentFile:void 0,selectedFiles:void 0})})),this.setState({selectedFiles:void 0})}},{key:"removeInstruction",value:function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sessionStorage.getItem("doctor")){e.next=6;break}if(!window.confirm("\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d0\u05ea\u05d4 \u05e8\u05d5\u05e6\u05d4 \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea \u05d4\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc?")){e.next=6;break}return e.next=5,y.a.delete(" https://moda-medic.herokuapp.com/auth/doctors/instructions/".concat(t),{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 5:this.getInstructions();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){"newInstructionTitle"===e.target.name&&this.setState(Object(D.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.upload()}},{key:"renderUploadFile",value:function(){var e=this,t=this.state,a=t.selectedFiles,s=t.currentFile,r=t.progress,i=t.message,o=Object.keys(this.state.categories).map((function(e){return n.a.createElement("option",{key:e},e)}));return n.a.createElement("div",null,n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"divs_in_add_pdf"},n.a.createElement("label",{className:"labels_in_add_instructions"},"\u05db\u05d5\u05ea\u05e8\u05ea \u05d4\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc: "),n.a.createElement("input",{className:"inputs_in_add_instructions",name:"newInstructionTitle",type:"text",value:this.state.newInstructionTitle,onChange:function(t){return e.handleChange(t)},required:!0})),n.a.createElement("div",{className:"divs_in_add_pdf"},n.a.createElement("label",{className:"labels_in_add_instructions"},"\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d9\u05ea \u05d4\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc:    "),n.a.createElement("select",{className:"select_in_add_instructions",onChange:this.onSelectCategoryChosen,required:!0},o)),n.a.createElement("br",null),n.a.createElement("br",null),s&&n.a.createElement("div",{className:"progress"},n.a.createElement("div",{className:"progress-bar progress-bar-info progress-bar-striped",role:"progressbar","aria-valuenow":r,"aria-valuemin":"0","aria-valuemax":"100",style:{width:r+"%"}},r,"%")),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("label",{className:"btn btn-default"},n.a.createElement("input",{type:"file",onChange:this.selectFile})),n.a.createElement("button",{className:"btn btn-primary",disabled:!a,type:"submit"},"\u05d4\u05e2\u05dc\u05d0\u05ea \u05d4\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05dc"),n.a.createElement("div",{className:"alert alert-light",role:"alert"},i)))}},{key:"render",value:function(){var e=this;return a(196),n.a.createElement("div",{className:"presenter"},n.a.createElement(oe.a,{container:!0,spacing:2},n.a.createElement(oe.a,{item:!0,xs:6},n.a.createElement("br",null),sessionStorage.getItem("patient")&&n.a.createElement("img",{style:{width:"100%",marginLeft:"auto"},src:a(197)}),sessionStorage.getItem("doctor")&&this.renderUploadFile()),n.a.createElement(oe.a,{item:!0,xs:6},n.a.createElement("div",null,n.a.createElement("pre",{className:"message"},this.state.msg?this.state.msg:null),n.a.createElement("pre",null,this.state.moveMsg?this.state.moveMsg:null),n.a.createElement("div",{style:{width:"100%",position:"relative"}},n.a.createElement(re.a,{src:"https://modernorthonj.com/wp-content/uploads/2020/03/body-schematic-transparent-2048x1257.jpg",map:ce,width:700,onLoad:function(){return e.load()},onClick:function(t){return e.clicked(t)},onMouseMove:function(t,a,s){return e.moveOnArea(t,s)},onImageMouseMove:function(t){return e.moveOnImage(t)},lineWidth:4,strokeColor:"white"}),this.state.hoveredArea&&n.a.createElement("span",{className:"tooltip",style:Object(se.a)({},this.getTipPosition(this.state.hoveredArea))},this.state.hoveredArea&&this.state.hoveredArea.name))))),n.a.createElement("div",{id:"inst"},n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h2",{className:"insth2"},this.state.headerNames[this.state.category])),n.a.createElement("div",null,this.state.category&&!this.state.instructionsByCategory[this.state.category]&&n.a.createElement("div",null,n.a.createElement("h3",null,"\u05d0\u05d9\u05df \u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc\u05d9\u05dd \u05d1\u05ea\u05d7\u05d5\u05dd \u05d6\u05d4")),n.a.createElement(oe.a,{container:!0,spacing:2},this.state.showInstructions&&this.state.instructionsByCategory[this.state.category]&&this.state.instructionsByCategory[this.state.category].map((function(t){return n.a.createElement(oe.a,{item:!0,xs:5,style:{marginLeft:50}},n.a.createElement(v.a,{id:"cardInstruction"},n.a.createElement(ie.a,{component:"img",alt:"Contemplative Reptile",height:"200",image:e.state.categoryToImage[t.Category],title:"Contemplative Reptile",style:{borderColor:"black"}}),n.a.createElement(v.a.Header,null,n.a.createElement("button",{onClick:function(){return e.downloadFile(t)}},n.a.createElement("b",null,t.Title),n.a.createElement(le.a,{style:{float:"left"}})))),sessionStorage.getItem("doctor")&&n.a.createElement(z.a,{type:"button",class:"trushIcon",style:{color:"black"},size:20,onClick:function(){return e.removeInstruction(t.InstructionId)}}))})))))}}]),s}(s.Component),he=a(132),pe=a(126),me=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={exercises:void 0,exercisesGrid:void 0,newExerciseUrl:"",newExerciseCategory:"\u05d1\u05e8\u05da",categories:["\u05d1\u05e8\u05da","\u05d2\u05d1","\u05db\u05ea\u05e3","\u05e7\u05e8\u05e1\u05d5\u05dc","\u05d9\u05e8\u05da","\u05de\u05e8\u05e4\u05e7","\u05d2\u05d1"]},a.getExercises=a.getExercises.bind(Object(g.a)(a)),a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.onSelectCategoryChosen=a.onSelectCategoryChosen.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getExercises()}},{key:"getExercises",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(" https://moda-medic.herokuapp.com/auth/usersAll/exercises",{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 2:for(t=e.sent,this.setState({exercises:t.data.data}),a=[],s=0;s<this.state.exercises.length;s+=2)this.state.exercises[s+1]?a.push({obj1:this.state.exercises[s],obj2:this.state.exercises[s+1]}):a.push({obj1:this.state.exercises[s],obj2:{}}),this.setState({exercisesGrid:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){e.preventDefault(),this.addExercise(),this.setState({newExerciseUrl:""}),this.getExercises()}},{key:"addExercise",value:function(){for(var e=new URL(this.state.newExerciseUrl).searchParams.get("v"),t=0;t<this.state.exercises.length;t++)if(this.state.exercises[t].Video===e)return window.alert("\u05d4\u05e1\u05e8\u05d8\u05d5\u05df \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd \u05d1\u05de\u05d0\u05d2\u05e8"),void this.setState({newExerciseUrl:""});y.a.post(" https://moda-medic.herokuapp.com/auth/doctors/exercises",{category:this.state.newExerciseCategory,url:e},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}),window.alert("\u05d4\u05e1\u05e8\u05d8\u05d5\u05df \u05e0\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!"),this.getExercises()}},{key:"handleChange",value:function(e){"newExerciseUrl"===e.target.name&&this.setState(Object(D.a)({},e.target.name,e.target.value))}},{key:"onSelectCategoryChosen",value:function(e){this.setState({newExerciseCategory:this.state.categories[e.target.options.selectedIndex]})}},{key:"removeExercise",value:function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sessionStorage.getItem("doctor")){e.next=6;break}if(1!=window.confirm("\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d0\u05ea\u05d4 \u05e8\u05d5\u05e6\u05d4 \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea \u05d4\u05e1\u05e8\u05d8\u05d5\u05df?")){e.next=6;break}return e.next=5,y.a.delete(" https://moda-medic.herokuapp.com/auth/doctors/exercises/removeExercise/".concat(t),{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 5:this.getExercises();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;a(209);var t=void 0;this.state.exercises&&(t=this.state.exercises.reduce((function(e,t){return e[t.Category]=[].concat(Object(he.a)(e[t.Category]||[]),[t]),e}),{}));var s={height:"350",width:"400",playerVars:{autoplay:0}},r=this.state.categories.map((function(e){return n.a.createElement("option",{key:e},e)}));return n.a.createElement("div",null,sessionStorage.getItem("doctor")&&n.a.createElement("div",null,n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("h5",null,"\u05de\u05d8\u05e4\u05dc/\u05ea \u05d9\u05e7\u05e8/\u05d4,"),n.a.createElement("h5",null,"\u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05e1\u05e8\u05d8\u05d5\u05df \u05dc\u05de\u05d0\u05d2\u05e8, \u05d0\u05e0\u05d0 \u05d4\u05e2\u05ea\u05e7 \u05d0\u05ea \u05e7\u05d9\u05e9\u05d5\u05e8 \u05d4-Youtube \u05dc\u05d7\u05dc\u05d5\u05df \u05d4\u05e0\u05db\u05d5\u05df \u05d5\u05d1\u05d7\u05e8 \u05d0\u05ea \u05d4\u05d0\u05d9\u05d1\u05e8 \u05d4\u05e9\u05d9\u05d9\u05da \u05dc\u05d8\u05d9\u05e4\u05d5\u05dc \u05d1\u05e1\u05e8\u05d8\u05d5\u05df \u05d6\u05d4."),n.a.createElement("h5",null,"\u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05de\u05d7\u05d5\u05e7 \u05e1\u05e8\u05d8\u05d5\u05df, \u05d9\u05e9 \u05dc\u05dc\u05d7\u05d5\u05e5 \u05e2\u05dc \u05db\u05e4\u05ea\u05d5\u05e8 \u05d4\u05de\u05d7\u05d9\u05e7\u05d4 \u05ea\u05d7\u05ea \u05d4\u05e1\u05e8\u05d8\u05d5\u05df \u05d4\u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9."),n.a.createElement("label",{className:"labels_in_add_user"},"\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05e1\u05e8\u05d8\u05d5\u05df:"),n.a.createElement("input",{className:"inputs_in_add_user",name:"newExerciseUrl",type:"url",value:this.state.newExerciseUrl,onChange:function(t){return e.handleChange(t)},required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d9\u05ea \u05d4\u05e1\u05e8\u05d8\u05d5\u05df: "),n.a.createElement("select",{className:"select_in_add_user",onChange:this.onSelectCategoryChosen},r)),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("input",{type:"submit",value:"\u05d4\u05d5\u05e1\u05e3",className:"submit_and_reset_buttons"})))),sessionStorage.getItem("patient")&&n.a.createElement("div",null,n.a.createElement("a",null,n.a.createElement("b",null,"\u05de\u05d8\u05d5\u05e4\u05dc/\u05ea \u05d9\u05e7\u05e8/\u05d4!")),n.a.createElement("br",null),n.a.createElement("a",null,n.a.createElement("b",null,"\u05dc\u05e4\u05e0\u05d9\u05da \u05de\u05d0\u05d2\u05e8 \u05ea\u05e8\u05d2\u05d5\u05dc\u05d9 \u05e4\u05d9\u05d6\u05d9\u05d5\u05ea\u05e8\u05e4\u05d9\u05d4 \u05d4\u05de\u05d7\u05d5\u05dc\u05e7\u05d9\u05dd \u05dc\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d5\u05ea.")),n.a.createElement("br",null),n.a.createElement("a",null,n.a.createElement("b",null,"\u05e9\u05d9\u05dd \u05dc\u05d1! \u05d9\u05e9 \u05dc\u05d4\u05ea\u05d9\u05d9\u05e2\u05e5 \u05e2\u05dd \u05d4\u05e8\u05d5\u05e4\u05d0 \u05d4\u05de\u05d8\u05e4\u05dc \u05dc\u05e4\u05e0\u05d9 \u05d1\u05d9\u05e6\u05d5\u05e2 \u05d4\u05ea\u05e8\u05d2\u05d5\u05dc\u05d9\u05dd \u05d4\u05d1\u05d9\u05ea\u05d9\u05d9\u05dd.")),n.a.createElement("br",null),n.a.createElement("a",null,n.a.createElement("b",null,"\u05d4\u05d7\u05dc\u05de\u05d4 \u05de\u05d4\u05d9\u05e8\u05d4 \u05d5\u05d1\u05e8\u05d9\u05d0\u05d5\u05ea \u05e9\u05dc\u05de\u05d4!"))),n.a.createElement("hr",{style:{color:"darkgrey",backgroundColor:"darkgrey",height:3}}),t&&Object.keys(t).map((function(a,r){return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement(oe.a,{item:!0,xs:7},n.a.createElement("div",null,n.a.createElement("h2",{className:"exh2"},n.a.createElement("b",null,"\u05ea\u05e8\u05d2\u05d9\u05dc\u05d9 ",a)))),n.a.createElement(oe.a,{container:!0,spacing:3,style:{width:"100%",height:"100%"}},t[a].map((function(t){return n.a.createElement(oe.a,{item:!0,xs:6,style:{width:"100%",height:"100%"}},n.a.createElement(pe.a,{videoId:t.Video,opts:s,onReady:e._onReady}),sessionStorage.getItem("doctor")&&n.a.createElement(z.a,{type:"button",class:"trushIcon",style:{color:"black"},size:20,onClick:function(){return e.removeExercise(t.ExerciseId)}}))}))),n.a.createElement("hr",{style:{color:"darkgrey",backgroundColor:"darkgrey",height:3}})))})))}}]),s}(s.Component),de=a(98);de.a.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(de.a.version,"/pdf.worker.js");var fe=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={optionsPName:[],namesDiv:[],isFetchingNames:!1,users:[],pName:"",encrypName:"",showPopup:!1},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.togglePopup=a.togglePopup.bind(Object(g.a)(a)),a.fetchNamesForResearch=a.fetchNamesForResearch.bind(Object(g.a)(a)),a.handlePName=a.handlePName.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.isDoctor()&&this.fetchNamesForResearch().then((function(){return console.log("Fetch names successfully")}))}},{key:"fetchNamesForResearch",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,s,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return[],t=[],a=[],this.setState({isFetchingNames:!0}),e.next=6,y.a.get(" https://moda-medic.herokuapp.com/auth/doctors/metrics/getUsers",{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 6:if((s=e.sent).data.data)for([],n=0;n<s.data.data.length;n++)r=s.data.data[n],a.push({UserID:r.UserID}),t.push(r);this.setState({isFetchingNames:!1,namesDiv:a,users:t});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchNames",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,s,r,i,o,l,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=[],s=[],this.setState({isFetchingNames:!0}),e.next=6,y.a.get(" https://moda-medic.herokuapp.com/auth/doctors/metrics/getUsers",{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 6:if((r=e.sent).data.data){for(i=[],o=0;o<r.data.data.length;o++)l=r.data.data[o],s.push({first:l.First_Name,last:l.Last_Name}),a.push(l),i.push(l.First_Name.trim()+" "+l.Last_Name.trim());for(i=i.sort(),c=Array.from(new Set(i)),o=0;o<c.length;o++)t.push(n.a.createElement("option",{key:c[o]},c[o]))}this.setState({isFetchingNames:!1,optionsPName:t,namesDiv:s,users:a});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"handlePName",value:function(e){this.setState({pName:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s,r,i,o=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),e.next=3,y.a.post(" https://moda-medic.herokuapp.com/auth/doctors/metrics/userId",{UserID:this.state.pName},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}).then((function(e){o.setState({encrypName:e.data.data})}));case 3:for(a=[],this.state.users.forEach((function(e){o.state.encrypName===e.UserID&&(console.log("found user ".concat(e)),a.push(e))})),s=[],r=function(e){var t=a[e];new Date(t.BirthDate).toLocaleDateString("en-GB",{day:"numeric",month:"numeric",year:"numeric"});s.push(n.a.createElement(v.a,{className:"cardApp",key:t.UserID,onClick:function(){o.setState({patientUserId:t.UserID,user:t}),o.togglePopup()}},n.a.createElement(v.a.Body,{className:"cardBody"},"\u05de\u05d6\u05d4\u05d4 \u05de\u05d8\u05d5\u05e4\u05dc: ",o.state.pName.trim()," ")))},i=0;i<a.length;i++)r(i);this.setState({text:s}),this.togglePopup();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isDoctor",value:function(){return sessionStorage.getItem("doctor")}},{key:"searchPatient",value:function(){return a(72),n.a.createElement("div",null,n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"search"},n.a.createElement("label",{className:"lSearch"},"\u05d7\u05e4\u05e9 \u05de\u05d8\u05d5\u05e4\u05dc:"),n.a.createElement("input",{className:"iSearch",id:"pname",type:"text",name:"pName",value:this.state.pName,placeholder:"\u05de\u05e1\u05e4\u05e8 \u05de\u05d8\u05d5\u05e4\u05dc",onChange:this.handlePName,list:"first-list",required:!0}),n.a.createElement("button",{type:"submit",className:"bSearch"},"\u05d7\u05e4\u05e9"))),n.a.createElement("br",null),this.state.showPopup?n.a.createElement(ge,{text:this.state.text,closePopup:this.togglePopup.bind(this)}):null)}},{key:"getActiveComponent",value:function(){return"search"===this.props.component?n.a.createElement(ae,{patientUserId:this.state.patientUserId}):"messages"===this.props.component?n.a.createElement(J,{patientUserId:this.state.patientUserId}):"questionnaires"===this.props.component?n.a.createElement(te,{user:this.state.user}):"survey"===this.props.component?n.a.createElement(ee,this.props):"instructions"===this.props.component?n.a.createElement(ue,this.props):"exercises"===this.props.component?n.a.createElement(me,this.props):null}},{key:"checkIfNotSearchNeeded",value:function(){return"instructions"!==this.props.component&&"exercises"!==this.props.component}},{key:"render",value:function(){return a(231),n.a.createElement("div",null,n.a.createElement(M,null),n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement(b,null),this.isDoctor()&&this.checkIfNotSearchNeeded()&&this.searchPatient(),this.getActiveComponent(),n.a.createElement("br",null))))}}]),s}(s.Component),ge=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"popupApp"},n.a.createElement("div",{className:"popup_inner_App"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),n.a.createElement("h4",null,"\u05d0\u05e0\u05d0 \u05d1\u05d7\u05e8 \u05de\u05d1\u05d9\u05df \u05d4\u05e8\u05e9\u05d5\u05de\u05d5\u05ea \u05d4\u05d1\u05d0\u05d5\u05ea:"),this.props.text))}}]),a}(n.a.Component),be=(a(232),a(119),a(53)),Ee=a(130),ye=a.n(Ee),ve=a(261),we=a(69),De=a(260),Ne={userName:"",fName:"",lName:"",password:"",bday:new Date,questionsID:[],questionsText:[],questions:[],answerUserQuestion:"",quesionChosen:0,code:"",type:"",questionnairesID:[],questionnairesText:[],gender:"",smoke:"",dateOfSurgery:"",surgeryType:"",education:"",height:"",weight:"",bmi:"",questionnairesChosen:0},ke=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={userName:"",fName:"",lName:"",password:"",bday:new Date,phone:"",questionsID:[],questionsText:[],questions:[],answerUserQuestion:"",code:"",questionnaires:[],questionnairesID:[],questionnairesText:[],questionnairesChosen:0,quesionChosen:0,gender:"",smoke:"",dateOfSurgery:"",surgeryType:"",education:"",height:"",weight:"",bmi:"",surgeryDateDisplay:!1},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.handleReset=a.handleReset.bind(Object(g.a)(a)),a.onSelectQuesionChosen=a.onSelectQuesionChosen.bind(Object(g.a)(a)),a.onSelectGender=a.onSelectGender.bind(Object(g.a)(a)),a.onSelectSmoke=a.onSelectSmoke.bind(Object(g.a)(a)),a.onSelectSurgeryType=a.onSelectSurgeryType.bind(Object(g.a)(a)),a.onSelectEducation=a.onSelectEducation.bind(Object(g.a)(a)),a.onSelectQuestionnairesChosen=a.onSelectQuestionnairesChosen.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"onSelectQuesionChosen",value:function(e){var t=e.target.options.selectedIndex;this.setState({quesionChosen:t})}},{key:"onSelectGender",value:function(e){var t=e.target.options.selectedIndex;this.setState({gender:t})}},{key:"onSelectSmoke",value:function(e){var t=e.target.options.selectedIndex;this.setState({smoke:t})}},{key:"onSelectEducation",value:function(e){var t=e.target.options.selectedIndex;this.setState({education:t})}},{key:"onSelectSurgeryType",value:function(e){var t=e.target.options.selectedIndex;console.log(t),this.setState({surgeryType:t}),3!==t&&0!==t?this.setState({surgeryDateDisplay:!0}):this.setState({surgeryDateDisplay:!1})}},{key:"onSelectQuestionnairesChosen",value:function(e){console.log(e);var t=[],a=this.state.questionnaires;e.forEach((function(e){a.forEach((function(a){e==a.QuestionnaireText&&t.push(a)}))})),this.setState({questionnairesChosen:Array.from(new Set(t))})}},{key:"componentDidMount",value:function(){var e=this,t=[],a=[],s=[];fetch(" https://moda-medic.herokuapp.com/users/getVerifications").then((function(e){return e.json()})).then((function(n){t=n.data;for(var r=0;r<t.length;r++){var i=t[r];a.push(i.QuestionID),s.push(i.QuestionText)}e.setState({questionsID:a,questionsText:s,questions:t})}));var n=[],r=[],i=[];fetch(" https://moda-medic.herokuapp.com/questionnaires/all").then((function(e){return e.json()})).then((function(t){i=t.data;for(var a=0;a<i.length;a++){var s=i[a];0!==s.QuestionnaireID&&6!==s.QuestionnaireID&&5!==s.QuestionnaireID&&(n.push(s.QuestionnaireID),r.push(s.QuestionnaireText))}e.setState({questionnaires:i,questionnairesID:n,questionnairesText:r})}))}},{key:"handleChange",value:function(e){this.setState(Object(D.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new Date(this.state.bday),a=new Date;if("doctor"===this.state.type&&y.a.post(" https://moda-medic.herokuapp.com/users/doctorRegister",{UserID:this.state.userName,Password:this.state.password,First_Name:this.state.fName,Last_Name:this.state.lName,Phone_Number:this.state.phone,BirthDate:t.getTime(),Code:this.state.code,VerificationQuestion:this.state.quesionChosen,VerificationAnswer:this.state.answerUserQuestion,ValidTime:a.getTime()}).then((function(e){"Wrong Code"===e.data.message?window.alert("\u05e7\u05d5\u05d3 \u05d4\u05d0\u05d9\u05de\u05d5\u05ea \u05d0\u05d9\u05e0\u05d5 \u05e0\u05db\u05d5\u05df"):"Taken Email"===e.data.message?window.alert("\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05d3\u05d5\u05d0\u05dc \u05db\u05d1\u05e8 \u05e8\u05e9\u05d5\u05de\u05d4 \u05d1\u05de\u05e2\u05e8\u05db\u05ea"):(window.alert("\u05d4\u05d4\u05e8\u05e9\u05de\u05d4 \u05d1\u05d5\u05e6\u05e2\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4 \u05e0\u05d0 \u05dc\u05d1\u05e6\u05e2 \u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"),window.location.reload(!1))})),"patient"===this.state.type){var s,n,r,i,o=new Date(this.state.dateOfSurgery);1==this.state.gender?s="\u05e0\u05e7\u05d1\u05d4":2==this.state.gender&&(s="\u05d6\u05db\u05e8"),1==this.state.smoke?n="\u05de\u05e2\u05e9\u05df":2==this.state.smoke&&(n="\u05dc\u05d0 \u05de\u05e2\u05e9\u05df"),1==this.state.surgeryType?r="\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d3\u05d7\u05d5\u05e3":2==this.state.surgeryType?r="\u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05ea\u05d5\u05db\u05e0\u05df":3==this.state.surgeryType&&(r="\u05dc\u05dc\u05d0 \u05e0\u05d9\u05ea\u05d5\u05d7");var l={1:"\u05d4\u05e9\u05db\u05dc\u05d4 \u05d0\u05e7\u05d3\u05de\u05d0\u05d9\u05ea",2:"\u05d4\u05e9\u05db\u05dc\u05d4 \u05ea\u05d9\u05db\u05d5\u05e0\u05d9\u05ea",3:"10-12 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3",4:"6-9 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3",5:"5 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3 \u05d0\u05d5 \u05e4\u05d7\u05d5\u05ea",6:"\u05dc\u05d0 \u05de\u05e2\u05d5\u05e0\u05d9\u05d9\u05df \u05dc\u05e2\u05e0\u05d5\u05ea"};for(var c in l)c==this.state.education&&(i=l[c]);var u=Number(this.state.height/100),h=String(Number(this.state.weight)/Math.pow(u,2));y.a.post(" https://moda-medic.herokuapp.com/users/patientRegister",{UserID:this.state.userName,Password:this.state.password,First_Name:"\u05de\u05d8\u05d5\u05e4\u05dc",Last_Name:this.state.userName,Phone_Number:"",Gender:s,Smoke:n,DateOfSurgery:o.getTime(),SurgeryType:r,Education:i,Height:this.state.height,Weight:this.state.weight,BMI:h,BMI_NUMBER:parseFloat(h),BirthDate:t.getTime(),Code:this.state.code,Questionnaires:this.state.questionnairesChosen,VerificationQuestion:this.state.quesionChosen,VerificationAnswer:this.state.answerUserQuestion,ValidTime:a.getTime()}).then((function(e){"Wrong Code"===e.data.message?window.alert("\u05e7\u05d5\u05d3 \u05d4\u05d0\u05d9\u05de\u05d5\u05ea \u05d0\u05d9\u05e0\u05d5 \u05e0\u05db\u05d5\u05df"):"Taken Email"===e.data.message?window.alert("\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05d3\u05d5\u05d0\u05dc \u05db\u05d1\u05e8 \u05e8\u05e9\u05d5\u05de\u05d4 \u05d1\u05de\u05e2\u05e8\u05db\u05ea"):(window.alert("\u05d4\u05d4\u05e8\u05e9\u05de\u05d4 \u05d1\u05d5\u05e6\u05e2\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4 \u05e0\u05d0 \u05dc\u05d1\u05e6\u05e2 \u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"),window.location.reload(!1))}))}}},{key:"handleReset",value:function(e){var t=this;this.setState(Ne);var a=[],s=[],n=[];fetch(" https://moda-medic.herokuapp.com/users/getVerifications").then((function(e){return e.json()})).then((function(e){a=e.data,console.log(a);for(var r=0;r<a.length;r++){var i=a[r];s.push(i.QuestionID),n.push(i.QuestionText)}t.setState({questionsID:s,questionsText:n,questions:a})}));var r=[],i=[],o=[];fetch(" https://moda-medic.herokuapp.com/questionnaires/all").then((function(e){return e.json()})).then((function(e){o=e.data;for(var a=0;a<o.length;a++){var s=o[a];r.push(s.QuestionnaireID),i.push(s.QuestionnaireText)}t.setState({questionnaires:o,questionnairesID:r,questionnairesText:i})}))}},{key:"isDoctor",value:function(){this.setState({type:"doctor"})}},{key:"isPatient",value:function(){this.setState({type:"patient"})}},{key:"render",value:function(){var e=this;a(233);var t=this.state.questionsText.map((function(e){return n.a.createElement("option",{key:e},e)})),s=this.state.questionnairesText;0===s.length&&(this.componentDidMount(),s=this.state.questionnairesText);var r=[];s.forEach((function(e){r.push(e)}));var i=[n.a.createElement("option",null),n.a.createElement("option",null,"\u05e0\u05e7\u05d1\u05d4"),n.a.createElement("option",null,"\u05d6\u05db\u05e8")],o=[n.a.createElement("option",null),n.a.createElement("option",null,"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d3\u05d7\u05d5\u05e3"),n.a.createElement("option",null,"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05ea\u05d5\u05db\u05e0\u05df"),n.a.createElement("option",null,"\u05dc\u05dc\u05d0 \u05e0\u05d9\u05ea\u05d5\u05d7")],l=[n.a.createElement("option",null),n.a.createElement("option",null,"\u05de\u05e2\u05e9\u05df"),n.a.createElement("option",null,"\u05dc\u05d0 \u05de\u05e2\u05e9\u05df")],c=[n.a.createElement("option",null),n.a.createElement("option",null,"\u05d4\u05e9\u05db\u05dc\u05d4 \u05d0\u05e7\u05d3\u05de\u05d0\u05d9\u05ea"),n.a.createElement("option",null,"\u05d4\u05e9\u05db\u05dc\u05d4 \u05ea\u05d9\u05db\u05d5\u05e0\u05d9\u05ea"),n.a.createElement("option",null,"10-12 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3"),n.a.createElement("option",null,"6-9 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3"),n.a.createElement("option",null,"5 \u05e9\u05e0\u05d5\u05ea \u05dc\u05d9\u05de\u05d5\u05d3 \u05d0\u05d5 \u05e4\u05d7\u05d5\u05ea"),n.a.createElement("option",null,"\u05dc\u05d0 \u05de\u05e2\u05d5\u05e0\u05d9\u05d9\u05df \u05dc\u05e2\u05e0\u05d5\u05ea")],u=(new Date).toISOString().split("T")[0];return n.a.createElement("div",null,n.a.createElement("label",{className:"buttonsChoose"},n.a.createElement(be.a,{style:{width:150,floatButtom:"auto"},className:"docbutton",variant:"info",onClick:function(){return e.isDoctor()}}," \u05d3\u05d5\u05e7\u05d8\u05d5\u05e8 "),"                                                                ",n.a.createElement(be.a,{style:{width:150},className:"docbutton",variant:"info",onClick:function(){return e.isPatient()}}," \u05de\u05d8\u05d5\u05e4\u05dc ")),"doctor"===this.state.type?n.a.createElement("form",{onSubmit:this.handleSubmit,onReset:this.handleReset,id:"new_user_form"},n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{for:"email",className:"labels_in_add_user"},'\u05db\u05ea\u05d5\u05d1\u05ea \u05d3\u05d5\u05d0"\u05dc'),n.a.createElement("input",{className:"inputs_in_add_user",name:"userName",type:"email",value:this.state.userName,onChange:function(t){return e.handleChange(t)},required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"),n.a.createElement("input",{className:"inputs_in_add_user",name:"fName",type:"text",value:this.state.fName,minLength:"2",maxLength:"20",onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4 "),n.a.createElement("input",{className:"inputs_in_add_user",name:"lName",type:"text",value:this.state.lName,minLength:"2",maxLength:"20",onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e1\u05d9\u05e1\u05de\u05d4 "),n.a.createElement("input",{className:"inputs_in_add_user",name:"password",type:"password",minlength:"8",maxLength:"12",pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$",value:this.state.password,onChange:this.handleChange,message:"\u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05e6\u05e8\u05d9\u05db\u05d4 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 8 \u05ea\u05d5\u05d5\u05d9\u05dd, \u05dc\u05e4\u05d7\u05d5\u05ea \u05ea\u05d5 \u05d0\u05d7\u05d3 \u05d1\u05d0\u05d5\u05ea \u05d0\u05e0\u05d2\u05dc\u05d9\u05ea \u05e7\u05d8\u05e0\u05d4, \u05ea\u05d5 \u05d0\u05d7\u05d3 \u05d1\u05d0\u05d5\u05ea \u05d0\u05e0\u05d2\u05dc\u05d9\u05ea \u05d0\u05d5\u05ea \u05d0\u05e0\u05d2\u05dc\u05d9\u05ea \u05d2\u05d3\u05d5\u05dc\u05d4 \u05d5\u05ea\u05d5 \u05d0\u05d7\u05d3 \u05db\u05de\u05e1\u05e4\u05e8.",required:!0}),n.a.createElement(De.a,{title:"\u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05e6\u05e8\u05d9\u05db\u05d4 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 8 \u05ea\u05d5\u05d5\u05d9\u05dd,\u05d0\u05d5\u05ea \u05d0\u05e0\u05d2\u05dc\u05d9\u05ea \u05e7\u05d8\u05e0\u05d4, \u05d0\u05d5\u05ea \u05d0\u05e0\u05d2\u05dc\u05d9\u05ea \u05d2\u05d3\u05d5\u05dc\u05d4 \u05d5\u05de\u05e1\u05e4\u05e8"},n.a.createElement(ve.a,null,n.a.createElement(we.a,null)))),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df"),n.a.createElement("input",{className:"inputs_in_add_user",name:"phone",type:"tel",id:"phone",pattern:"[0-9]{10}",value:this.state.phone,onChange:this.handleChange,required:!0}),n.a.createElement(De.a,{title:"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df \u05d4\u05de\u05db\u05d9\u05dc \u05de\u05e1\u05e4\u05e8\u05d9\u05dd \u05d1\u05dc\u05d1\u05d3"},n.a.createElement(ve.a,null,n.a.createElement(we.a,null)))),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4"),n.a.createElement("input",{className:"inputs_in_add_user",name:"bday",type:"date",max:u,value:this.state.bday,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e7\u05d5\u05d3 \u05d0\u05d9\u05de\u05d5\u05ea "),n.a.createElement("input",{className:"inputs_in_add_user",name:"code",type:"text",value:this.state.code,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05d0\u05dc\u05ea \u05d0\u05d9\u05de\u05d5\u05ea "),n.a.createElement("select",{className:"select_in_add_user",onChange:this.onSelectQuesionChosen},t)),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05ea\u05e9\u05d5\u05d1\u05d4 "),n.a.createElement("input",{className:"inputs_in_add_user",name:"answerUserQuestion",type:"text",value:this.state.answerUserQuestion,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("input",{type:"submit",value:"\u05d4\u05d9\u05e8\u05e9\u05dd",className:"submit_and_reset_buttons"})),n.a.createElement("br",null),n.a.createElement("br",null)):null,"patient"===this.state.type?n.a.createElement("form",{onSubmit:this.handleSubmit,onReset:this.handleReset,id:"new_user_form"},n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{for:"email",className:"labels_in_add_user"},"\u05de\u05d6\u05d4\u05d4 \u05de\u05d8\u05d5\u05e4\u05dc: "),n.a.createElement("input",{className:"inputs_in_add_user",name:"userName",type:"text",value:this.state.userName,onChange:function(t){return e.handleChange(t)},required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e1\u05d9\u05e1\u05de\u05d4 "),n.a.createElement("input",{className:"inputs_in_add_user",name:"password",type:"password",minlength:"8",maxLength:"12",pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$",value:this.state.password,onChange:this.handleChange,required:!0}),n.a.createElement(De.a,{title:"\u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05e6\u05e8\u05d9\u05db\u05d4 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 8 \u05ea\u05d5\u05d5\u05d9\u05dd,\u05d0\u05d5\u05ea \u05d0\u05e0\u05d2\u05dc\u05d9\u05ea \u05e7\u05d8\u05e0\u05d4, \u05d0\u05d5\u05ea \u05d0\u05e0\u05d2\u05dc\u05d9\u05ea \u05d2\u05d3\u05d5\u05dc\u05d4 \u05d5\u05de\u05e1\u05e4\u05e8"},n.a.createElement(ve.a,null,n.a.createElement(we.a,null)))),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4"),n.a.createElement("input",{className:"inputs_in_add_user",name:"bday",type:"date",max:u,value:this.state.bday,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},'\u05de\u05e9\u05e7\u05dc (\u05e7"\u05d2) '),n.a.createElement("input",{className:"inputs_in_add_user",name:"weight",type:"number",value:this.state.weight,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},'\u05d2\u05d5\u05d1\u05d4 (\u05e1"\u05de) '),n.a.createElement("input",{className:"inputs_in_add_user",name:"height",type:"number",minLength:"3",value:this.state.height,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05de\u05d9\u05df "),n.a.createElement("select",{className:"select_in_add_user",onChange:this.onSelectGender},i)),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05de\u05e2\u05e9\u05df "),n.a.createElement("select",{className:"select_in_add_user",onChange:this.onSelectSmoke},l)),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05d4\u05e9\u05db\u05dc\u05d4 "),n.a.createElement("select",{className:"select_in_add_user",onChange:this.onSelectEducation},c)),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e1\u05d5\u05d2 \u05e0\u05d9\u05ea\u05d5\u05d7 "),n.a.createElement("select",{className:"select_in_add_user",onChange:this.onSelectSurgeryType},o)),this.state.surgeryDateDisplay&&n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05ea\u05d0\u05e8\u05d9\u05da \u05e0\u05d9\u05ea\u05d5\u05d7"),n.a.createElement("input",{className:"inputs_in_add_user",name:"dateOfSurgery",type:"date",value:this.state.DateOfSurgery,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e7\u05d5\u05d3 \u05d0\u05d9\u05de\u05d5\u05ea "),n.a.createElement("input",{className:"inputs_in_add_user",name:"code",type:"text",value:this.state.code,onChange:this.handleChange,required:!0}),n.a.createElement(De.a,{title:"\u05e7\u05d5\u05d3 \u05d4\u05d0\u05d9\u05de\u05d5\u05ea \u05e9\u05d4\u05d5\u05d2\u05d3\u05e8 \u05de\u05d1\u05d9\u05ea \u05d4\u05d7\u05d5\u05dc\u05d9\u05dd \u05d4\u05de\u05d8\u05e4\u05dc"},n.a.createElement(ve.a,null,n.a.createElement(we.a,null)))),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05d0\u05dc\u05ea \u05d0\u05d9\u05de\u05d5\u05ea "),n.a.createElement("select",{className:"select_in_add_user",onChange:this.onSelectQuesionChosen},t)),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05ea\u05e9\u05d5\u05d1\u05d4 "),n.a.createElement("input",{className:"inputs_in_add_user",name:"answerUserQuestion",type:"text",value:this.state.answerUserQuestion,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"divs_in_add_drop"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05e8\u05e4\u05d5\u05d0\u05d9\u05d9\u05dd "),n.a.createElement(ye.a,{id:"add_user_dropdown",options:r,handleOnChange:function(t){e.onSelectQuestionnairesChosen(t)},name:"questionnaires",placeholder:"\u05dc\u05d0 \u05e0\u05d1\u05d7\u05e8 \u05e9\u05d0\u05dc\u05d5\u05df",style:{borderColor:"black",width:80}})),n.a.createElement("div",{style:{width:50,height:300}},n.a.createElement("input",{type:"submit",value:"\u05d4\u05d9\u05e8\u05e9\u05dd",className:"submit_and_reset_buttons"})),n.a.createElement("br",null),n.a.createElement("br",null)):null)}}]),s}(s.Component),Se=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={ID:"",password:"",wrong:!1,showPopup:!1,name:"",doctor:!1,patient:!1,showID:!1,showWrongUser:!1,showQ:!1,showChange:!1,id:"",question:"",answer:"",date:"",wrongA:!1,diff:!1,token:"",pass:"",pass2:"",remember:!1,register:!1},localStorage.getItem("doctor")?(sessionStorage.setItem("token",localStorage.getItem("token")),sessionStorage.setItem("name",localStorage.getItem("name")),sessionStorage.setItem("type",localStorage.getItem("type")),sessionStorage.setItem("doctor",localStorage.getItem("doctor"))):localStorage.getItem("patient")&&(sessionStorage.setItem("token",localStorage.getItem("token")),sessionStorage.setItem("name",localStorage.getItem("name")),sessionStorage.setItem("type",localStorage.getItem("type")),sessionStorage.setItem("patient",localStorage.getItem("patient"))),a.change=a.change.bind(Object(g.a)(a)),a.sumbit=a.sumbit.bind(Object(g.a)(a)),a.togglePopup=a.togglePopup.bind(Object(g.a)(a)),a.forget=a.forget.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.handle=a.handle.bind(Object(g.a)(a)),a.changePass=a.changePass.bind(Object(g.a)(a)),a.register=a.register.bind(Object(g.a)(a)),a}return Object(l.a)(s,[{key:"change",value:function(e){this.setState(Object(D.a)({},e.target.name,e.target.value))}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup,wrongA:!1,diff:!1})}},{key:"forget",value:function(e){e.preventDefault(),this.setState({showID:!0,showWrongUser:!1,showQ:!1,showChange:!1,register:!1}),this.togglePopup()}},{key:"handleSubmit",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault()," https://moda-medic.herokuapp.com/users/forgotPassword",e.next=4,y.a.post(" https://moda-medic.herokuapp.com/users/forgotPassword",{UserID:this.state.id});case 4:if(null!==(a=e.sent).data.data){e.next=9;break}this.setState({wrongA:!0}),e.next=14;break;case 9:return s=a.data.data,e.next=12,y.a.get(" https://moda-medic.herokuapp.com/users/getVerificationQuestion?QuestionID="+s);case 12:n=e.sent,this.setState({showID:!1,showWrongUser:!1,showQ:!0,showChange:!1,register:!1,wrongA:!1,question:n.data.data.QuestionText});case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,s,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=new Date(this.state.date),s=a.getTime()," https://moda-medic.herokuapp.com/users/checkVerification",e.next=6,y.a.post(" https://moda-medic.herokuapp.com/users/checkVerification",{UserID:this.state.id,VerificationAnswer:this.state.answer,BirthDate:s});case 6:n=e.sent,(r=n.data.data)?this.setState({showID:!1,showWrongUser:!1,showQ:!1,showChange:!0,register:!1,token:r}):this.setState({wrongA:!0});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changePass",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.state.pass===this.state.pass2){e.next=5;break}this.setState({diff:!0}),e.next=11;break;case 5:return a=this.state.token," https://moda-medic.herokuapp.com/users/passwordChangeCheck/changePassword",e.next=9,y.a.post(" https://moda-medic.herokuapp.com/users/passwordChangeCheck/changePassword",{NewPassword:this.state.pass},{headers:{"Content-Type":"application/json","x-auth-token":a}});case 9:e.sent.data.message&&(window.alert("\u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05e9\u05d5\u05e0\u05ea\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),this.togglePopup());case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(e){this.setState({register:!0,showID:!1,showWrongUser:!1,showQ:!1,showChange:!1}),this.togglePopup()}},{key:"sumbit",value:function(e){var t=this;e.preventDefault(),y.a.post(" https://moda-medic.herokuapp.com/users/login",{UserID:this.state.ID,Password:this.state.password}).then((function(e){null==e.data.data?t.setState({wrong:!0}):"patient"===e.data.data.type[0]?(sessionStorage.setItem("token",e.data.data.token),sessionStorage.setItem("name",e.data.data.name),sessionStorage.setItem("type",e.data.data.type),t.setState({patient:sessionStorage.getItem("type").includes("patient")}),sessionStorage.setItem("patient",t.state.patient),window.location.reload(!1),t.state.remember&&(localStorage.setItem("token",e.data.data.token),localStorage.setItem("name",e.data.data.name),localStorage.setItem("type",e.data.data.type),localStorage.setItem("patient",t.state.patient))):(sessionStorage.setItem("token",e.data.data.token),sessionStorage.setItem("name",e.data.data.name),sessionStorage.setItem("type",e.data.data.type),t.setState({doctor:sessionStorage.getItem("type").includes("doctor")}),sessionStorage.setItem("doctor",t.state.doctor),window.location.reload(!1),t.state.remember&&(localStorage.setItem("token",e.data.data.token),localStorage.setItem("name",e.data.data.name),localStorage.setItem("type",e.data.data.type),localStorage.setItem("doctor",t.state.doctor)))}))}},{key:"render",value:function(){var e=this;return a(119),n.a.createElement("div",null,n.a.createElement("form",{onSubmit:function(t){return e.sumbit(t)}},n.a.createElement("label",null,"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9:"),n.a.createElement("input",{type:"text",className:"inputs",name:"ID",onChange:function(t){return e.change(t)},value:this.state.ID,required:!0}),n.a.createElement("label",null,"\u05e1\u05d9\u05e1\u05de\u05d4:"),n.a.createElement("input",{type:"password",className:"inputs",name:"password",onChange:function(t){return e.change(t)},value:this.state.password,required:!0}),this.state.wrong?n.a.createElement("label",{id:"wrong"},"\u05e9\u05dd \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05d0\u05d5 \u05d4\u05e1\u05d9\u05e1\u05de\u05d4 \u05dc\u05d0 \u05e0\u05db\u05d5\u05e0\u05d9\u05dd"):n.a.createElement("label",null),n.a.createElement("input",{type:"checkbox",id:"remember",name:"remember",onChange:function(t){return e.change(t)},value:this.state.remember}),n.a.createElement("label",null,"\u05d6\u05db\u05d5\u05e8 \u05d0\u05d5\u05ea\u05d9"),n.a.createElement("button",{type:"submit"},"\u05d4\u05ea\u05d7\u05d1\u05e8"),n.a.createElement("label",{id:"forget",onClick:function(t){return e.forget(t)}},"\u05e9\u05db\u05d7\u05ea \u05e1\u05d9\u05e1\u05de\u05d4?"),n.a.createElement("label",{id:"register",onClick:function(t){return e.register(t)}},"\u05d4\u05d9\u05e8\u05e9\u05dd")),this.state.showPopup?n.a.createElement(xe,{text:this.state.name,closePopup:this.togglePopup.bind(this),showID:this.state.showID,showWrongUser:this.state.showWrongUser,showQ:this.state.showQ,showChange:this.state.showChange,handleSubmit:this.handleSubmit.bind(this),change:this.change.bind(this),handle:this.handle.bind(this),question:this.state.question,wrongA:this.state.wrongA,diff:this.state.diff,changePass:this.changePass.bind(this),register:this.state.register}):null)}}]),s}(s.Component),xe=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=(new Date).toISOString().split("T")[0];return n.a.createElement("div",null,this.props.showID?n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_innerEmail"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),n.a.createElement("h3",{id:"h3"},"\u05e9\u05db\u05d7\u05ea\u05d9 \u05e1\u05d9\u05e1\u05de\u05d0"),n.a.createElement("form",{onSubmit:this.props.handleSubmit},n.a.createElement("label",{id:"lid"},"\u05d0\u05e0\u05d0 \u05d4\u05d6\u05df \u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9:"),n.a.createElement("input",{type:"text",className:"inputs",name:"id",id:"id",onChange:this.props.change,required:!0}),this.props.wrongA?n.a.createElement("label",{className:"error"},"\u05e9\u05dd \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05e7\u05d9\u05d9\u05de\u05ea"):null,n.a.createElement("div",{className:"lineC"},n.a.createElement("input",{type:"submit",value:"\u05d4\u05de\u05e9\u05da",id:"con"}))))):null,this.props.showQ?n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_innerEmail"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),n.a.createElement("h3",{id:"h3"},"\u05e9\u05db\u05d7\u05ea\u05d9 \u05e1\u05d9\u05e1\u05de\u05d0"),n.a.createElement("form",{onSubmit:this.props.handle},n.a.createElement("div",{className:"lineC"},n.a.createElement("label",{id:"lq"},this.props.question)),n.a.createElement("div",{className:"lineC"},n.a.createElement("input",{type:"text",name:"answer",id:"answer",onChange:this.props.change,required:!0})),n.a.createElement("div",{className:"lineC"},n.a.createElement("label",{id:"ldate"},"\u05d4\u05db\u05e0\u05e1 \u05d0\u05ea \u05ea\u05d0\u05e8\u05d9\u05da \u05d9\u05d5\u05dd \u05d4\u05d5\u05dc\u05d3\u05ea \u05e9\u05dc\u05da:")),n.a.createElement("div",{className:"lineC"},n.a.createElement("input",{type:"date",name:"date",id:"date",max:e,onChange:this.props.change,required:!0})),n.a.createElement("div",{className:"lineC"},this.props.wrongA?n.a.createElement("label",{className:"error"},"\u05e9\u05d0\u05dc\u05ea \u05d0\u05d9\u05de\u05d5\u05ea \u05dc\u05d0 \u05e0\u05db\u05d5\u05e0\u05d4 \u05d0\u05d5 \u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4 \u05e9\u05d2\u05d5\u05d9"):null),n.a.createElement("div",{className:"lineC"},n.a.createElement("input",{type:"submit",value:"\u05d4\u05de\u05e9\u05da",id:"con"}))))):null,this.props.showChange?n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_innerEmail"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),n.a.createElement("h3",{id:"h3"},"\u05e9\u05db\u05d7\u05ea\u05d9 \u05e1\u05d9\u05e1\u05de\u05d0"),n.a.createElement("form",{onSubmit:this.props.changePass},n.a.createElement("label",{id:"lpass"},"\u05e1\u05d9\u05e1\u05de\u05d0 \u05d7\u05d3\u05e9\u05d4:"),n.a.createElement("input",{type:"password",className:"inputs",name:"pass",id:"pass",onChange:this.props.change,required:!0}),n.a.createElement("label",{id:"lpass2"},"\u05d4\u05e7\u05dc\u05d3 \u05d0\u05ea \u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05de\u05d7\u05d3\u05e9:"),n.a.createElement("input",{type:"password",className:"inputs",name:"pass2",id:"pass2",onChange:this.props.change,required:!0}),this.props.diff?n.a.createElement("label",{className:"error"},"\u05d4\u05e1\u05d9\u05e1\u05de\u05d0\u05d5\u05ea \u05e9\u05d5\u05e0\u05d5\u05ea"):null,n.a.createElement("input",{type:"submit",value:"\u05e9\u05dc\u05d7",id:"send"})))):null,this.props.register?n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_innerAdd"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),n.a.createElement("br",null),n.a.createElement("h3",null,"\u05d4\u05e8\u05e9\u05de\u05d4"),n.a.createElement(ke,null))):null)}}]),a}(n.a.Component),Ie=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=window.location.pathname;return e.includes("search")&&(window.location.pathname=e.replace("search","")),n.a.createElement("div",null,n.a.createElement("div",{className:"Home"},sessionStorage.getItem("token")?n.a.createElement(p.a,{from:e,to:"/search"}):null,n.a.createElement("br",null),n.a.createElement("header",{className:"Home-header"},n.a.createElement(b,null),n.a.createElement(Se,null))))}}]),a}(s.Component),_e=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return document.body.setAttribute("dir","rtl"),n.a.createElement(h.a,{basename:window.location.pathname||""},n.a.createElement(p.d,null,n.a.createElement(p.b,{exact:!0,path:"/"},n.a.createElement(Ie,null)),n.a.createElement(p.b,{exact:!0,path:"/search"},n.a.createElement(fe,{component:"search"})),n.a.createElement(p.b,{exact:!0,path:"/messages"},n.a.createElement(fe,{component:"messages"})),n.a.createElement(p.b,{exact:!0,path:"/questionnaires"},n.a.createElement(fe,{component:"questionnaires"})),n.a.createElement(p.b,{exact:!0,path:"/instructions"},n.a.createElement(fe,{component:"instructions"})),n.a.createElement(p.b,{exact:!0,path:"/exercises"},n.a.createElement(fe,{component:"exercises"})),n.a.createElement(p.b,{path:"/userQuestionnaire/:QuestionnaireID",render:function(e){return n.a.createElement(fe,Object.assign({component:"survey"},e))}})))}}]),a}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(_e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},72:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){}},[[140,1,2]]]);
//# sourceMappingURL=main.241d129c.chunk.js.map